<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_indicadores.xhtml">

    <ui:define name="head">
        <title>Cobra - Home Indicadores</title>
        <h:outputScript name="amcharts.js" library="amcharts"/>

        
    </ui:define>

    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml" />
    </ui:define>
    <ui:define name="menu_lateral">
        <h:form >
            <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>                    
        </h:form>
        <h:form>
            <ui:include src="/facelets/menu_lateral_indicadores.xhtml"/>
        </h:form>

    </ui:define>
    <ui:define name="body">
        <h:form id="form_indicadores">
            <h:panelGrid columns="1">
                <h:graphicImage  stylestyleClassikont-hgi-dashboardsiente"   url="/resources/imgs/elementos_indicadores/dashboardsiente_r1_c1.png"/>

                <h:panelGrid columns="2" >
                    <h:outputText  stylestyleClassikont-hot-fechaconsolidacion"   value="Fecha de consolidación:"/>

                    <h:selectOneMenu value="#{GraficarIndicadores.filtrolocalidad.idconsolidadoselec}"  >
                        <f:selectItems value="#{GraficarIndicadores.itemsCortes}"/>

                    </h:selectOneMenu>
                    <h:outputText  stylestyleClassikont-hot-indicador"   value="Indicador: "/>                           

                    <h:selectOneMenu value="#{GraficarIndicadores.indicadorselec}" rendered="#{GraficarIndicadores.seleccionmenu==0}">
                        <f:selectItem itemValue="0" itemLabel="Presupuesto en ejecución" />
                        <a4j:ajax event="change" listener="#{GraficarIndicadores.cambioIndicador}" render="cmbLoc, cmbOpcion"/>
                    </h:selectOneMenu>
                    <h:selectOneMenu value="#{GraficarIndicadores.indicadorselec}" rendered="#{GraficarIndicadores.seleccionmenu==1}">
                        <f:selectItem itemValue="2" itemLabel="Avance atención humanitaria" />
                        <a4j:ajax event="change" listener="#{GraficarIndicadores.cambioIndicador}" render="cmbLoc, cmbOpcion"/>
                    </h:selectOneMenu>
                    <h:selectOneMenu value="#{GraficarIndicadores.indicadorselec}" rendered="#{GraficarIndicadores.seleccionmenu==2}">
                        <f:selectItem itemValue="3" itemLabel="Avance #{var.proyecto}s con Entidades Territoriales en el País" />
                        <a4j:ajax event="change" listener="#{GraficarIndicadores.cambioIndicador}" render="cmbLoc, cmbOpcion"/>
                    </h:selectOneMenu>
                    <h:selectOneMenu value="#{GraficarIndicadores.indicadorselec}" rendered="#{GraficarIndicadores.seleccionmenu==3}">
                        <f:selectItem itemValue="4" itemLabel="Avance #{var.proyecto}s con Entidades Nacionales en el País" />
                        <f:selectItem itemValue="5" itemLabel="Avance de ejecución financiera de #{var.proyecto}s con Entidades Nacionales en el País" />

                        <f:selectItem itemValue="6" itemLabel="Avance Convenios con Entidades Nacionales en el País" />
                        <a4j:ajax event="change" listener="#{GraficarIndicadores.cambioIndicador}" render="cmbLoc, cmbOpcion"/>
                    </h:selectOneMenu>

                    <h:panelGroup id="cmbLoc" >

                        <h:selectOneMenu id="cmbselec" value="#{GraficarIndicadores.filtrolocalidad.filtroselec}"  rendered="#{GraficarIndicadores.filtrolocalidad.verfiltroloc}" onchange="submit()" >
                            <f:selectItem itemLabel="#{var.zonaespec}" itemValue="1"/>
                            <f:selectItem itemLabel="#{var.localidad}" itemValue="0"/>


                        </h:selectOneMenu>
                    </h:panelGroup>
                    <h:panelGrid id="cmbOpcion" columns="2">
                        <h:panelGrid id="panelcombosindica" columns="3" rendered="#{GraficarIndicadores.filtrolocalidad.verfiltroloc}">

                            <h:panelGrid columns="3" rendered="#{GraficarIndicadores.filtrolocalidad.filtroselec !=1}">
                                <h:panelGroup >
                                    <h:selectOneMenu id="cmbdeptos" value="#{GraficarIndicadores.filtrolocalidad.deptoselec}"    >
                                        <f:selectItem itemValue="0" itemLabel="Todos"/>
                                        <f:selectItems value="#{GraficarIndicadores.sedeptos}" />
                                        <a4j:ajax event="change" listener="#{GraficarIndicadores.llenarMunicipios}" render="municipioincomindica"/>
                                    </h:selectOneMenu>
                                </h:panelGroup>
                                <interkont:spacer width="10"/>
                                <h:panelGroup id="municipioincomindica" >
                                    <h:selectOneMenu id="cmbmuni" value="#{GraficarIndicadores.filtrolocalidad.muniselec}"  >
                                        <f:selectItem itemValue="0" itemLabel="Todos"/>
                                        <f:selectItems value="#{GraficarIndicadores.semuni}" />
                                    </h:selectOneMenu>
                                </h:panelGroup>
                            </h:panelGrid>

                            <h:panelGrid columns="3" rendered="#{GraficarIndicadores.filtrolocalidad.filtroselec == 1}" >
                                <h:panelGroup >
                                    <h:selectOneMenu value="#{GraficarIndicadores.filtrolocalidad.intzona}"  >
                                        <f:selectItem itemValue="0" itemLabel="Todos"/>
                                        <f:selectItems value="#{GraficarIndicadores.zonaespecifica}"/>
                                    </h:selectOneMenu>
                                </h:panelGroup>
                            </h:panelGrid>

                        </h:panelGrid>
                        <h:commandButton value="Graficar" action="#{GraficarIndicadores.iniciarGrafico}"/>
                    </h:panelGrid>

                </h:panelGrid>
            </h:panelGrid>

            <h:panelGroup id="gpIndicadores">
                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==0}">
                    <h:outputText  stylestyleClassikont-hot-piepresupuesto"   value="#{GraficarIndicadores.piepresupuesto.scriptPie}" escape="false"/>
                    <div id="presupuestoejec" ></div>
                </h:panelGroup>
                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==1}">

                    <rich:dataTable id="tablaConsolGen"   var="fila" 
                                    value="#{GraficarIndicadores.listaconsolidadosgen}"
                                    >
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column colspan="3">                                            
                                    <h:outputText  stylestyleClassikont-hot-estadoavance"   value="Estado de avance y resultados"/>                                           
                                </rich:column>
                                <rich:column colspan="6">                                            
                                    <h:outputText  stylestyleClassikont-hot-nacional"   value="Nacional"/>                                           
                                </rich:column>

                                <rich:column colspan="1" breakRowBefore="true">                                            
                                    <h:outputText  stylestyleClassikont-hot-space"   value=" "/>                                           
                                </rich:column>

                                <rich:column colspan="1" >                                            
                                    <h:outputText  stylestyleClassikont-hot-aprovado"   value="Aprobado miles de pesos"/>                                           
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-tipo"   value="Tipo"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-numero"   value="Número"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-terminados"   value="Terminados"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-giroporcentaje"   value="Giro %"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-porcentajeavancefisico"   value="% Avance físico"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-resultadosfamilias"   value="Resultados familias atendidas"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-empleosdirectos"   value="Empleos directos"/>                                            
                                </rich:column>

                            </rich:columnGroup>
                        </f:facet>
                        <rich:columnGroup id="cuerpo">
                            <rich:column>

                                <h:outputText  stylestyleClassikont-hot-etiqueta" value="#{fila.etiqueta}" />
                            </rich:column>
                            <rich:column>                                        
                                <h:panelGrid columns="2">
                                    <h:outputText  stylestyleClassikont-hot-valoraprobado "   value="#{fila.valorAprobado}"  >
                                        <f:convertNumber pattern="$###,###"/>
                                    </h:outputText>
                                    <h:outputText  stylestyleClassikont-hot-etiquetatotal"   value="#{fila.graf3d.scriptbarra3d}" escape="false" rendered="#{fila.etiqueta!='Total'}"/>
                                </h:panelGrid>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-tipoetiqueta"  value="#{fila.id.tipoEtiqueta}"/>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-numetiqueta" value="#{fila.numEtiquetas}"/>

                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-numetiquetater" value="#{fila.numEtiquetasTer}" >

                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-numgiro"  value="#{fila.numGiro}" > 
                                    <f:convertNumber pattern="###,###.##" />
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-numavancefisico" value="#{fila.numAvanFisico}" > 
                                    <f:convertNumber pattern="###,###.##" />
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-famatendi" value="#{fila.famAtendi}" >

                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-empledirec" value="#{fila.empleDirec}" >

                                </h:outputText>
                            </rich:column>

                        </rich:columnGroup>

                    </rich:dataTable>

                </h:panelGroup>



                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==2}">

                    <rich:dataTable id="tablaAvanceHUm"   var="fila" 
                                    value="#{GraficarIndicadores.listaavanceshum}"
                                    >
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column colspan="2">                                            
                                    <h:outputText  stylestyleClassikont-hot-space2"   value=" "/>                                           
                                </rich:column>
                                <rich:column colspan="4">                                            
                                    <h:outputText  stylestyleClassikont-hot-primergiro"   value="Primer giro"/>                                           
                                </rich:column>
                                <rich:column colspan="4">                                            
                                    <h:outputText  stylestyleClassikont-hot-segundogiro"   value="Segundo giro"/>                                           
                                </rich:column>
                                <rich:column colspan="4">                                            
                                    <h:outputText  stylestyleClassikont-hot-tercergiro"   value="Tercer giro"/>                                           
                                </rich:column>
                                <rich:column colspan="1" breakRowBefore="true">                                            
                                    <h:outputText  stylestyleClassikont-hot-space3"   value=" "/>                                           
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-aprovadomillones"   value="Aprobado en  millones de pesos"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-recursosaprobados"   value="Recursos aprobados"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatender"   value="Familias atender"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatendidas"   value="Familias atendidas"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-porcentajeavance"   value="% avance"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-recursosaprobados2"   value="Recursos aprobados"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatender2"   value="Familias atender"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatendidas2"   value="Familias atendidas"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-porcentajeavance2"   value="% avance"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-recursosaprobados3"   value="Recursos aprobados"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatender3"   value="Familias atender"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-familiasatendidas3"   value="Familias atendidas"/>                                            
                                </rich:column>
                                <rich:column>                                            
                                    <h:outputText  stylestyleClassikont-hot-porcentajeavance3"   value="% avance"/>                                            
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                        <rich:columnGroup id="cuerpo">
                            <rich:column>
                                <h:outputText  stylestyleClassikont-hot-etiqueta2" value="#{fila.etiqueta}" />
                            </rich:column>
                            <rich:column>                                        
                                <h:panelGrid columns="2">
                                    <h:outputText  stylestyleClassikont-hot-pgvaloraprobado" value="#{fila.pgValorAprobado}"  >
                                        <f:convertNumber pattern="$###,###"/>
                                    </h:outputText>
                                    <h:outputText  stylestyleClassikont-hot-idcodigo"   value="#{fila.graf3d.scriptbarra3d}" escape="false" rendered="#{fila.id.codigo!=1}"/>
                                </h:panelGrid>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-pgrecursosaprobados" value="#{fila.pgRecursosAprobados}" >
                                    <f:convertNumber pattern="$###,###"/>
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-pgfamiliasatender" value="#{fila.pgFamiliasAtender}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-pgfamiliasatendidas" value="#{fila.pgFamiliasAtendidas}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-pgporcentajeavance" value="#{fila.pgPorcentajeAvance}" >
                                    <f:convertNumber pattern="###,###.##" />
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-sgrecursosaprobados" value="#{fila.sgRecursosAprobados}" >
                                    <f:convertNumber pattern="$###,###"/>
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-sgfamiliasaterder"  value="#{fila.sgFamiliasAtender}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-sgfamiliasatendidas" value="#{fila.sgFamiliasAtendidas}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-sgporcentajeavance" value="#{fila.sgPorcentajeAvance}" >
                                    <f:convertNumber pattern="###,###.##"/>
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-tgrecursosaprobados" value="#{fila.tgRecursosAprobados}" >
                                    <f:convertNumber pattern="$###,###"/>
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-tgfamiliasatender" value="#{fila.tgFamiliasAtender}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-tgfamiliasatendidas" value="#{fila.tgFamiliasAtendidas}" >                                            
                                </h:outputText>
                            </rich:column>
                            <rich:column>                                        
                                <h:outputText  stylestyleClassikont-hot-tgporcentajeavance" value="#{fila.tgPorcentajeAvance}" >
                                    <f:convertNumber pattern="###,###.##" />
                                </h:outputText>
                            </rich:column>

                        </rich:columnGroup>

                    </rich:dataTable>

                </h:panelGroup>
                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==3}">
                    <h:outputText  stylestyleClassikont-hot-barrascomparativoentterr" value="#{GraficarIndicadores.barrascomparativoentterr.scriptbarra3d}" escape="false"/>

                </h:panelGroup>

                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==4}">
                    <h:outputText  stylestyleClassikont-hot-barrascomparativoentnac"   value="#{GraficarIndicadores.barrascomparativoentnac.scriptbarra3d}" escape="false"/>

                </h:panelGroup>
                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==5}">
                    <h:outputText  stylestyleClassikont-hot-barrascomparativofinancieroentnac"   value="#{GraficarIndicadores.barrascomparativofinancieroentnac.scriptbarra3d}" escape="false"/>

                </h:panelGroup>
                <h:panelGroup rendered="#{GraficarIndicadores.indicadorselec==6}">
                    <h:outputText  stylestyleClassikont-hot-radarconvenios"   value="#{GraficarIndicadores.radarconvenios.scriptPie}" escape="false"/>


                </h:panelGroup>
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>
