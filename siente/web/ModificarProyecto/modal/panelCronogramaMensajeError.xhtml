<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition   
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    >

    <rich:popupPanel id="mp_cronograma_msjerror" resizeable="false" trimOverlayedElements="false"  autosized="true"  headerClass="rich-panel-header" minWidth="400" minHeight="150">
        <f:facet name="header"  >
            <h:panelGroup >
                <h:outputText value="#{var.titulomodalvalcronomod}" styleClass="tituloModal"/>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:form>
                <h:panelGroup>
                    <a4j:commandLink id="esconder_mp_cronograma_msjerror" styleClass="cerrar"
                                     title="#{var.cerrar}" immediate="true"
                                     onclick="#{rich:component('mp_cronograma_msjerror')}.hide();
                                             return false;">
                    </a4j:commandLink>
                </h:panelGroup>
            </h:form>
        </f:facet>
        <h:panelGrid id="panelMensajes" styleClass="centrado">
            <a4j:repeat value="#{Supervisor$ModificarProyecto.cargadorCronograma.archivos}" var="file">
                <h:panelGrid columns="1" rendered="#{Supervisor$ModificarProyecto.cargadorCronograma.numArchivos!=0}" styleClass="centrado">
                    <h:panelGroup>
                        <h:graphicImage url="/resources/imgs/msgerror.png" rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" style="vertical-align: middle"/>
                        <h:outputText value="#{var.cronogramamodificacioninvalido}" styleClass="NoFileModificar" style="margin-left: 0.5em;"/>
                    </h:panelGroup>
                    <h:outputText value=" #{file.nombre}" styleClass="TextoTipificacionModificacion"/>
                </h:panelGrid>
            </a4j:repeat>
            <rich:panel rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}">
                <rich:dataTable id="tablalistaerror" rows="5" 
                                rowClasses="background_azul,background_blanco" styleClass="centrado"
                                value="#{Supervisor$ModificarProyecto.validadorCronogramaExcel.mensajesExcel}"
                                var="actual">
                    <f:facet name="header">
                        <rich:columnGroup>
                            <rich:column colspan="3">
                                <h:outputText value="#{var.titulolistaerroresmodificar}"  />
                            </rich:column>
                            <rich:column breakRowBefore="true">
                                <h:outputText value="#{var.columna}"  />
                            </rich:column>
                            <rich:column  >
                                <h:outputText value="#{var.fila}" />
                            </rich:column>
                            <rich:column >
                                <h:outputText value="#{var.descripcion}"  />
                            </rich:column>
                        </rich:columnGroup>
                    </f:facet>
                    <rich:columnGroup>
                        <rich:column  breakRowBefore="true">
                            <h:outputText value="#{actual.tituloColumna}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{actual.fila}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{actual.detalle}"/>
                        </rich:column>
                    </rich:columnGroup>
                </rich:dataTable>
                <h:form>
                    <rich:dataScroller for="tablalistaerror" maxPages="10">
                        <f:facet name="first">
                            <h:outputText value="#{var.primeroCiu}"/>
                        </f:facet>
                        <f:facet name="last">
                            <h:outputText value="#{var.ultimoCiu}"/>
                        </f:facet>
                    </rich:dataScroller>
                </h:form>
            </rich:panel>
        </h:panelGrid>
        <rich:hotKey key="esc" onkeyup="#{rich:component('mp_cronograma_msjerror')}.hide();
                                             return false;"  />
    </rich:popupPanel>
</ui:composition>
