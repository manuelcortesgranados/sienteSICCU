<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition  
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Cobra - Supervisor</title>
        <h:outputScript  name="script_supervisor"/>
    </ui:define>
    <ui:define name="title">
        <h:outputText  class="id-jsf- "   value="#{var.modificarobra}"/>
        <h:outputText  class="id-jsf- "    value="#{Supervisor$AdministrarObraNew.obra.strnombremedio}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_administrar.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <h:form id="form_modificar">

            <h:panelGrid id="panel_modificarobra" >
                <h:panelGroup >
                    <h:panelGroup id="pgPasos">
                        <h:panelGroup class="id-jsf-"   layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso1}">
                            <h:outputText  class="id-jsf- "   value="#{var.textopaso1modificacion}" class="id-jsf-"  />
                            <interkont:spacer height="15px" />
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso1Modificacion1}" />
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso1Modificacion2}" />
                            <interkont:spacer height="15px" />
                            <h:outputText  class="id-jsf- "    value="#{var.ingreselafechadeesta}" class="id-jsf-"  />
                            <interkont:spacer height="20px" />
                            <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" direction="topRight"
                                           id="date_fechaModificacion" inputSize="10"
                                           value="#{Supervisor$ModificarProyecto.historicoobra.datefecobrahist}"/>
                            <interkont:spacer height="20" />
                            <h:outputText  class="id-jsf- "   value="#{var.porfavorjustifique}" class="id-jsf-"  />
                            <interkont:spacer height="20" />
                            <h:inputTextarea rows="8" value="#{Supervisor$ModificarProyecto.historicoobra.strrazonmodif}" class="id-jsf-"  />
                            <interkont:spacer height="20" />
                            <h:panelGroup class="id-jsf-"  >
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso1Action}" render="pgPasos, messages" class="id-jsf-"   value="#{var.siguiente}" execute="@form"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  class="id-jsf-"   value="#{var.cancelar}" execute="@this"/>
                            </h:panelGroup>
                        </h:panelGroup>


                        <h:panelGroup class="id-jsf-"   layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso2}">
                            <interkont:spacer height="10px" />
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso2Modificacion1}"/>
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso2Modificacion2}"/>
                            <interkont:spacer height="15px" />
                            <h:outputText  class="id-jsf- "   value="#{var.textopaso2modificacion}" class="id-jsf-"  />
                            <interkont:spacer height="15px" />
                            <h:panelGrid columns="2" class="id-jsf-"   columnClasses="CeldaPanelTipificacionModificacion">
                                <a4j:commandLink class="id-jsf-"   onclick="if (!prorrogaOnClick())
                                            return false;"/>
                                <a4j:commandLink class="id-jsf-"   onclick="if (!adicionPresupuestoOnClick())
                                            return false;"/>
                                <h:panelGroup>
                                    <h:selectBooleanCheckbox  value="#{Supervisor$ModificarProyecto.historicoobra.adiciontiempo}" class="id-jsf-"   onchange="checkRealizarProrrogaOnChangue();"/>
                                    <h:outputLabel  class="id-jsf- "   value="#{var.nuevafechaterminacionmodificacion}" class="id-jsf-"  />
                                </h:panelGroup>
                                <h:panelGroup>
                                    <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.adicionpresu}" class="id-jsf-"   onchange="checkAdicionarPresupuestoOnChangue();"/>
                                    <h:outputLabel  class="id-jsf- "   value="#{var.nuevovaloradicionmodificacion}" class="id-jsf-"  />
                                </h:panelGroup>
                                <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" direction="topRight" id="date_adicionTiempo" inputSize="12"
                                               value="#{Supervisor$ModificarProyecto.historicoobra.datefecfinhist}" inputClass="datefecfinhist"  >
                                    <a4j:ajax event="change" oncomplete="datefecfinhistOnChange();" ></a4j:ajax>
                                </rich:calendar>
                                <h:inputText class="id-jsf-"   value="#{Supervisor$ModificarProyecto.historicoobra.numvalorhist}" size="15" onchange="numvalorhistOnchange();">
                                    <f:convertNumber pattern="###,###" maxFractionDigits="6"/>
                                </h:inputText>
                                <interkont:spacer height="15px" />
                                <interkont:spacer height="15px" />
                                <a4j:commandLink class="id-jsf-"   onclick="if (!cambioPreciosOnClick())
                                            return false;" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <a4j:commandLink class="id-jsf-"   onclick="if (!adicionActividadesOnClick())
                                            return false;" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.cambioprecios}" class="id-jsf-"   rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.adicionactivi}" class="id-jsf-"   rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                            </h:panelGrid>
                            <interkont:spacer height="15px" />
                            <h:outputText  class="id-jsf- "   value="#{var.notapaso2modificacion}" class="id-jsf-"  />
                            <interkont:spacer height="10" />

                            <h:panelGroup class="id-jsf-"  >
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso2Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.atras}" execute="@this"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso2Action}" render="pgPasos, messages" class="id-jsf-"   value="#{var.siguiente}" execute="@form"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  class="id-jsf-"   value="#{var.cancelar}" execute="@this"/>
                            </h:panelGroup>

                            <f:verbatim>
                                <script type="text/javascript">

                                    /**
                                     * Activa y desactiva el checkbox prorroga al dar click en
                                     * la imagen correspondiente
                                     */
                                    function prorrogaOnClick() {
                                        if (jQuery('.CheckRealizarProrroga').is(':checked')) {
                                            jQuery('.CheckRealizarProrroga').removeAttr('checked');
                                            jQuery('.datefecfinhist').attr('value', '');
                                        } else {
                                            jQuery('.CheckRealizarProrroga').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Reestablece la fecha cuando se desactiva el checkbox de realizar prórroga
                                     */
                                    function checkRealizarProrrogaOnChangue() {
                                        if (!jQuery('.CheckRealizarProrroga').is(':checked')) {
                                            jQuery('.datefecfinhist').attr('value', '');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox adición de presupuesto al dar click en
                                     * la imagen correspondiente
                                     */
                                    function adicionPresupuestoOnClick() {
                                        if (jQuery('.CheckAdicionarPresupuesto').is(':checked')) {
                                            jQuery('.CheckAdicionarPresupuesto').removeAttr('checked');
                                            jQuery('.numvalorhist').attr('value', '');
                                        } else {
                                            jQuery('.CheckAdicionarPresupuesto').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Reestablece el valor de la adición cuando se desactiva el checkbox de
                                     * adicionar presupuesto
                                     */
                                    function checkAdicionarPresupuestoOnChangue() {
                                        if (!jQuery('.CheckAdicionarPresupuesto').is(':checked')) {
                                            jQuery('.numvalorhist').attr('value', '');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox adición de actividades al dar click en
                                     * la imagen correspondiente
                                     */
                                    function adicionActividadesOnClick() {
                                        if (jQuery('.CheckAdicionarActividades').is(':checked')) {
                                            jQuery('.CheckAdicionarActividades').removeAttr('checked');
                                        } else {
                                            jQuery('.CheckAdicionarActividades').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox cambio de precios al dar click en
                                     * la imagen correspondiente
                                     */
                                    function cambioPreciosOnClick() {
                                        if (jQuery('.CheckCambiarPrecios').is(':checked')) {
                                            jQuery('.CheckCambiarPrecios').removeAttr('checked');
                                        } else {
                                            jQuery('.CheckCambiarPrecios').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox prorroga al ingresar una fecha
                                     */
                                    function datefecfinhistOnChange() {
                                        if (jQuery('.datefecfinhist').attr('value') != '') {
                                            jQuery('.CheckRealizarProrroga').attr('checked', 'checked');
                                        } else {
                                            jQuery('.CheckRealizarProrroga').removeAttr('checked');
                                        }
                                    }

                                    /**
                                     * Activa y desactiva el checkbox de adición de presupuesto al
                                     * cambiar el valor de la adición
                                     */
                                    function numvalorhistOnchange() {
                                        if (jQuery('.numvalorhist').attr('value') != '') {
                                            if (jQuery('.numvalorhist').attr('value') != '0') {
                                                jQuery('.CheckAdicionarPresupuesto').attr('checked', 'checked');
                                            } else {
                                                jQuery('.CheckAdicionarPresupuesto').removeAttr('checked');
                                            }
                                        }
                                    }
                                </script>
                            </f:verbatim>

                        </h:panelGroup>

                        <h:panelGroup class="id-jsf-"   layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso3}">

                            <interkont:spacer height="10px" />
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso3Modificacion1}"/>
                            <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.tituloPaso3Modificacion2}"/>
                            <interkont:spacer height="15px" />
                            <h:outputText  class="id-jsf- "   value="#{var.textopaso3modificacion}" class="id-jsf-"  />
                            <interkont:spacer height="15px" />
                            <h:panelGrid headerClass="sliderich" class="id-jsf-"   width="70%">
                                <f:facet name="header">
                                    <h:outputText  class="id-jsf- "   value="#{var.pgenerarcronograma}"/>
                                </f:facet>
                                <h:panelGroup rendered ="false">
                                    <h:outputText  class="id-jsf- "   value="#{var.debediligenciartodoslosdatos}"/>
                                    <h:graphicImage  class="id-jsf- "    url="/resources/imgs/msgerror.png"/>
                                </h:panelGroup>
                                <h:panelGroup rendered ="false">
                                    <h:outputText  class="id-jsf- "   value="#{var.debediligenciartodoslosdatos}"/>
                                    <h:graphicImage  class="id-jsf- "    url="/resources/imgs/msgerror.png"/>
                                </h:panelGroup>

                                <h:panelGrid columns="2" columnClasses="PanelGenerarCronogramaPaso3">
                                    <a4j:commandLink action="#{Supervisor$ModificarProyecto.btGenerarCronogramaAction}" 
                                                     onclick="#{rich:component('ajaxLoadingModalBox')}.show();"
                                                     oncomplete="#{rich:component('ajaxLoadingModalBox')}.hide();#{rich:component('mp_cronograma_mod')}.show();"
                                                     class="id-jsf-"   immediate="true" />
                                    <h:outputLabel  class="id-jsf- "   value="#{var.pgenerarcronograma}"/>
                                    <h:panelGroup>
                                        <h:outputText  class="id-jsf- "   class="id-jsf-"   value="#{var.notapaso3modificacion} "/>
                                        <h:outputText  class="id-jsf- "   value="#{var.textonotapaso3modificacion}" class="id-jsf-"  />
                                    </h:panelGroup>
                                </h:panelGrid>
                            </h:panelGrid>
                            <interkont:spacer height="15px" />
                            <h:panelGrid id="panelInfoCronoSubido" headerClass="sliderich" class="id-jsf-"   columnClasses="PanelSubirCronogramaPaso3">
                                <f:facet name="header">
                                    <h:outputText  class="id-jsf- "   value="#{var.subircronograma}"/>
                                </f:facet>
                                <h:outputLabel  class="id-jsf- "   value="#{var.importeelcronograma}" class="id-jsf-"  />
                                <interkont:spacer height="15px" />
                                <a4j:commandButton class="id-jsf-"    value="#{var.examinar}"  id="subircronograma"
                                                   oncomplete="#{rich:component('panelUploadCronograma')}.show(); return true;" />
                                <interkont:spacer height="15px" />
                                <h:outputText  class="id-jsf- "   rendered="#{Supervisor$ModificarProyecto.cargadorCronograma.numArchivos==0}" value="#{var.nosuarc}" class="id-jsf-"  />

                                <a4j:repeat value="#{Supervisor$ModificarProyecto.cargadorCronograma.archivos}" var="file">
                                    <h:panelGrid columns="1" rendered="#{Supervisor$ModificarProyecto.cargadorCronograma.numArchivos!=0}" class="id-jsf-"  >
                                        <h:panelGroup>
                                            <h:graphicImage  class="id-jsf- "   url="/resources/imgs/msginfo.png" rendered="#{Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" />
                                            <h:outputText  class="id-jsf- "   value="#{var.archivovalido}" rendered="#{Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" class="id-jsf-"   />
                                            <h:graphicImage  class="id-jsf- "   url="/resources/imgs/msgerror.png" rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" />
                                            <h:outputText  class="id-jsf- "   value="#{var.cronogramamodificacioninvalido}" rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" class="id-jsf-"   />
                                        </h:panelGroup>
                                        <h:outputText  class="id-jsf- "   value=" #{file.nombre}" class="id-jsf-"  />
                                    </h:panelGrid>
                                </a4j:repeat>
                            </h:panelGrid>

                            <interkont:spacer height="10" />
                            <h:panelGroup class="id-jsf-"  >
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso3Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.atras}" execute="@this"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso3Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.siguiente}" execute="@form"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  class="id-jsf-"   value="#{var.cancelar}" execute="@this"/>
                            </h:panelGroup>

                        </h:panelGroup>

                        <h:panelGroup class="id-jsf-"   layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso4}">
                            <h:outputText  class="id-jsf- "   value="Paso 4" class="id-jsf-"   />
                            <h:outputText  class="id-jsf- "   value="Anexe los documentos relacionados" class="id-jsf-"  />
                            <interkont:spacer height="50"/>

                            <h:panelGrid class="id-jsf-"  >

                                <h:panelGroup  class="id-jsf-"   id="panelSubirDocModificacion">
                                    <h:inputText id="txt_strnombre_documento_Modificacion" maxlength="255" value="#{Supervisor$ModificarProyecto.documentomodificacion.strnombre}"
                                                 class="id-jsf-"   />
                                    <a4j:commandButton id="adjuntarDocumento" class="id-jsf-"   value="#{var.examinar}" immediate="true"
                                                       oncomplete="#{rich:component('panelUploadDocumentoModificacion')}.show(); return true;"/>
                                    <h:selectOneMenu id="select_tipodocumentoModificacion"
                                                     value="#{Supervisor$ModificarProyecto.tipodoc}" >
                                        <f:selectItems value="#{Supervisor$ModificarProyecto.selectItemTipoDocumentoModi}" />
                                    </h:selectOneMenu>
                                    <a4j:commandLink action="#{Supervisor$ModificarProyecto.btAgregarDocumentoAction}" render="panelTablaDocumentosModificacion,panelSubirDocModificacion,layoutDocModificacion,messages" execute="@form">
                                        <h:graphicImage  class="id-jsf- "   url="/resources/imgs/add.png"/>
                                    </a4j:commandLink>
                                    <h:panelGroup id="panelListadoArchivosCargados">
                                        <rich:dataGrid columns="1" rowKeyVar="row" value="#{Supervisor$ModificarProyecto.cargadorDocumentos.archivos}" var="file"  >
                                            <h:outputText  class="id-jsf- "   value=" #{file.nombre}"/>
                                        </rich:dataGrid>
                                    </h:panelGroup>
                                </h:panelGroup>


                                <h:panelGroup id="panelTablaDocumentosModificacion">
                                    <rich:dataTable id="tablaDocumentosModificacion" var="currentRow" class="id-jsf-"   
                                                    value="#{Supervisor$ModificarProyecto.listadocumentosmodi}" rows="5" 
                                                    rowClasses="stable"
                                                    rowKeyVar="filaSeleccionada" 
                                                    >
                                        <f:facet name="header">
                                            <rich:columnGroup>

                                                <rich:column colspan="6">

                                                </rich:column>

                                                <rich:column breakRowBefore="true">
                                                    <h:outputText  class="id-jsf- "   value="#{var.nombre} del Documento"/>
                                                </rich:column>

                                                <rich:column >
                                                    <h:outputText  class="id-jsf- "   value="#{var.tipo}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText  class="id-jsf- "   value="#{var.fecha}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText  class="id-jsf- "   value="#{var.ver}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText  class="id-jsf- "   value="#{var.eliminar}"/>
                                                </rich:column>

                                            </rich:columnGroup>

                                        </f:facet>
                                        <rich:columnGroup>
                                            <rich:column>
                                                <h:outputText  class="id-jsf- "   value="#{currentRow.strnombre}"/>
                                            </rich:column>

                                            <rich:column >
                                                <h:outputText  class="id-jsf- "   value="#{currentRow.tipodocumento.strdesctipodoc}"/>
                                            </rich:column>

                                            <rich:column>
                                                <h:outputText  class="id-jsf- "   value="#{currentRow.datefecha}">
                                                    <f:convertDateTime pattern="yyyy-MMM-dd"/>
                                                </h:outputText>
                                            </rich:column>
                                            <rich:column>

                                                <h:commandLink id="boton_ver_doc_modi" action="#{Supervisor$ModificarProyecto.btDescargarDocumentoAction(filaSeleccionada)}" immediate="true"  >
                                                    <h:graphicImage  class="id-jsf- "    value="/resources/imgs/bt_ver.png"/>
                                                </h:commandLink>

                                            </rich:column>
                                            <rich:column >
                                                <a4j:commandLink action="#{Supervisor$ModificarProyecto.btEliminarDocumentoAction(filaSeleccionada)}" render="panelTablaDocumentosModificacion" execute="@this">
                                                    <h:graphicImage  class="id-jsf- "    value="/resources/imgs/bt_eliminar.png"/>
                                                </a4j:commandLink>
                                            </rich:column>
                                        </rich:columnGroup>

                                        <f:facet name="footer">
                                            <rich:columnGroup>
                                                <rich:column colspan="6" breakRowBefore="true" >
                                                    <rich:dataScroller id="scrolltablaDocumentosModificacion" for="tablaDocumentosModificacion" render="tablaDocumentosModificacion"/>
                                                </rich:column>
                                            </rich:columnGroup>
                                        </f:facet>
                                    </rich:dataTable>
                                </h:panelGroup>
                                <rich:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />
                                <interkont:spacer height="10" />

                                <h:panelGroup class="id-jsf-"  >
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso4Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.atras}" execute="@this"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso4Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.siguiente}" execute="@form"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  class="id-jsf-"   value="#{var.cancelar}" execute="@this"/>
                                </h:panelGroup>

                            </h:panelGrid>
                        </h:panelGroup>

                        <h:panelGroup class="id-jsf-"   layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso5}">
                            <h:outputText  class="id-jsf- "   value="Paso 5" class="id-jsf-"   />
                            <h:outputText  class="id-jsf- "   value="#{var.tituloseleccontratovalormodi}" class="id-jsf-"  />
                            <interkont:spacer height="50"/>

                            <h:panelGrid class="id-jsf-"  >

                                <h:panelGroup  class="id-jsf-"  >
                                    <h:outputText  class="id-jsf- "    value="#{var.selcontratopresumodi}" class="id-jsf-"   rendered="#{Supervisor$ModificarProyecto.historicoobra.adicionpresu}"/>
                                    <h:outputText  class="id-jsf- "    value="#{var.selcontratopresumodidismi}" class="id-jsf-"   rendered="#{Supervisor$ModificarProyecto.historicoobra.disminucionpresu}"/>
                                </h:panelGroup>

                                <h:panelGroup>

                                    <rich:dataTable id="tablaContratosModiProyecto" rows="10"   var="contrarow"
                                                    value="#{Supervisor$ModificarProyecto.obra.relacionesContratoObraConsultoria}"
                                                    binding="#{Supervisor$ModificarProyecto.tablacontratos}">
                                        <rich:column width="100px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="Número contrato" />
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "   value="#{contrarow.contrato.strnumcontrato}"/>
                                        </rich:column>
                                        <rich:column width="100px" >
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="#{var.valor}" />
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "   value="#{contrarow.contrato.numvlrcontrato}">
                                                <f:convertNumber pattern="$###,###,###"/>

                                            </h:outputText>
                                        </rich:column>

                                        <rich:column width="150px"  >
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="Valor Disponible"/>
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "   value="#{contrarow.contrato.numvlrcontrato-contrarow.contrato.numvlrsumahijos-contrarow.contrato.numvlrsumaproyectos}">
                                                <f:convertNumber pattern="$###,###,###"/>
                                            </h:outputText>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="#{var.datefechaini}"/>
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "    value="#{contrarow.contrato.datefechaini}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="#{var.datefechafin}"/>
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "    value="#{contrarow.contrato.datefechafin}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="Tipo Contrato"/>
                                            </f:facet>
                                            <h:outputText  class="id-jsf- "    value="Obra" rendered="#{contrarow.contrato.tipocontratoconsultoria.intidtipocontratoconsultoria==1}"/>
                                            <h:outputText  class="id-jsf- "    value="Interventoria" rendered="#{contrarow.contrato.tipocontratoconsultoria.intidtipocontratoconsultoria>1}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="#{var.seleccionar}"/>
                                            </f:facet>
                                            <a4j:commandButton value="#{var.seleccionar}" action="#{Supervisor$ModificarProyecto.btSeleccionarContratoAction}" disabled="#{!Supervisor$ModificarProyecto.verSeleccionarContrato}" render="tablaContratosModiProyecto"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText  class="id-jsf- "   value="#{var.modificarcontrato}"/>
                                            </f:facet>
                                            <h:commandButton value="#{var.modificarcontrato}" action="#{Supervisor$ModificarProyecto.btModificarContratoAction}" immediate="true"/>
                                        </rich:column>
                                        <f:facet name="footer">
                                            <rich:columnGroup>
                                                <rich:column colspan="8" breakRowBefore="true" >
                                                    <rich:dataScroller id="scrollTablaContratosModiProyecto" for="tablaContratosModiProyecto" render="tablaContratosModiProyecto" />
                                                </rich:column>
                                            </rich:columnGroup>
                                        </f:facet>
                                    </rich:dataTable>

                                </h:panelGroup>

                                <h:panelGroup class="id-jsf-"  >
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso5Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.atras}" execute="@this"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso5Action}" render="pgPasos, messages"  class="id-jsf-"   value="#{var.guardar}" execute="@form"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  class="id-jsf-"   value="#{var.cancelar}" execute="@this"/>
                                </h:panelGroup>

                            </h:panelGrid>
                        </h:panelGroup>

                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGrid>





        </h:form>
        <ui:include id="generarCronogramaView" src="/ModificarProyecto/modal/panelCronogramaModalModif.xhtml"/>
        <ui:include id="subirCronogramaView" src="/ModificarProyecto/modal/panelSubirCronogramaModal.xhtml"/>
        <ui:include id="mensajesCronogramaView" src="/ModificarProyecto/modal/panelCronogramaMensajeError.xhtml"/>
        <ui:include id="subirDocumentoView" src="/ModificarProyecto/modal/panelUploadDocumentoModificacion.xhtml"/>

    </ui:define>

</ui:composition>
