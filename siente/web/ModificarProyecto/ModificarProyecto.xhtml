<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Cobra - Supervisor</title>
        <h:outputScript library="/resources/script_supervisor.js" name="scrip_supervisor"/>
    </ui:define>
    <ui:define name="title">
        <h:outputText value="#{var.modificarobra}"/>
        <h:outputText style="font-size:10px; float:right;" value="#{Supervisor$AdministrarObraNew.obra.strnombremedio}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_administrar.xhtml"/>
    </ui:define>
    <ui:define name="body">

        <h:panelGrid id="panel_modificarobra" style="width:100%;">
            <h:panelGroup style="width:100%">
                <h:panelGroup id="pgPasos">
                    <h:panelGroup styleClass="PanelPaso1Modificar PanelModificar" layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso1}">
                        <h:form>
                            <h:outputText value="#{var.textopaso1modificacion}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso1Modificacion1}" />
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso1Modificacion2}" />
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:outputText  value="#{var.ingreselafechadeesta}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="20px" style="width:100%;"/>
                            <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" direction="top-right"
                                           id="date_fechaModificacion" inputSize="10"
                                           value="#{Supervisor$ModificarProyecto.historicoobra.datefecobrahist}"/>
                            <interkont:spacer height="20" style="width:100%;"/>
                            <h:outputText value="#{var.porfavorjustifique}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="20" style="width:100%;"/>
                            <h:inputTextarea rows="8" value="#{Supervisor$ModificarProyecto.historicoobra.strrazonmodif}" styleClass="Justificacion"/>
                            <interkont:spacer height="20" style="width:100%;"/>
                            <h:panelGroup styleClass="centrado">
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso1Action}" render="pgPasos, messages" styleClass="BotonesPasosModificar" value="#{var.siguiente}"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  styleClass="BotonesPasosModificar" value="#{var.cancelar}"/>
                            </h:panelGroup>
                        </h:form>
                    </h:panelGroup>

                    <h:panelGroup styleClass="PanelPaso1Modificar PanelModificar" layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso2}">
                        <h:form>
                            <interkont:spacer height="10px" style="width:100%;"/>
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso2Modificacion1}"/>
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso2Modificacion2}"/>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:outputText value="#{var.textopaso2modificacion}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:panelGrid columns="2" styleClass="PanelTipificacionModificacion centrado" columnClasses="CeldaPanelTipificacionModificacion">
                                <a4j:commandLink styleClass="prorroga2 anchorLink" onclick="if (!prorrogaOnClick())
                                            return false;"/>
                                <a4j:commandLink styleClass="adicionPresupuesto anchorLink" onclick="if (!adicionPresupuestoOnClick())
                                            return false;"/>
                                <h:panelGroup>
                                    <h:selectBooleanCheckbox  value="#{Supervisor$ModificarProyecto.historicoobra.adiciontiempo}" styleClass="CheckRealizarProrroga" onchange="checkRealizarProrrogaOnChangue();"/>
                                    <h:outputLabel value="#{var.nuevafechaterminacionmodificacion}" styleClass="TextoTipificacionModificacion"/>
                                </h:panelGroup>
                                <h:panelGroup>
                                    <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.adicionpresu}" styleClass="CheckAdicionarPresupuesto" onchange="checkAdicionarPresupuestoOnChangue();"/>
                                    <h:outputLabel value="#{var.nuevovaloradicionmodificacion}" styleClass="TextoTipificacionModificacion"/>
                                </h:panelGroup>
                                <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" direction="topRight" id="date_adicionTiempo" inputSize="12"
                                               value="#{Supervisor$ModificarProyecto.historicoobra.datefecfinhist}" inputClass="datefecfinhist"  >
                                    <a4j:ajax event="change" oncomplete="datefecfinhistOnChange();" ></a4j:ajax>
                                </rich:calendar>
                                <h:inputText styleClass="numvalorhist" value="#{Supervisor$ModificarProyecto.historicoobra.numvalorhist}" size="15" onchange="numvalorhistOnchange();">
                                    <f:convertNumber pattern="###,###" maxFractionDigits="6"/>
                                </h:inputText>
                                <interkont:spacer height="15px" style="width:100%;"/>
                                <interkont:spacer height="15px" style="width:100%;"/>
                                <a4j:commandLink styleClass="cambioPrecios anchorLink" onclick="if (!cambioPreciosOnClick())
                                            return false;" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <a4j:commandLink styleClass="adicionActividades anchorLink" onclick="if (!adicionActividadesOnClick())
                                            return false;" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.cambioprecios}" styleClass="CheckCambiarPrecios" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                                <h:selectBooleanCheckbox value="#{Supervisor$ModificarProyecto.historicoobra.adicionactivi}" styleClass="CheckAdicionarActividades" rendered="#{!Supervisor$ModificarProyecto.obra.booleantienehijos}"/>
                            </h:panelGrid>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:outputText value="#{var.notapaso2modificacion}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="10" style="width:100%;"/>
                            <h:panelGroup styleClass="centrado">
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso2Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.atras}"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso2Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.siguiente}"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  styleClass="BotonesPasosModificar" value="#{var.cancelar}"/>
                            </h:panelGroup>
                        </h:form>
                        <f:verbatim>
                            <script type="text/javascript">

                                    /**
                                     * Activa y desactiva el checkbox prorroga al dar click en
                                     * la imagen correspondiente
                                     */
                                    function prorrogaOnClick() {
                                        if (jQuery('.CheckRealizarProrroga').is(':checked')) {
                                            jQuery('.CheckRealizarProrroga').removeAttr('checked');
                                            jQuery('.datefecfinhist').attr('value', '');
                                        } else {
                                            jQuery('.CheckRealizarProrroga').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Reestablece la fecha cuando se desactiva el checkbox de realizar prórroga
                                     */
                                    function checkRealizarProrrogaOnChangue() {
                                        if (!jQuery('.CheckRealizarProrroga').is(':checked')) {
                                            jQuery('.datefecfinhist').attr('value', '');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox adición de presupuesto al dar click en
                                     * la imagen correspondiente
                                     */
                                    function adicionPresupuestoOnClick() {
                                        if (jQuery('.CheckAdicionarPresupuesto').is(':checked')) {
                                            jQuery('.CheckAdicionarPresupuesto').removeAttr('checked');
                                            jQuery('.numvalorhist').attr('value', '');
                                        } else {
                                            jQuery('.CheckAdicionarPresupuesto').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Reestablece el valor de la adición cuando se desactiva el checkbox de
                                     * adicionar presupuesto
                                     */
                                    function checkAdicionarPresupuestoOnChangue() {
                                        if (!jQuery('.CheckAdicionarPresupuesto').is(':checked')) {
                                            jQuery('.numvalorhist').attr('value', '');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox adición de actividades al dar click en
                                     * la imagen correspondiente
                                     */
                                    function adicionActividadesOnClick() {
                                        if (jQuery('.CheckAdicionarActividades').is(':checked')) {
                                            jQuery('.CheckAdicionarActividades').removeAttr('checked');
                                        } else {
                                            jQuery('.CheckAdicionarActividades').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox cambio de precios al dar click en
                                     * la imagen correspondiente
                                     */
                                    function cambioPreciosOnClick() {
                                        if (jQuery('.CheckCambiarPrecios').is(':checked')) {
                                            jQuery('.CheckCambiarPrecios').removeAttr('checked');
                                        } else {
                                            jQuery('.CheckCambiarPrecios').attr('checked', 'checked');
                                        }
                                        return false;
                                    }

                                    /**
                                     * Activa y desactiva el checkbox prorroga al ingresar una fecha
                                     */
                                    function datefecfinhistOnChange() {
                                        if (jQuery('.datefecfinhist').attr('value') != '') {
                                            jQuery('.CheckRealizarProrroga').attr('checked', 'checked');
                                        } else {
                                            jQuery('.CheckRealizarProrroga').removeAttr('checked');
                                        }
                                    }

                                    /**
                                     * Activa y desactiva el checkbox de adición de presupuesto al
                                     * cambiar el valor de la adición
                                     */
                                    function numvalorhistOnchange() {
                                    if (jQuery('.numvalorhist').attr('value') != ''){
                                    if (jQuery('.numvalorhist').attr('value') != '0'){
                                    jQuery('.CheckAdicionarPresupuesto').attr('checked', 'checked');
                                    } else {
                                    jQuery('.CheckAdicionarPresupuesto').removeAttr('checked');
                                    }
                                    }
                            </script>
                        </f:verbatim>
                    </h:panelGroup>

                    <h:panelGroup styleClass="PanelPaso1Modificar PanelModificar" layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso3}">
                        <h:form>
                            <interkont:spacer height="10px" style="width:100%;"/>
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso3Modificacion1}"/>
                            <h:outputText styleClass="TituloModificarProyecto centrado" value="#{var.tituloPaso3Modificacion2}"/>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:outputText value="#{var.textopaso3modificacion}" styleClass="TextoTipificacionModificacion"/>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:panelGrid headerClass="sliderich" styleClass="centrado" width="70%">
                                <f:facet name="header">
                                    <h:outputText value="#{var.pgenerarcronograma}"/>
                                </f:facet>
                                <h:panelGroup rendered ="false">
                                    <h:outputText value="#{var.debediligenciartodoslosdatos}"/>
                                    <h:graphicImage style="height: 20px; width: 20px;" url="/resources/imgs/msgerror.png"/>
                                </h:panelGroup>
                                <h:panelGroup rendered ="false">
                                    <h:outputText value="#{var.debediligenciartodoslosdatos}"/>
                                    <h:graphicImage style="height: 20px; width: 20px;" url="/resources/imgs/msgerror.png"/>
                                </h:panelGroup>
                                <h:panelGrid columns="2" columnClasses="PanelGenerarCronogramaPaso3">
                                    <a4j:commandLink id="generarcronograma" styleClass="excelModificar anchorlink"
                                                     action="#{Supervisor$ModificarProyecto.btGenerarCronogramaAction}"
                                                     oncomplete="#{rich:component('mp_cronograma_mod')}.show(); return true;">
                                        <h:outputLabel value="#{var.pgenerarcronograma}"/>
                                    </a4j:commandLink>
                                    <h:panelGroup>
                                        <h:outputText styleClass="Notapaso3modificacion" value="#{var.notapaso3modificacion} "/>
                                        <h:outputText value="#{var.textonotapaso3modificacion}" styleClass="TextoTipificacionModificacion"/>
                                    </h:panelGroup>
                                </h:panelGrid>
                            </h:panelGrid>
                            <interkont:spacer height="15px" style="width:100%;"/>
                            <h:panelGrid id="panelInfoCronoSubido" headerClass="sliderich" styleClass="centrado" columnClasses="PanelSubirCronogramaPaso3">
                                <f:facet name="header">
                                    <h:outputText value="#{var.subircronograma}"/>
                                </f:facet>
                                <h:outputLabel value="#{var.importeelcronograma}" styleClass="TextoTipificacionModificacion"/>
                                <interkont:spacer height="15px" style="width:100%;"/>
                                <a4j:commandButton styleClass="btn_sec_gig"  value="#{var.examinar}" style="font-size: 10px;" id="subircronograma"
                                                   oncomplete="#{rich:component('panelUploadCronograma')}.show(); return true;" />
                                <interkont:spacer height="15px" style="width:100%;"/>
                                <h:outputText rendered="#{Supervisor$ModificarProyecto.cargadorCronograma.numArchivos==0}" value="#{var.nosuarc}" styleClass="NoFileModificar"/>

                                <a4j:repeat value="#{Supervisor$ModificarProyecto.cargadorCronograma.archivos}" var="file">
                                    <h:panelGrid columns="1" rendered="#{Supervisor$ModificarProyecto.cargadorCronograma.numArchivos!=0}" styleClass="centrado">
                                        <h:panelGroup>
                                            <h:graphicImage url="/resources/imgs/msginfo.png" rendered="#{Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" style="vertical-align: middle"/>
                                            <h:outputText value="#{var.archivovalido}" rendered="#{Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" styleClass="NoFileModificar" style="margin-left: 0.5em;"/>
                                            <h:graphicImage url="/resources/imgs/msgerror.png" rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" style="vertical-align: middle"/>
                                            <h:outputText value="#{var.cronogramamodificacioninvalido}" rendered="#{!Supervisor$ModificarProyecto.validadorCronogramaExcel.valido}" styleClass="NoFileModificar" style="margin-left: 0.5em;"/>
                                        </h:panelGroup>
                                        <h:outputText value=" #{file.nombre}" styleClass="TextoTipificacionModificacion"/>
                                    </h:panelGrid>
                                </a4j:repeat>
                            </h:panelGrid>
                            <interkont:spacer height="10" style="width:100%;"/>
                            <h:panelGroup styleClass="centrado">
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso3Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.atras}"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso3Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.siguiente}"/>
                                <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  styleClass="BotonesPasosModificar" value="#{var.cancelar}"/>
                            </h:panelGroup>
                        </h:form>
                    </h:panelGroup>

                    <!--a4j:include id="paso4View" viewId="/ModificarProyecto/fragmentos/paso4.xhtml"/-->
                    <h:panelGroup styleClass="PanelPaso4Modificar PanelModificar" layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso4}">
                        <h:outputText value="Paso 4" styleClass="TituloModificarProyecto centrado" />
                        <h:outputText value="Anexe los documentos relacionados" styleClass="TituloModificarProyecto centrado"/>
                        <interkont:spacer height="50"/>

                        <h:panelGrid styleClass="centrado panelLayoutPaso4Modifcar">
                            <h:form>
                                <h:panelGroup  styleClass="centrado panelSubirDocModificacion" id="panelSubirDocModificacion">
                                    <h:inputText id="txt_strnombre_documento_Modificacion" maxlength="255" value="#{Supervisor$ModificarProyecto.documentomodificacion.strnombre}"
                                                 styleClass="buscador_field_2" />
                                    <a4j:commandButton id="adjuntarDocumento" styleClass="buttonsmall2" value="#{var.examinar}" immediate="true"
                                                       oncomplete="#{rich:component('panelUploadDocumentoModificacion')}.show(); return true;"/>
                                    <h:selectOneMenu id="select_tipodocumentoModificacion"
                                                     value="#{Supervisor$ModificarProyecto.tipodoc}" >
                                        <f:selectItems value="#{Supervisor$ModificarProyecto.selectItemTipoDocumentoModi}" />
                                    </h:selectOneMenu>
                                    <a4j:commandLink action="#{Supervisor$ModificarProyecto.btAgregarDocumentoAction}" render="panelTablaDocumentosModificacion,panelSubirDocModificacion,layoutDocModificacion,messages" >
                                        <h:graphicImage url="/resources/imgs/add.png"/>
                                    </a4j:commandLink>
                                    <h:panelGroup id="panelListadoArchivosCargados">
                                        <rich:dataGrid columns="1" rowKeyVar="row" value="#{Supervisor$ModificarProyecto.cargadorDocumentos.archivos}" var="file"  style="clear: left">
                                            <h:outputText value=" #{file.nombre}"/>
                                        </rich:dataGrid>
                                    </h:panelGroup>
                                </h:panelGroup>
                            </h:form>
                            <h:form  target="_blank">
                                <h:panelGroup id="panelTablaDocumentosModificacion">
                                    <rich:dataTable id="tablaDocumentosModificacion" var="currentRow" styleClass="centrado" style="width:100%; background-color: #F2F7FA"
                                                    value="#{Supervisor$ModificarProyecto.listadocumentosmodi}" rows="5" 
                                                    rowClasses="stable"
                                                    binding="#{Supervisor$ModificarProyecto.tablaDocumentosModificacion}">
                                        <f:facet name="header">
                                            <rich:columnGroup class="sliderich">

                                                <rich:column colspan="6">

                                                </rich:column>

                                                <rich:column breakRowBefore="true">
                                                    <h:outputText value="#{var.nombre} del Documento"/>
                                                </rich:column>

                                                <rich:column >
                                                    <h:outputText value="#{var.tipo}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText value="#{var.fecha}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText value="#{var.ver}"/>
                                                </rich:column>

                                                <rich:column>
                                                    <h:outputText value="#{var.eliminar}"/>
                                                </rich:column>

                                            </rich:columnGroup>

                                        </f:facet>
                                        <rich:columnGroup>
                                            <rich:column>
                                                <h:outputText value="#{currentRow.strnombre}"/>
                                            </rich:column>

                                            <rich:column >
                                                <h:outputText value="#{currentRow.tipodocumento.strdesctipodoc}"/>
                                            </rich:column>

                                            <rich:column>
                                                <h:outputText value="#{currentRow.datefecha}">
                                                    <f:convertDateTime pattern="yyyy-MMM-dd"/>
                                                </h:outputText>
                                            </rich:column>
                                            <rich:column>

                                                <h:commandLink id="boton_ver_doc_modi" action="#{Supervisor$ModificarProyecto.btDescargarDocumentoAction}" immediate="true"  >
                                                    <h:graphicImage style="border:0px;border-style:none; height: 25px; width: 25px;" value="/resources/imgs/bt_ver.png"/>
                                                </h:commandLink>

                                            </rich:column>
                                            <rich:column >
                                                <a4j:commandLink action="#{Supervisor$ModificarProyecto.btEliminarDocumentoAction}" render="panelTablaDocumentosModificacion">
                                                    <h:graphicImage style="border:0px;border-style:none; height: 25px; width: 25px;" value="/resources/imgs/bt_eliminar.png"/>
                                                </a4j:commandLink>
                                            </rich:column>
                                        </rich:columnGroup>

                                        <f:facet name="footer">
                                            <rich:columnGroup>
                                                <rich:column colspan="6" breakRowBefore="true" style="text-align: center;">
                                                    <rich:dataScroller id="scrolltablaDocumentosModificacion" for="tablaDocumentosModificacion" render="tablaDocumentosModificacion"/>
                                                </rich:column>
                                            </rich:columnGroup>
                                        </f:facet>
                                    </rich:dataTable>
                                </h:panelGroup>
                                <rich:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />
                                <interkont:spacer height="10" style="width:100%;"/>
                            </h:form>
                            <h:form>
                                <h:panelGroup styleClass="centrado">
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso4Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.atras}"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso4Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.siguiente}"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  styleClass="BotonesPasosModificar" value="#{var.cancelar}"/>
                                </h:panelGroup>
                            </h:form>
                        </h:panelGrid>
                    </h:panelGroup>





                    <!--a4j:include id="paso5View" viewId="/ModificarProyecto/fragmentos/paso5.xhtml"/-->
                    <h:panelGroup styleClass="PanelPaso5Modificar PanelModificar" layout="block" rendered="#{Supervisor$ModificarProyecto.verPaso5}">
                        <h:outputText value="Paso 5" styleClass="TituloModificarProyecto centrado" />
                        <h:outputText value="#{var.tituloseleccontratovalormodi}" styleClass="TituloModificarProyecto centrado"/>
                        <interkont:spacer height="50"/>

                        <h:panelGrid styleClass="centrado panelLayoutPaso4Modifcar">
                            <h:form>
                                <h:panelGroup  styleClass="centrado panelSubirDocModificacion">
                                    <h:outputText  value="#{var.selcontratopresumodi}" styleClass="TextoTipificacionModificacion" rendered="#{Supervisor$ModificarProyecto.historicoobra.adicionpresu}"/>
                                    <h:outputText  value="#{var.selcontratopresumodidismi}" styleClass="TextoTipificacionModificacion" rendered="#{Supervisor$ModificarProyecto.historicoobra.disminucionpresu}"/>
                                </h:panelGroup>
                            </h:form>
                            <h:panelGroup>
                                <h:form>
                                    <rich:dataTable id="tablaContratosModiProyecto" rows="10" style="text-align:left; width:100%;"  var="contrarow"
                                                    value="#{Supervisor$ModificarProyecto.obra.relacionesContratoObraConsultoria}"
                                                    binding="#{Supervisor$ModificarProyecto.tablacontratos}">
                                        <rich:column width="100px">
                                            <f:facet name="header">
                                                <h:outputText value="Número contrato" />
                                            </f:facet>
                                            <h:outputText value="#{contrarow.contrato.strnumcontrato}"/>
                                        </rich:column>
                                        <rich:column width="100px" style="text-align: right;">
                                            <f:facet name="header">
                                                <h:outputText value="#{var.valor}" />
                                            </f:facet>
                                            <h:outputText value="#{contrarow.contrato.numvlrcontrato}">
                                                <f:convertNumber pattern="$###,###,###"/>

                                            </h:outputText>
                                        </rich:column>

                                        <rich:column width="150px" style="text-align: right;" >
                                            <f:facet name="header">
                                                <h:outputText value="Valor Disponible"/>
                                            </f:facet>
                                            <h:outputText value="#{contrarow.contrato.numvlrcontrato-contrarow.contrato.numvlrsumahijos-contrarow.contrato.numvlrsumaproyectos}">
                                                <f:convertNumber pattern="$###,###,###"/>
                                            </h:outputText>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText value="#{var.datefechaini}"/>
                                            </f:facet>
                                            <h:outputText  value="#{contrarow.contrato.datefechaini}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText value="#{var.datefechafin}"/>
                                            </f:facet>
                                            <h:outputText  value="#{contrarow.contrato.datefechafin}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText value="Tipo Contrato"/>
                                            </f:facet>
                                            <h:outputText  value="Obra" rendered="#{contrarow.contrato.tipocontratoconsultoria.intidtipocontratoconsultoria==1}"/>
                                            <h:outputText  value="Interventoria" rendered="#{contrarow.contrato.tipocontratoconsultoria.intidtipocontratoconsultoria>1}"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText value="#{var.seleccionar}"/>
                                            </f:facet>
                                            <a4j:commandButton value="#{var.seleccionar}" action="#{Supervisor$ModificarProyecto.btSeleccionarContratoAction}" disabled="#{!Supervisor$ModificarProyecto.verSeleccionarContrato}" render="tablaContratosModiProyecto"/>
                                        </rich:column>
                                        <rich:column width="150px">
                                            <f:facet name="header">
                                                <h:outputText value="#{var.modificarcontrato}"/>
                                            </f:facet>
                                            <h:commandButton value="#{var.modificarcontrato}" action="#{Supervisor$ModificarProyecto.btModificarContratoAction}" immediate="true"/>
                                        </rich:column>
                                        <f:facet name="footer">
                                            <rich:columnGroup>
                                                <rich:column colspan="8" breakRowBefore="true" style="text-align: center;">
                                                    <rich:dataScroller id="scrollTablaContratosModiProyecto" for="tablaContratosModiProyecto" render="tablaContratosModiProyecto" />
                                                </rich:column>
                                            </rich:columnGroup>
                                        </f:facet>
                                    </rich:dataTable>
                                </h:form>
                            </h:panelGroup>
                            <h:form>
                                <h:panelGroup styleClass="centrado">
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btAnteriorPaso5Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.atras}"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btSiguientePaso5Action}" render="pgPasos, messages"  styleClass="BotonesPasosModificar" value="#{var.guardar}"/>
                                    <a4j:commandLink  action="#{Supervisor$ModificarProyecto.btCancelarModificacionAction}" render="messages"  styleClass="BotonesPasosModificar" value="#{var.cancelar}"/>
                                </h:panelGroup>
                            </h:form>
                        </h:panelGrid>
                    </h:panelGroup>
                </h:panelGroup>
            </h:panelGroup>
        </h:panelGrid>
        <ui:include id="generarCronogramaView" src="/ModificarProyecto/modal/panelCronogramaModalModif.xhtml"/>
        <ui:include id="subirCronogramaView" src="/ModificarProyecto/modal/panelSubirCronogramaModal.xhtml"/>
        <ui:include id="mensajesCronogramaView" src="/ModificarProyecto/modal/panelCronogramaMensajeError.xhtml"/>
        <ui:include id="subirDocumentoView" src="/ModificarProyecto/modal/panelUploadDocumentoModificacion.xhtml"/>
    </ui:define>
</ui:composition>

