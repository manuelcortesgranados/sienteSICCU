<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Atenci√≥n Humanitaria</title>
        <h:outputScript library="css" name="/resources/css/AtencionHumanitaria/AprobacionFinancieraCh.css"/>
    </ui:define>
    <ui:define name="title">
        <h:outputText  styleClass="ikont-hot-generarsolicitudah" value="#{var.generarsolicitudah}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_atencion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_atencion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_registrar_atencion_hum.xhtml"/>
        <ui:include src="/facelets/menu_lateral_perfil_atencion_hum.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <h:form id="form_imagenes" target="_blank">

            <rich:collapsiblePanel id="OrdendePagoCh" switchType="ajax">
                <f:facet name="header">
                    <h:outputText  styleClass="ikont-hot-ordenpagoch" value="#{var.ordendepagocolombiahumanitaria}"/>
                </f:facet>
                <interkont:spacer height="3"/>

                <center>
                    <h:panelGrid id="panelOrdenCh" columns="2" columnClasses="panelizquierda, panelizquierda" >

                        <h:outputLabel  styleClass="ikont-hol-cartaprobacion" id="lblcartaaprobacion"  value="#{var.cartaaprobacion}:" />

                        <h:panelGrid id="panel_subirCartaAprobacion"  columns="6" columnClasses=",,,buttonsmall"
                                     rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">
                            <a4j:commandButton id="adjuntarCartaAprobacion" styleClass="ikont-acb-examinar" value="#{var.examinar}" 
                                               onclick="#{rich:component('panelUploadCartaAprobacion')}.show();
                                                       return false;">
                            </a4j:commandButton>
                            <h:outputText  styleClass="ikont-hot-rutadocumento" id="txtRutaCartaAprobacion" value="#{var.rutadocumento}"/>
                            <h:inputText styleClass="ikont-hit-nombrearchivo" id="inputDescCartaAprobacion" value=" #{file.onlyName}" disabled="true"/>
                            <a4j:commandLink id="bt_agregarCartaAprobacion" styleClass="ikont-acl-agregar" title="#{var.agregar}"
                                             action="#{AtencionHumanitaria$AdminSolicitudAtencion.subirAprobacionaDetalle}"
                                             render="panelOrdenCh,panelUploadCartaAprobacion"/>
                            <rich:dataGrid columns="1" rowKeyVar="row" value="#{AtencionHumanitaria$AdminSolicitudAtencion.subirCartaFinanciera.files}" var="file" >
                                <h:outputText  styleClass="ikont-hot-txnombrearchivo" id="otxt_nombreCartaAprobacion" value=" #{file.onlyName}"/>
                            </rich:dataGrid>

                        </h:panelGrid>

                        <h:panelGroup rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11 and AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">
                            <a4j:commandButton id="btCartaAprobacionver" value="#{var.ver}" immediate="true"
                                               styleClass="ikont-acb-ver" />

                        </h:panelGroup>

                        <h:outputText  styleClass="ikont-fechcarta" value="#{var.fechadecarta}:"/>
                        <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" direction="topRight" id="fecAprobFinanciera"
                                       inputSize="10" immediate="true" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11 and !AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}"
                                       value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.datefechacartaaprobacion}">
                        </rich:calendar>

                        <h:outputLabel  styleClass="ikont-hol-fechcartaprob" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.datefechacartaaprobacion}"
                                        rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11 and AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </h:outputLabel>

                        <h:outputText  styleClass="ikont-hot-txtobservacion" value="#{var.observaciones}"/>
                        <h:inputTextarea styleClass="ikont-hit-txtobsfinanciera" id="observacionesorden" rows="3" cols="30"  value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.textobservacionfinanciera}"
                                         rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario and AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11}"/>

                        <h:outputLabel  styleClass="ikont-hol-observacionfinanciera" id="observacioneslabel" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.textobservacionfinanciera}"
                                        rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.deshformulario and AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11}"/>

                        <h:outputText  styleClass="ikont-hot-numorden" value="#{var.numeroorden}"/>
                        <h:inputText styleClass="ikont-hit-strordenpago" id="numerordenpago" size="10"  value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.ordendepago.strordenpago}"
                                     rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11 and !AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}"/>

                        <h:outputLabel  styleClass="ikont-hol-obsfinanciera" id="numordenlabel" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.textobservacionfinanciera}"
                                        rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.deshformulario and AtencionHumanitaria$AdminSolicitudAtencion.grupousu>11}"/>

                    </h:panelGrid>
                </center>
                <center>
                    <h:panelGrid columns="2" rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario and AtencionHumanitaria$AdminSolicitudAtencion.grupousu==12
                                                         ||!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario and AtencionHumanitaria$AdminSolicitudAtencion.grupousu==13}">
                        <a4j:commandButton id="registraraprobacion" styleClass="ikont-acb-aprobacion" value="#{var.registraraprobacion}"   action="#{AtencionHumanitaria$AdminSolicitudAtencion.guardarSolicitud}"/>
                        <a4j:commandButton id="Cancelaraprobacion" styleClass="ikont-acb-cancelar" value="#{var.cancelar}"   oncomplete="#{rich:component('panelCancelarSolicitud')}.show();"/>

                    </h:panelGrid>
                </center>
            </rich:collapsiblePanel>
        </h:form>
    </ui:define>
</ui:composition>
