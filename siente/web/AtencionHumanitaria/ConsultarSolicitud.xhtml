<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Atenci√≥n Humanitaria</title>
    </ui:define>
    <ui:define name="title">
        <h:outputText value="#{var.menu1_3_1}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_atencion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_atencion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_perfil_atencion_hum.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <h:form id="form_datos_basico" target="_blank">
            <interkont:spacer height="3"/>

            <rich:panel header="#{var.datossol}" id="DatosBasicos" style="width:100%;" >
                <center>
                    <h:panelGroup>

                        <h:panelGrid columns="4" cellspacing="5">

                            <h:outputText value="#{var.departamento}: " styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel id="txtDepartamentoatsoli" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tercero.localidadByStrcodigolocalidad.strdepartamento}"/>

                            <interkont:spacer rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <interkont:spacer rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <h:outputText value="#{var.municipio}:" styleClass="titulo3_filtro_busqueda" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <h:outputLabel id="txtmunicipiosoli"
                                           rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tercero.localidadByStrcodigolocalidad.strmunicipio}"/>

                            <h:outputText value="#{var.contacto}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel id="contactoSoli" value="#{SessionBeanCobra.atencionhumanitariaService.solicitudmaestro.tercero.strnombre}  #{SessionBeanCobra.atencionhumanitariaService.solicitudmaestro.tercero.strapellido1}"/>


                            <a4j:commandButton id="btContacto1" value="#{var.ver}" immediate="true" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.mostrar}" action="#{AtencionHumanitaria$AdminSolicitudAtencion.cargarSolicitante}"
                                               oncomplete="#{rich:component('panelinformacioncontacto')}.show();" render="infocontacto"
                                               style="font-size:12px;"/>

                            <interkont:spacer/>




                            <interkont:spacer/>
                            <interkont:spacer/>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>

            </rich:panel>
            <interkont:spacer height="3"/>

            <rich:panel id="DatosGenerales" header="#{var.datosgenerales}" style="width:100%;">
                <center>
                    <h:panelGroup>

                        <h:panelGrid columns="2" cellspacing="5" id="gpCombos">
                            <h:outputText value="#{var.codigosolicitud}:" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.codigosol}" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel id="codigosolicitud" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.oidcodigosolicitudmaestro}"
                                           rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.codigosol}"/>

                            <h:outputText  value="#{var.evento}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.periodoevento.evento.strnombre}"/>

                            <h:outputText value="#{var.periodo}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.periodoevento.strdescripcion}"/>

                            <h:outputText value="#{var.fecha} Solicitud:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputText value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.datefechasolicitud}">
                                <f:convertDateTime pattern="dd,MMMM, yyyy"  />
                            </h:outputText>


                            <h:outputText value="#{var.nomsol}" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.strnombresolicitud}"/>

                            <h:outputLabel id="lbltips"  value="#{var.tiposolicitud}:" styleClass="titulo3_filtro_busqueda" />
                            <h:outputLabel value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tipoah.strdnombretipoah}"/>

                            <h:outputText value="#{var.objetosolicitud}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel id="txtobjet"
                                           value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.strjustificacion}"/>

                            <h:outputText value="#{var.incluyeint}" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel value="Si" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}"/>
                            <h:outputLabel value="No" rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}"/>

                            <h:outputText value="#{var.porcentaje} Interventoria:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputLabel value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.floatporcentaje}"
                                           rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}">
                                <f:convertNumber pattern="##,##%"/>
                            </h:outputLabel>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>

            </rich:panel>
            <interkont:spacer height="3"/>

            <rich:panel header="#{var.distribucionayuda}" style="width:100%;">
                <center>
                <rich:dataTable id="tablaProductosSeleccionadosconsultar"  sortMode="single" var="_Producto" style="width:100%; text-align:left;"
                                    value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.listadosolicitudDetalle}">
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column colspan="6">
                                    <h:outputText value="#{var.categoriaseleccionada}"/>
                                </rich:column>
                                <rich:column breakRowBefore="true">
                                    <h:outputText value="#{var.categoria}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.familiasAtender}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.tamFamilia}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.valorunitaio}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.valortotal}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.municipio}"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                        <rich:column breakRowBefore="true">
                            <h:outputText value="#{_Producto.productoah.strdescripcionproductoah}"/>

                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{_Producto.numcantidadsolicitadaitem}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{_Producto.productoah.tipodefamilia.strdescripcionfamilia}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{_Producto.numvlrunitario}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{_Producto.numvlrtotalitem}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{_Producto.localidad.strmunicipio}"/>
                        </rich:column>
                        <f:facet name="footer">
                            <rich:columnGroup>
                                <rich:column colspan="11" breakRowBefore="true" style="text-align: center;">
                                    <rich:dataScroller id="tablaProductosSeleccionadosconsultar" for="tablaProductosSeleccionadosconsultar" render="tablaProductosSeleccionadosconsultar"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                    </rich:dataTable>
                    <interkont:spacer height="3"/>

                    <h:panelGroup id="gpvalortotalmaestroAtencons">
                        <h:panelGrid columns="2" cellspacing="5" >
                            <h:outputText value="#{var.totalfamilias}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputText id="totalFamiliAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.totalfamilias}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="###,###.##"/>
                            </h:outputText>
                            <h:outputText value="#{var.totalParcial}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputText id="totalParcialAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrtotalparcial}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                            <h:outputText value="#{var.interventorObra}ia:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputText  id="porcentajeAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.floatporcentaje*AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrtotalparcial/100}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                            <h:outputText value="#{var.valorsolicitud}:" styleClass="titulo3_filtro_busqueda"/>
                            <h:outputText   id="valorTotalAtcon"  value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrsolicitado}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>
            </rich:panel>

            <interkont:spacer height="3"/>

            <!--
                <ui:include src="/modal/modalsolicitudatencion/validarGuardadoAtencion.xhtml"/>
                <ui:include src="/modal/modalsolicitudatencion/informacionentidad.xhtml"/>
        -->
        <ui:include src="/modal/modalsolicitudatencion/informacioncontacto.xhtml"/>
        </h:form>
        <ui:include src="/modal/modalsolicitudatencion/confirmarCancelarSolicitud.xhtml"/>
        <!--
        <ui:include src="/modal/modalsolicitudatencion/subirCartaFinanciera.xhtml"/>
        <ui:include src="/modal/modalsolicitudatencion/subirActaJunta.xhtml"/>
        <ui:include src="/modal/modalsolicitudatencion/subirVideoAtencion.xhtml"/>
        -->
        <ui:include src="/modal/atencionHumanitaria/enviarsolicitudah.xhtml"/>
    </ui:define>
</ui:composition>