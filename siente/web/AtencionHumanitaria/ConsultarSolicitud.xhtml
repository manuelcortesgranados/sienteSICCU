<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Atenci√≥n Humanitaria</title>
        <h:outputScript library="css" name="/resources/css/AtencionHumanitaria/ConsultarSolicitud.css"/>
    </ui:define>
    <ui:define name="title">
        <h:outputText  styleClass="ikont-hot-menu_1_3_1" value="#{var.menu1_3_1}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_atencion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_atencion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_perfil_atencion_hum.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <h:form id="form_datos_basico" target="_blank">
            <interkont:spacer height="3"/>

            <rich:panel header="#{var.datossol}" id="DatosBasicos"  >
                <center>
                    <h:panelGroup>

                        <h:panelGrid columns="4" cellspacing="5">

                            <h:outputText  styleClass="ikont-hot-depto" value="#{var.departamento}: "/>
                            <h:outputLabel  styleClass="ikont-hol-strdepto" id="txtDepartamentoatsoli" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tercero.localidadByStrcodigolocalidad.strdepartamento}"/>

                            <interkont:spacer rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <interkont:spacer rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <h:outputText  styleClass="ikont-hot-vermuni" value="#{var.municipio}:" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}"/>
                            <h:outputLabel  styleClass="ikont-hol-txtmunisoli" id="txtmunicipiosoli"
                                            rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.vermunicipio}" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tercero.localidadByStrcodigolocalidad.strmunicipio}"/>

                            <h:outputText  styleClass="ikont-hot-contacto" value="#{var.contacto}:"/>
                            <h:outputLabel  styleClass="ikont-hol-nomyapel" id="contactoSoli" value="#{SessionBeanCobra.atencionhumanitariaService.solicitudmaestro.tercero.strnombre}  #{SessionBeanCobra.atencionhumanitariaService.solicitudmaestro.tercero.strapellido1}"/>


                            <a4j:commandButton styleClass="ikont-acb-ver" id="btContacto1" value="#{var.ver}" immediate="true" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.mostrar}" action="#{AtencionHumanitaria$AdminSolicitudAtencion.cargarSolicitante}"
                                               oncomplete="#{rich:component('panelinformacioncontacto')}.show();" render="infocontacto"
                                               />

                            <interkont:spacer/>




                            <interkont:spacer/>
                            <interkont:spacer/>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>

            </rich:panel>
            <interkont:spacer height="3"/>

            <rich:panel id="DatosGenerales" header="#{var.datosgenerales}" >
                <center>
                    <h:panelGroup>

                        <h:panelGrid columns="2" cellspacing="5" id="gpCombos">
                            <h:outputText  styleClass="ikont-hot-codsolicituds" value="#{var.codigosolicitud}:" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.codigosol}"/>
                            <h:outputLabel  styleClass="ikont-hol-solicmaestro" id="codigosolicitud" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.oidcodigosolicitudmaestro}"
                                            rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.codigosol}"/>

                            <h:outputText  styleClass="ikont-hot-evento" value="#{var.evento}:"/>
                            <h:outputLabel styleClass="ikont-hol-nomevento" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.periodoevento.evento.strnombre}"/>

                            <h:outputText  styleClass="ikont-hot-periodo" value="#{var.periodo}:"/>
                            <h:outputLabel  styleClass="ikont-hol-descript" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.periodoevento.strdescripcion}"/>

                            <h:outputText  styleClass="ikont-hot-evenfechsolic" value="#{var.fecha} Solicitud:" />
                            <h:outputText  styleClass="ikont-hot-maesfechsolic" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.datefechasolicitud}">
                                <f:convertDateTime pattern="dd,MMMM, yyyy"  />
                            </h:outputText>


                            <h:outputText  styleClass="ikont-hot-nombsolic" value="#{var.nomsol}"/>
                            <h:outputLabel  styleClass="ikont-hol-nombsolic" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.strnombresolicitud}"/>

                            <h:outputLabel  styleClass="ikont-hol-tiposoli" id="lbltips"  value="#{var.tiposolicitud}:" />
                            <h:outputLabel  styleClass="ikont-hol-nomtipoah" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.tipoah.strdnombretipoah}"/>

                            <h:outputText  styleClass="ikont-hot-objsolicit" value="#{var.objetosolicitud}:"/>
                            <h:outputLabel  styleClass="ikont-hol-justif" id="txtobjet"
                                            value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.strjustificacion}"/>

                            <h:outputText  styleClass="ikont-hot-incluyeint" value="#{var.incluyeint}"/>
                            <h:outputLabel  styleClass="ikont-hol-lbsi" value="Si" rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}"/>
                            <h:outputLabel  styleClass="ikont-hol-lbno" value="No" rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}"/>

                            <h:outputText  styleClass="ikont-hot-porcentinterv" value="#{var.porcentaje} Interventoria:"/>
                            <h:outputLabel  styleClass="ikont-hol-floatporcent" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.floatporcentaje}"
                                            rendered="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.boolincluyeinterventoria}">
                                <f:convertNumber pattern="##,##%"/>
                            </h:outputLabel>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>

            </rich:panel>
            <interkont:spacer height="3"/>

            <rich:panel header="#{var.distribucionayuda}" >
                <center>
                    <rich:dataTable id="tablaProductosSeleccionadosconsultar"  sortMode="single" var="_Producto" 
                                    value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.listadosolicitudDetalle}">
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column colspan="6">
                                    <h:outputText  styleClass="ikont-hot-catselect" value="#{var.categoriaseleccionada}"/>
                                </rich:column>
                                <rich:column breakRowBefore="true">
                                    <h:outputText  styleClass="ikont-hot-categoria" value="#{var.categoria}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-fliatend" value="#{var.familiasAtender}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-tamflia" value="#{var.tamFamilia}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-vlrunit" value="#{var.valorunitaio}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-vlrtotal" value="#{var.valortotal}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-municipio" value="#{var.municipio}"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                        <rich:column breakRowBefore="true">
                            <h:outputText  styleClass="ikont-hot-descrpprodctah" value="#{_Producto.productoah.strdescripcionproductoah}"/>

                        </rich:column>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-numcantsoli" value="#{_Producto.numcantidadsolicitadaitem}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-descpflia" value="#{_Producto.productoah.tipodefamilia.strdescripcionfamilia}"/>
                        </rich:column>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-numvlunit" value="#{_Producto.numvlrunitario}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </rich:column>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-numvlrtotal" value="#{_Producto.numvlrtotalitem}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </rich:column>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-strmunic" value="#{_Producto.localidad.strmunicipio}"/>
                        </rich:column>
                        <f:facet name="footer">
                            <rich:columnGroup>
                                <rich:column colspan="11" breakRowBefore="true" >
                                    <rich:dataScroller id="tablaProductosSeleccionadosconsultar" for="tablaProductosSeleccionadosconsultar" render="tablaProductosSeleccionadosconsultar"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                    </rich:dataTable>
                    <interkont:spacer height="3"/>

                    <h:panelGroup id="gpvalortotalmaestroAtencons">
                        <h:panelGrid columns="2" cellspacing="5" >
                            <h:outputText  styleClass="ikont-hot-totflia" value="#{var.totalfamilias}:"/>
                            <h:outputText  styleClass="ikont-hot-totalflias" id="totalFamiliAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.totalfamilias}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="###,###.##"/>
                            </h:outputText>
                            <h:outputText  styleClass="ikont-hot-totparcial" value="#{var.totalParcial}:"/>
                            <h:outputText  styleClass="ikont-hot-nmvlrparcial" id="totalParcialAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrtotalparcial}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                            <h:outputText  styleClass="ikont-hot-intvobra" value="#{var.interventorObra}ia:"/>
                            <h:outputText  styleClass="ikont-hot-vlrparcial" id="porcentajeAtcon" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.floatporcentaje*AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrtotalparcial/100}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                            <h:outputText  styleClass="ikont-hot-vlrsolic" value="#{var.valorsolicitud}:" />
                            <h:outputText  styleClass="ikont-hot-numsolicitud" id="valorTotalAtcon"  value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.solicitudmaestro.numvlrsolicitado}">
                                <f:convertNumber locale="#{var.rcalendarlocale}" pattern="$ ###,###.##"/>
                            </h:outputText>
                        </h:panelGrid>
                    </h:panelGroup>
                </center>
            </rich:panel>

            <interkont:spacer height="3"/>

            <!--
                <ui:include src="/modal/modalsolicitudatencion/validarGuardadoAtencion.xhtml"/>
                <ui:include src="/modal/modalsolicitudatencion/informacionentidad.xhtml"/>
            -->
            <ui:include src="/modal/modalsolicitudatencion/informacioncontacto.xhtml"/>
        </h:form>
        <ui:include src="/modal/modalsolicitudatencion/confirmarCancelarSolicitud.xhtml"/>
        <!--
        <ui:include src="/modal/modalsolicitudatencion/subirCartaFinanciera.xhtml"/>
        <ui:include src="/modal/modalsolicitudatencion/subirActaJunta.xhtml"/>
        <ui:include src="/modal/modalsolicitudatencion/subirVideoAtencion.xhtml"/>
        -->
        <ui:include src="/modal/atencionHumanitaria/enviarsolicitudah.xhtml"/>
    </ui:define>
</ui:composition>