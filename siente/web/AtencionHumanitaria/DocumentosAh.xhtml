<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Atenci√≥n Humanitaria</title>
        <h:outputScript library="css" name="/resources/css/AtencionHumanitaria/DocumentosAh.css"/>
    </ui:define>
    <ui:define name="title">
        <h:outputText  styleClass="ikont-hot-gensolicah" value="#{var.generarsolicitudah}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_atencion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_atencion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_registrar_atencion_hum.xhtml"/>
        <ui:include src="/facelets/menu_lateral_perfil_atencion_hum.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <h:form id="form_imagenes" target="_blank">

            <rich:collapsiblePanel switchType="ajax" id="gpDatosBasicos1" >
                <f:facet name="header">
                    <h:outputText  styleClass="ikont-hot-nombdoc" value="#{var.nombredoc}"/>

                </f:facet>
                <center>

                    <h:outputText  styleClass="ikont-hot-txtsubdoc" value="#{var.textsubirdoc}" rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}"/>

                    <interkont:spacer height="3"/>


                    <h:panelGrid id="panel_subir"  columns="6" columnClasses=",,,,,buttonsmall" rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">

                        <a4j:commandButton id="adjuntarDocumento" styleClass="ikont-acb-examinar" value="#{var.examinar}" 
                                           onclick="#{rich:component('panelUploadDocumento')}.show();
                                                   return false;">
                        </a4j:commandButton>
                        <h:outputText  styleClass="ikont-hot-descripdoc" id="Documento" value="#{var.descipcionDocumento}"/>
                        <h:inputText id="inputDescDocument" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.documento.strdescripcion}"/>
                        <h:outputText  styleClass="ikont-hot-tiposol" id="tiposol"  value="#{var.tipoDocumento}"/>
                        <h:selectOneMenu  id="tipodoc" value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.objTipoDocumento.inttipodocsol}">
                            <f:selectItems value="#{AtencionHumanitaria$AdminSolicitudAtencion.tipoDocumento}"/>
                        </h:selectOneMenu>
                        <a4j:commandLink id="bt_agregar" styleClass="ikont-acl-agregar" title="#{var.agregar}"
                                         action="#{AtencionHumanitaria$AdminSolicitudAtencion.subirDocumentoaLista}"
                                         render="tablaDocumentos,gpDatosBasicos1,panelUploadDocumento"/>
                        <rich:dataGrid columns="1" rowKeyVar="row" value="#{AtencionHumanitaria$AdminSolicitudAtencion.subirDocumento.files}" var="file" >
                            <h:outputText  styleClass="ikont-hot-nombrearchivodoc" id="otxt_nombrearchivo" value=" #{file.onlyName}"/>
                        </rich:dataGrid>

                    </h:panelGrid>


                    <rich:dataTable id="tablaDocumentos"  sortMode="single" var="currentRow" 
                                    binding="#{AtencionHumanitaria$AdminSolicitudAtencion.tablaDocumentos}"
                                    rowKeyVar="filaSeleccionada"  rows="7"
                                    value="#{AtencionHumanitaria$AdminSolicitudAtencion.atencionHumanitaria.listadocumentosolicitud}">
                        <f:facet name="header" >
                            <rich:columnGroup >

                                <rich:column colspan="5">
                                    <h:outputText  styleClass="ikont-hot-docselecc" value="#{var.docseleccionados}"/>
                                </rich:column>

                                <rich:column breakRowBefore="true">
                                    <h:outputText  styleClass="ikont-hot-tipodoc" value="#{var.tipoDocumento}"/>
                                </rich:column>

                                <rich:column>
                                    <h:outputText  styleClass="ikont-hot-descdoc" value="#{var.descipcionDocumento}"/>
                                </rich:column>

                                <rich:column rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">
                                    <h:outputText  styleClass="ikont-hot-eliminar" value="#{var.eliminar}"/>
                                </rich:column>

                            </rich:columnGroup>

                        </f:facet>
                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-strdesctipsol" value="#{currentRow.tipodocumentosolicitud.strdesctipodocsol}" />
                        </rich:column>

                        <rich:column >
                            <h:outputText  styleClass="ikont-hot-strdescripcion" value="#{currentRow.strdescripcion}"/>
                        </rich:column>

                        <rich:column rendered="#{!AtencionHumanitaria$AdminSolicitudAtencion.deshformulario}">
                            <a4j:commandButton id="eliminardoc" value="#{var.eliminar}" styleClass="ikont-acb-eliminar"  
                                               render="tablaDocumentos"
                                               action="#{AtencionHumanitaria$AdminSolicitudAtencion.eliminarDocumentoLista}">
                            </a4j:commandButton>
                        </rich:column>


                        <f:facet name="footer">
                            <rich:columnGroup>
                                <rich:column colspan="4" breakRowBefore="true" >
                                    <rich:dataScroller id="scrolltablaDocumentos" for="tablaDocumentos" render="tablaDocumentos"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                    </rich:dataTable>
                </center>
            </rich:collapsiblePanel>

        </h:form>

        <ui:include src="/modal/atencionHumanitaria/panelUploadDocumento.xhtml"/>
        <ui:include src="/modal/modalsolicitudatencion/confirmarCancelarSolicitud.xhtml"/>
    </ui:define>
</ui:composition>