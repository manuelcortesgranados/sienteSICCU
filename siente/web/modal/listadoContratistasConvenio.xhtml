<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <rich:popupPanel id="ikont-rpp-listado-contratistas" autosized="true" moveable="true" headerClass="rich-panel-header" style="background: white;">
        <f:facet name="header" >
            <h:panelGroup >
                <h:outputText  styleClass="ikont-hot-seleccioncontratista" value="#{var.selecionecontratista}"   />
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:form>
                <h:panelGroup>
                    <a4j:commandLink  id="esconder-ikont-rpp-listado-contratistas" styleClass="ikont-acl-cerrar closemodal"  
                                      title="#{var.cerrar}" immediate="true" onclick="#{rich:component('ikont-rpp-listado-contratistas')}.hide();
                                              return false;"/>
                </h:panelGroup>
            </h:form>
        </f:facet>

        <h:form id="ikont-f-filtrocontratista">
            <h:panelGrid columns="3" id="ikont-hpg-filtrocontratista">
                <h:outputLabel id="ikont-hol-nombrecedulaonit" styleClass="ikont-hol-nombrecedulaonit" value="#{var.nombrecedulaonit}" />
                <h:inputText id="ikont-hit-nombrecedulanitcontratista" styleClass="ikont-hit-nombrecedulanitcontratista" value="#{Supervisor$Contrato.nombreCedulaNitContratista}" size="20" onfocus="clearText(this);" />
                <a4j:commandButton styleClass="ikont-acb-buscarproyecto" value="#{var.buscarProyecto}" action="#{Supervisor$Contrato.consultarContratistas()}" 
                                   render="ikont-hpg-tabla-contratistas" execute="@form"/>
            </h:panelGrid>
        </h:form>
        <h:form id="ikont-f-tablacontratista">
            <h:panelGrid id="ikont-hpg-contratistas">
                <h:panelGroup id="ikont-hpg-tabla-contratistas" styleClass="ikont-hpg-tabla-contratistas">
                    <rich:dataTable id="ikont-rdt-contratistas" styleClass="ikont-rdt-contratistas" 
                                    value="#{Supervisor$Contrato.contratistas}"
                                    rowClasses="cabezo_tabla01, cabezo_tabla02"
                                    var="objeto" rows="10">
                        <rich:column>
                            <f:facet name="header" >
                                <h:outputText  styleClass="ikont-hot-identificacioncontratista"   value="#{var.identificacioncontratista}"/>
                            </f:facet>
                            <h:outputText  value="#{objeto.tercero.intcedula}"/>
                        </rich:column>
                        <rich:column>
                            <f:facet name="header" >
                                <h:outputText  styleClass="ikont-hot-nombrecontratista" value="#{var.nombrecontratista}"/>
                            </f:facet>
                            <h:outputText value="#{objeto.tercero.strnombre}"/>
                        </rich:column>
                        <rich:column>
                            <f:facet name="header">
                                <h:outputText  styleClass="ikont-hot-seleccionar"   value="#{var.seleccionarcontratista}"/>
                            </f:facet>
                            <h:selectBooleanCheckbox  styleClass="ikont-hsbc-booleanvalla"  value="#{objeto.seleccionado}"/>
                        </rich:column>
                    </rich:dataTable>
                </h:panelGroup>
                <rich:dataScroller maxPages="10" id="ikont-rds-contratistas" styleClass="ikont-rds-contratistas" for="ikont-rdt-contratistas"/>
                <a4j:commandButton value="#{var.asociar}" 
                                   action="#{Supervisor$Contrato.asosciarContratistasConvenio()}" 
                                   execute="@form" render="ikont-hpg-multiplescontratistas"
                                   oncomplete="if(#{facesContext.maximumSeverity==null}) #{rich:component('ikont-rpp-listado-contratistas')}.hide(); else return false;">
                </a4j:commandButton>
            </h:panelGrid>
        </h:form>        
    </rich:popupPanel>
</ui:composition>
