<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:a4j="http://richfaces.org/a4j"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:rich="http://richfaces.org/rich"
        xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:panelGroup id="panelContrato" >
        <center>

            <h:panelGroup  >
                

                <rich:dataTable styleClass="ikont-tabla-entidad-contratista" id="tablacontrato"  
                                sortMode="single" 
                                value="#{Supervisor$AdministrarObraNew.listaContrato}"
                                var="_row" 
                                rowKeyVar="filaSeleccionada" rowClasses="cabezo_tabla01, cabezo_tabla02">
                    <rich:column id="tc_strnrocontrato"   styleClass="ikont-rc-tcstrnrocontrato">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-houtnrocontrato"   value="#{var.houtnrocontrato} "/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-ststrnrocontrato"   id="st_strnrocontrato" value="#{_row.contrato.strnumcontrato}"/>
                    </rich:column>

                    <rich:column  styleClass="ikont-rc-tcstrnrocontrato">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-objetocontrato"   value="#{var.objetocontrato} "/>
                        </f:facet>
                        <h:inputTextarea  value="#{_row.contrato.textobjeto}" readonly="true" cols="35" rows="3" />
                    </rich:column>

                    <rich:column id="tc_strnomcontratista" styleClass="ikont-rc-tcstrnomcontratista">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-houtcontratis"   value="#{var.houtcontratis}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-ststrnomcontratista"   id="st_strnomcontratista" value="#{_row.contrato.contratista.strnombre} #{_row.contrato.contratista.strapellido1}"/>
                    </rich:column>

                    <rich:column id="tc_fechainic" styleClass="ikont-rc-tcfechainic">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-fechadeinicio"   value="#{var.fechadeinicio}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-datefechaini"    value="#{_row.contrato.datefechaini}"/>
                    </rich:column>

                    <rich:column id="tc_fechafina" styleClass="ikont-rc-tcfechafina">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-fechadefinalizacion"   value="#{var.fechadefinalizacion}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-datefechafin"   value="#{_row.contrato.datefechafin}"/>
                    </rich:column>

                    <rich:column id="tc_duracion" styleClass="ikont-rc-tcduracion">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-intduracion"   value="#{var.intduracion}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-intduraciondias"   value="#{_row.contrato.intduraciondias} DÃ­as"/>
                    </rich:column>

                    <rich:column id="tc_valor" styleClass="ikont-rc-tcvalor">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-vlrcontra"   value="#{var.vlrcontra}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-numvlrcontrato"   value="#{_row.contrato.numvlrcontrato}">
                            <f:convertNumber pattern="#{var.formatomoneda}"/>
                        </h:outputText>
                    </rich:column>
                    
                    <rich:column id="tc_valor_asociado" styleClass="ikont-rc-tcvalorasociado">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-valorasociadoaproyecto"   value="#{var.valorasociadoaproyecto}"/>
                        </f:facet>
                        <h:outputText  styleClass="ikont-hot-numvalorrelacion"   value="#{_row.numvalorrelacion}">
                            <f:convertNumber pattern="#{var.formatomoneda}"/>
                        </h:outputText>
                    </rich:column>
                    <rich:column id="tc_polizas" styleClass="ikont-rc-tcpolizas"  rendered="#{Supervisor$AdministrarObraNew.polizacontrato}">
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-varpolizas"   value="#{var.verpolizas}"/>
                        </f:facet>
                        <a4j:commandLink  value="X" id="verpoliza"  
                                         action="#{Supervisor$AdministrarObraNew.listaPolizacontratos}" render="panelContrato"
                                         onclick="#{rich:component('panelVerPolizaModal')}.hide();return false;">
                            <h:graphicImage  styleClass="ikont-hgi-verpoliza"    value="/resources/imgs/bt_ver.png"/>
                            <a4j:ajax event="complete"  render="layoutCron"/>
                        </a4j:commandLink>

                    </rich:column>

                    <rich:column id="tc_costos" styleClass="ikont-rc-tccostos" rendered="#{Supervisor$AdministrarObraNew.obra.tipocosto !=null}"  >
                        <f:facet class="ikont-colum-superior-consulta" name="header">
                            <h:outputText  styleClass="ikont-hot-vercosto"   value="#{var.vercosto}"/>
                        </f:facet>
                        <a4j:commandLink  id="vercosto"  
                                          render="panelContrato"
                                         onclick="#{rich:component('panelCostoContrato')}.show();return true;">
                            <h:graphicImage  styleClass="ikont-hgi-vercosto"    value="/resources/imgs/bt_ver.png"/>
                            <a4j:ajax event="complete"  render="layoutCron"/>
                        </a4j:commandLink>
                    </rich:column>


                </rich:dataTable>

            </h:panelGroup>
        </center>
    </h:panelGroup>

</ui:composition>
