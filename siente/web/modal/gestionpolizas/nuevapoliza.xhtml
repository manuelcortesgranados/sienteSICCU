<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition     xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:a4j="http://richfaces.org/a4j" 
                    xmlns:interkont="http://www.interkont.com/jsf"
                    xmlns:f="http://java.sun.com/jsf/core"
                    xmlns:h="http://java.sun.com/jsf/html"
                    xmlns:rich="http://richfaces.org/rich"
                    xmlns:ui="http://java.sun.com/jsf/facelets">

    <rich:popupPanel  id="mp_nueva_poliza" moveable="true" autosized="true"  headerClass="rich-panel-header" onresize="100" width="500">
        <f:facet name="header" >
            <h:panelGroup >
                <h:outputText value="INGRESAR NUEVA PÃ“LIZA"/>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:form>
                <h:panelGroup>

                    <a4j:commandLink id="esconder_mp_nueva_poliza" styleClass="cerrar" 
                                     title="#{var.cerrar}" immediate="true" onclick="#{rich:component('mp_nueva_poliza')}.hide();
                                             return false;"/>
                </h:panelGroup>
            </h:form>
        </f:facet>
        <h:form>
            <h:panelGrid id="gpPolizaSelec" columns="2"  style="width:100%;" rendered="#{Supervisor$Contrato.verEliminar==0}" >

                <h:outputLabel id="lblTipoPoliza"  value="#{var.tipoPolizaContrato}:" for="comboTipoPoliza">

                </h:outputLabel>
                <h:selectOneMenu id="comboTipoPoliza" value="#{Supervisor$Contrato.polizacontrato.tipopoliza.inttipopoliza}"  >
                    <f:selectItems value="#{Supervisor$Contrato.tipoPolizas}"/>

                </h:selectOneMenu>

                <h:outputLabel  id="lblnumPolizaContrato"  value=" #{var.numPolizaContrato}:" for="numPolizaContrato" >

                </h:outputLabel>
                <h:inputText id="numPolizaContrato" value="#{Supervisor$Contrato.polizacontrato.strnumpoliza}" />

                <h:outputLabel id="lblVencimientoPoliza"  value=" #{var.vencimientoPoliza}:" for="calendarVenciPoliza">

                </h:outputLabel>
                <rich:calendar locale="#{var.rcalendarlocale}" datePattern="yyyy-MM-dd" id="calendarVenciPoliza" inputSize="10"
                               value="#{Supervisor$Contrato.polizacontrato.datefechavecimiento}" />


                <h:outputLabel id="lblEntidadPoliza"  value=" #{var.entidadPoliza}:" for="comboentidadPoliza">
                </h:outputLabel>
                <h:selectOneMenu id="comboentidadPoliza" value="#{Supervisor$Contrato.polizacontrato.aseguradora.intnumnitentidad}">
                    <f:selectItems value="#{Supervisor$Contrato.companias}"/>
                </h:selectOneMenu>


                <a4j:commandButton value="#{var.agregar}" id="agregar_poliza"  action="#{Supervisor$Contrato.boolPoliza}" style="left:120%"
                                   rendered="#{Supervisor$Contrato.boolcrearpoliza==false}" 
                                   render="polizasContrato,gpPolizaSelec,notienepoliza"> 

                </a4j:commandButton>



                <a4j:commandButton value="#{var.editar}"   action="#{Supervisor$Contrato.insertarPoliza}" style="left:120%"
                                   render="polizasContrato,mp_nueva_poliza"  rendered="#{Supervisor$Contrato.boolcrearpoliza==true}" 
                                   oncomplete="javascript:Richfaces.hideModalPanel('mp_nueva_poliza');">
                </a4j:commandButton>


            </h:panelGrid>
        </h:form>
    </rich:popupPanel>   
</ui:composition>
