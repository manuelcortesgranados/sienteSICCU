<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets">


    <rich:popupPanel id="modalactividades"  autosized="true" headerClass="rich-panel-header" moveable="true">
        <f:facet name="header" >
            <h:panelGroup >
                <h:outputText value="ACTIVIDADES PARA #{Supervisor$DetalleObra.mensageFechaSeleccio}"/>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:form>
                <h:panelGroup>
                    <a4j:commandLink id="esconder_modalactividades" styleClass="cerrar"
                                     title="#{var.cerrar}" onclick="#{rich:component('modalactividades')}.hide();
                                             return false;"/>
                </h:panelGroup>
            </h:form>
        </f:facet>
        <center>
            <h:form>
                <rich:panel style="overflow-y:scroll;height:350px">
                    <rich:dataTable id="listaractividades"
                                    style="text-align:left; line-height:15px; font-size:8; width: 80%"
                                    var="row"
                                    value="#{Supervisor$DetalleObra.listaActividadesAlimentacion}"
                                    onrowmouseout="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
                                    onrowmouseover="this.style.backgroundColor='#B4DDEC'"
                                    rows="7">
                        <f:facet name="header">
                            <rich:columnGroup>
                                <rich:column colspan="8">
                                    <h:outputText value="Listado de Actividades #{Supervisor$DetalleObra.totalfilas} #{var.paginaCiu} #{Supervisor$DetalleObra.pagina}#{var.deCiu}#{Supervisor$DetalleObra.totalpaginas}" />
                                </rich:column>
                                <rich:column breakRowBefore="true">
                                    <h:outputText value="#{var.actividad}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.unidaddemedida}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.valorunitaio}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.cantidadprogramada}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.cantidadejecutada}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.cantidadejecutadaacumulado}"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.porcentajealimentacion}%"/>
                                </rich:column>
                                <rich:column>
                                    <h:outputText value="#{var.porcentajetotalactividad}%"/>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                        <rich:columnGroup>
                            <rich:column breakRowBefore="true">
                                <h:outputLabel id="layoutactividad" styleClass="txt_outtext" value="#{row.actividadobra.strdescactividad}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutunidad" styleClass="txt_outtext" value="#{row.actividadobra.strtipounidadmed}" />
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutcantidad" styleClass="txt_outtext" value="#{row.actividadobra.numvalorplanifao}" >
                                    <f:convertNumber pattern="$###,###"/>
                                </h:outputLabel>
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutcostounitario" styleClass="txt_outtext" value="#{row.actividadobra.floatcantplanifao}" >
                                    <f:convertNumber pattern="###,###"/>
                                </h:outputLabel>
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutcantidadejecutada" styleClass="txt_outtext" value="#{row.floatcantejec}" >
                                    <f:convertNumber pattern="###,###"/>
                                </h:outputLabel>
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutcantidadejecutadaacumulado" styleClass="txt_outtext" value="#{row.actividadobra.floatcantidadejecutao}" >
                                    <f:convertNumber pattern="###,###"/>
                                </h:outputLabel>
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutporcentajealimentacion" styleClass="txt_outtext" value="#{row.floatcantejec/row.actividadobra.floatcantplanifao*100}" >
                                    <f:convertNumber pattern="###,###"/>
                                </h:outputLabel>
                            </rich:column>
                            <rich:column>
                                <h:outputLabel id="layoutporcentajetotalactividad" styleClass="txt_outtext" value="#{row.actividadobra.floatcantidadejecutao/row.actividadobra.floatcantplanifao*100}">
                                    <f:convertNumber pattern="###,###"/>
                                </h:outputLabel>
                            </rich:column>
                        </rich:columnGroup>
                        <f:facet name="footer">
                            <rich:columnGroup>
                                <rich:column colspan="8" breakRowBefore="true" style="text-align: center;">
                                    <center>
                                        <a4j:commandButton value="#{var.primeroCiu}" disabled="#{!Supervisor$DetalleObra.veranterior}" render="listaractividades" action="#{Supervisor$DetalleObra.primeroActividades}"/>
                                        <a4j:commandButton value="#{var.anteriorCiu}" disabled="#{!Supervisor$DetalleObra.veranterior}" render="listaractividades" action="#{Supervisor$DetalleObra.anterioresActividades}"/>
                                        <a4j:commandButton value="#{var.siguienteCiu}" disabled="#{!Supervisor$DetalleObra.verultimos}" render="listaractividades" action="#{Supervisor$DetalleObra.siguienteActividades}"/>
                                        <a4j:commandButton value="#{var.ultimoCiu}" disabled="#{!Supervisor$DetalleObra.verultimos}" render="listaractividades" action="#{Supervisor$DetalleObra.ultimoActividades}"/>
                                    </center>
                                </rich:column>
                            </rich:columnGroup>
                        </f:facet>
                    </rich:dataTable>
                </rich:panel>
            </h:form>
        </center>
    </rich:popupPanel>

</ui:composition>