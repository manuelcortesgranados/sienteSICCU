<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./../facelets/template_main.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:interkont="http://www.interkont.com/jsf">
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <h:panelGroup  rendered="#{!var.permisonuevodiseno}">
            <ui:include src="./../facelets/menu_lateral_gestion.xhtml"/>            
        </h:panelGroup>
        <h:panelGroup rendered="#{var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_lateral_novedades_zoom.xhtml"/>
        </h:panelGroup> 
    </ui:define>
    <ui:define name="body">
        <script type="text/javascript">
            localStorage.setItem('accionNuevoConvenio', "ikont-acl-datosbasicos img-button-ncpo");
        </script>
        <h:panelGroup rendered="#{var.permisonuevodiseno  and Supervisor$Contrato.contrato.modolecturaplanop}" >
            <ui:include src="/facelets/menu_superior_administrar_convenio.xhtml"/>
        </h:panelGroup>
        <h:form id="frmpanelgeneral" styleClass="ikont-hf-nuevocontratoplanoperativo">
            <h:panelGroup rendered="#{!Supervisor$Contrato.contrato.modolecturaplanop}" >
                <ui:include src="/facelets/menu_superior_administrar.xhtml" />
            </h:panelGroup>
            <center>

                <h:panelGroup  styleClass="ikont-hpg-infogeneral"  id="hpg-infogeneral" rendered="#{(Supervisor$Contrato.panelPantalla==1 or Supervisor$Contrato.panelPantalla==2 or Supervisor$Contrato.panelPantalla==3 or Supervisor$Contrato.panelPantalla==4 or Supervisor$Contrato.panelPantalla==5) and !Supervisor$Contrato.contrato.modolecturaplanop}">
                    <br/>
                    <h:outputText styleClass="ikont-title-1-convenio" value="#{var.nuevoconvenio}"/>
                    <br/>
                    <h:outputText styleClass="ikont-title2-convenio" value="#{Supervisor$Contrato.variabletitulo}"/>
                    <br/>                
                    <h:outputText styleClass="ikont-title-3-convenio label_texto_convenio" value="#{Supervisor$Contrato.infogeneralcrearconvenio}"/>
                    <br/>
                    <h:outputText styleClass="ikont-title-3-convenio label_texto_convenio" value="#{var.infogeneralconvenio}"/>
                    <br/>
                    <br/>
                    <hr class="ikont-hr-separador-convenio" />
                    <br/>
                </h:panelGroup>
            </center>
            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==1}" id="reg-datos-basicos" >
                <h:panelGroup layout="block" style="width: 900px;" styleClass="ikont-rp-db">
                    <ui:include src="/NuevoProyecto/datosBasicosplanoperativo.xhtml"/>     
                </h:panelGroup>
            </a4j:region>

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==2}" id="reg-plan-operativo"  >
                <h:panelGrid columns="3" cellspacing="15" cellpadding="0" id="menu-plan-operativo" styleClass="ikont-hpg-menu-plan-operativo">
                    <a4j:commandLink styleClass="button-plan-flujo-report" value="#{var.planificacion}" action="#{Supervisor$Contrato.planOperativo}"/>
                    <a4j:commandLink styleClass="button-plan-flujo-report" value="#{var.flujocaja}"  immediate="true" execute="@this" render="frmpanelgeneral" action="#{PlanOperativo.iniciarFlujoCaja()}">
                        <a4j:param assignTo="#{Supervisor$Contrato.subpantalla}" value="2"/>
                    </a4j:commandLink>                    
                    <a4j:commandLink styleClass="button-plan-flujo-report" value="#{var.reportes}" action="#{Supervisor$Contrato.guardarBorradorConvenio}"  render="frmpanelgeneral" immediate="true" execute="@this">
                        <a4j:param assignTo="#{Supervisor$Contrato.subpantalla}" value="3"/>
                    </a4j:commandLink>
                </h:panelGrid>
                <a4j:region rendered="#{Supervisor$Contrato.subpantalla==2}"  id="reg-plan-operativo-flujocaja" >
                    <h:panelGroup layout="block" style="width: 900px;" styleClass="ikont-rp-flujocaja">
                        <ui:include src="/Supervisor/Flujocaja.xhtml" />
                    </h:panelGroup>
                </a4j:region>

                <a4j:region rendered="#{Supervisor$Contrato.subpantalla==3}"  id="reg-plan-operativo-presupuesto">

                    <h:panelGroup id="hpg-rpt-planoperativo" layout="block" style="width:800px;height:400px;" styleClass="ikont-rp-po">
                        <center>
                            <ui:include src="/Supervisor/Reporte_planOP.xhtml" />
                        </center> 

                        <ui:include src="/modal/seleccionarFormatoReporte.xhtml" />
                    </h:panelGroup>   
                </a4j:region>      
            </a4j:region> 

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==3}" id="reg-polizas">
                <h:panelGroup layout="block" style="width:800px;">                   
                    <ui:include src="/Supervisor/PolizasPlanOperativo.xhtml" />                        
                </h:panelGroup>
            </a4j:region>  

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==4}" id="reg-formas-pago">
                <h:panelGroup layout="block" style="width:800px;height:400px;">
                    forma pago
                </h:panelGroup>

            </a4j:region>

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==5}" id="reg-documentos">
                <h:panelGroup layout="block" style="width:900px">
                    <ui:include src="/Supervisor/DocumentosPlanOperativo.xhtml"/>                    
                </h:panelGroup>
            </a4j:region> 

            <h:panelGrid styleClass="ikont-hpg-botones" columns="3" cellspacing="15" cellpadding="0" rendered="#{!Supervisor$Contrato.contrato.modolecturaplanop}">                

                <a4j:commandLink styleClass="ikont-po-img-posicion-borrador-finalizar ikont-po-img-borrador"  title="Guardar borrador"  action="#{Supervisor$Contrato.guardarBorradorConvenio}"                                  render="@form"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio">
                    <a4j:param assignTo="#{Supervisor$Contrato.guardarborradorconvenio}" value="false"/>
                </a4j:commandLink>

                <a4j:commandLink styleClass="ikont-po-img-posicion-borrador-finalizar ikont-po-img-finalizar" title="Finalizar"  action="#{Supervisor$Contrato.finalizarGuardado}" render="@form"                                  
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio"/> 


            </h:panelGrid>            
        </h:form>
        <ui:include src="/modal/editarDocumentoModal.xhtml"/>
        <ui:include src="/modal/panelUploadDocumentoContratoBasico.xhtml"/>
        <!--<ui:include src="/modal/FuenteRecursosConvenio.xhtml"/>
        <ui:include src="/modal/confirmarguardadoconveniopo.xhtml"/>-->

    </ui:define>

</ui:composition>
