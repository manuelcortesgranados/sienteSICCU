<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./../facelets/template_main.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:interkont="http://www.interkont.com/jsf">

    <ui:define name="head">       
    </ui:define>

    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml" />
    </ui:define>

    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_novedades.xhtml"/>
    </ui:define>

    <ui:define name="title">
        <h:form>
            <h:panelGroup layout="block" styleClass="ikont-hpg-contentmenu">
                <h:panelGrid id="menu-nuevo-convenio" styleClass="ikont-hpg-menu-nuevo-convenio"  columns="5"   cellspacing="15" cellpadding="0" rowClasses="panelcenter">
                    <h:panelGroup layout="block" >
                        <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel(1)}"  immediate="true" styleClass="ikont-acl-datosbasicos img-button-ncpo buttonactive"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block" >
                        <h:commandLink  action="#{Supervisor$Contrato.planOperativo()}"  immediate="true" styleClass="ikont-acl-planoperativo img-button-ncpo"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block" >
                        <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel(3)}"  render="frmpanelgeneral" immediate="true" styleClass="ikont-acl-polizas img-button-ncpo"/>
                    </h:panelGroup>
                    <h:panelGroup layout="block" >
                        <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel(4)}" render="frmpanelgeneral" immediate="true" styleClass="ikont-acl-formapago img-button-ncpo"/>    
                    </h:panelGroup>
                    <h:panelGroup layout="block" >
                        <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel(5)}" render="frmpanelgeneral" immediate="true" styleClass="ikont-acl-documentos img-button-ncpo"/>    
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGroup>

        </h:form>

    </ui:define>

    <ui:define name="body">
        <h:form id="frmpanelgeneral" styleClass="ikont-hf-nuevocontratoplanoperativo">
            <h:panelGroup  styleClass="ikont-hpg-infogeneral"  id="hpg-infogeneral" style="width: 500px;height:200px;" rendered="#{Supervisor$Contrato.panelPantalla==1 or Supervisor$Contrato.panelPantalla==2 or Supervisor$Contrato.panelPantalla==3 or Supervisor$Contrato.panelPantalla==4 or Supervisor$Contrato.panelPantalla==5 }">
                <center>
                    <h:outputText value="#{var.nuevoconvenio}"/>
                    <br/>
                    <h:outputText value="#{Supervisor$Contrato.variabletitulo}"/>
                    <br/>                
                    <h:outputText value="#{Supervisor$Contrato.infogeneralcrearconvenio}"/>
                </center>
            </h:panelGroup>

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==1}" id="reg-datos-basicos" >
                <h:panelGroup layout="block" style="width: 900px;" styleClass="ikont-rp-db">
                    <ui:include src="/NuevoProyecto/datosBasicosplanoperativo.xhtml"/>     
                </h:panelGroup>
            </a4j:region>

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==2}" id="reg-plan-operativo"  >
                <h:panelGrid columns="3" cellspacing="15" cellpadding="0" id="menu-plan-operativo" styleClass="ikont-hpg-menu-plan-operativo">
                    <a4j:commandLink value="#{var.planificacion}" action="#{Supervisor$Contrato.actualizarSubpantallaPlanOperativo(1)}" render="frmpanelgeneral" immediate="true"/>
                    <h:commandLink value="#{var.flujocaja}" action="#{Supervisor$Contrato.actualizarSubpantallaPlanOperativo(2)}"  immediate="true"/>
                    <a4j:commandLink value="#{var.reportes}" action="#{Supervisor$Contrato.actualizarSubpantallaPlanOperativo(3)}" render="frmpanelgeneral" immediate="true" />
                </h:panelGrid>

                <a4j:region rendered="#{Supervisor$Contrato.subpantalla==1}"  id="reg-plan-operativo-planificacion" >
                    <h:panelGroup layout="block" style="width: 900px;" styleClass="ikont-rp-planificacion">
                        planoperativo

                    </h:panelGroup>
                </a4j:region>

                <a4j:region rendered="#{Supervisor$Contrato.subpantalla==2}"  id="reg-plan-operativo-flujocaja" >
                    <h:panelGroup layout="block" style="width: 900px;" styleClass="ikont-rp-flujocaja">
                        <ui:include src="/Supervisor/Flujocaja.xhtml" />
                    </h:panelGroup>
                </a4j:region>

                <a4j:region rendered="#{Supervisor$Contrato.subpantalla==3}"  id="reg-plan-operativo-presupuesto">
                    <h:panelGroup layout="block" style="width:800px;height:400px;" styleClass="ikont-rp-po">
                        <center>
                            <h:panelGrid id="rpt-planoperativo" columns="3" cellpadding="0" cellspacing="20" >
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptconsolidado"   action="#{Supervisor$Contrato.ReportesPlanOperativo(1)}" value="Consolidado"  />
                                </h:panelGrid>
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptcronograma"   action="#{Supervisor$Contrato.ReportesPlanOperativo(2)}" value="Cronograma" />
                                </h:panelGrid>
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptpresupuesto"   action="#{Supervisor$Contrato.ReportesPlanOperativo(3)}" value="Presupuesto"  />
                                </h:panelGrid>                     
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptflujocaja"   action="#{Supervisor$Contrato.ReportesPlanOperativo(4)}" value="Flujo de caja" />
                                </h:panelGrid>
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptplanoperativo"   action="#{Supervisor$Contrato.ReportesPlanOperativo(5)}" value="Plan operativo" />
                                </h:panelGrid>
                                <h:panelGrid columnClasses="panelcenter">
                                    <h:commandLink styleClass="ikont-hcl-rptplancontratacion"   action="#{Supervisor$Contrato.ReportesPlanOperativo(6)}"  value="Plan de contrataciÃ³n" />
                                </h:panelGrid>  
                            </h:panelGrid>
                        </center>
                    </h:panelGroup>   
                </a4j:region>      
            </a4j:region> 

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==3}" id="reg-polizas">
                <h:panelGroup layout="block" style="width:800px;height:400px;">                   
                    <ui:include src="/Supervisor/PolizasPlanOperativo.xhtml" />                        
                </h:panelGroup>
            </a4j:region>  

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==4}" id="reg-formas-pago">
                <h:panelGroup layout="block" style="width:800px;height:400px;">
                    forma pago
                </h:panelGroup>

            </a4j:region>

            <a4j:region rendered="#{Supervisor$Contrato.panelPantalla==5}" id="reg-documentos">
                <h:panelGroup layout="block" style="width:800px;height:400px;">
                    <ui:include src="/Supervisor/DocumentosPlanOperativo.xhtml"/>                    
                </h:panelGroup>
            </a4j:region>    

            <h:panelGrid styleClass="ikont-hpg-botones" columns="3" cellspacing="15" cellpadding="0">
                <a4j:commandLink value="#{var.finalizar}" action="#{Supervisor$Contrato.finalizarGuardado}" immediate="true" />
                <a4j:commandLink value="#{var.guardarbo}" action="#{Supervisor$Contrato.guardarBorradorConvenio}" 
                                 render="@form"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio"/>

            </h:panelGrid>

        </h:form>
        <ui:include src="/modal/editarDocumentoModal.xhtml"/>
        <ui:include src="/modal/panelUploadDocumentoContratoBasico.xhtml"/>
        <ui:include src="/modal/FuenteRecursosConvenio.xhtml"/>
        <script src="/#{var.versioncobra}/resources/gSlider/js/jquery-1.4.4.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            var $j = jQuery.noConflict();
            $j(window).scroll(function() {
                if (window.pageYOffset >= 60) {
                    $('.ikont-hpg-contentmenu:first').css("position", "fixed");
                } else {
                    $('.ikont-hpg-contentmenu:first').css("position", "relative")
                }
            });

        </script>
    </ui:define>

</ui:composition>
