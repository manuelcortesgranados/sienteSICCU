<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:rich="http://richfaces.org/rich"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:a4j="http://richfaces.org/a4j" 
                 xmlns:interkont="http://www.interkont.com/jsf"
                 xmlns:composite="http://java.sun.com/jsf/composite"
                 >
    <h:head>
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/style.css" rel="stylesheet" type="text/css"/>            
        <link href="#{facesContext.externalContext.requestContextPath}/resources/cssfonade/main.css?#{var.version}" rel="stylesheet" type="text/css"/>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/jquery-ui.css?#{var.version}" rel="stylesheet" type="text/css"/>
    </h:head>

    <rich:tabPanel  styleClass="tabPanelFiltroZoom" switchType="client" id="tab_login"  activeItem="tab_dos">
        <rich:tab header="#{var.filtroque}" id="tab_dos" name="tab_dos" style="border: 2px"
                  >
            <h:panelGrid columns="1" style="" styleClass="panel_filtro_zoom">
                <h:inputText size="35"  id="txtPalabraClave_filtro_nuevo"  value="#{HomeGestion.filtro.palabraclave}"
                             onclick="this.value = ''"  styleClass="input_filtro">
                    <rich:placeholder id="Ingresa_palabra" value="Ingresa palabra clave" /></h:inputText> 

                <h:selectOneMenu  id="tipoProyecto" value="#{HomeGestion.filtro.inttipoproyecto}"  styleClass="input_filtro">

                    <f:selectItems value="#{HomeGestion.tiposProyectos}" />
                    <a4j:ajax event="change" listener="#{HomeGestion.cargarSubtiposProyecto}" execute="@this"
                              render="subtiposProyecto"/>
                </h:selectOneMenu>

                <h:panelGroup id="subtiposProyecto"  styleClass="input_filtro" >
                    <h:selectOneMenu   id="subtipoProyecto" value="#{HomeGestion.filtro.intsubtipoproyecto}"  styleClass="input_filtro">
                        <f:selectItems value="#{HomeGestion.subTiposProyecto}" />
                    </h:selectOneMenu>
                </h:panelGroup>

                <h:panelGrid columns="1" style="width: 200px; size: 2px;" >
                    <h:inputHidden id="valormayor" value="#{HomeGestion.proyectovalormayor}" />

                    <script type="text/javascript">
                                 $(function() {
                                     $("#slider-range").slider({
                                         range: true,
                                         min: 0,
                                         max: document.getElementById("valormayor").value,
                                         values: [0, document.getElementById("valormayor").value],
                                         slide: function(event, ui) {
                                             var numero1 = ui.values[ 0 ];
                                             var numero2 = ui.values[ 1 ];
                                             $("#numero1").val(numero1);
                                             $("#numero2").val(numero2);
                                             $("#amount").val("Valor $" + ui.values[ 0 ] + " a $" + ui.values[ 1 ]);

                                         }
                                     });
                                     $("#amount").val("Valor: $ " + $("#slider-range").slider("values", 0) +
                                             " a $ " + $("#slider-range").slider("values", 1));
                                 });

                    </script>

                    <h:panelGrid columns="1">
                        <h:inputText id="amount"  styleClass="input_filtro" disabled="true"/>  
                        <h:inputHidden id="numero1"   value="#{HomeGestion.filtro.cuantiaini}"  /> 
                        <h:inputHidden id="numero2"   value="#{HomeGestion.filtro.cuantiafin}"  /> 

                    </h:panelGrid>
                    <h:selectOneMenu  id="estadoObra" value="#{HomeGestion.filtro.intestadoobra}" rendered="false">
                                    <f:selectItem itemLabel="Todos" itemValue="-1"/>
                                    <f:selectItems value="#{HomeGestion.tiposEstadoObra}"/>
                                      <a4j:ajax event="change" render="porcentajefil, avancefil"/>
                                </h:selectOneMenu>
                  
                    
                    <div id="slider-range"></div>
                    <br/>

                    <script>
                        $(function() {
                            $("#slider-range-avance").slider({
                                range: true,
                                min: 0,
                                max: 100,
                                values: [0, 100],
                                slide: function(event, ui) {
                                    var avance1 = ui.values[ 0 ];
                                    var avance2 = ui.values[ 1 ];
                                    $("#ava1").val(avance1);
                                    $("#ava2").val(avance2);
                                    $("#avance").val("Avance " + ui.values[ 0 ] + "% a " + ui.values[ 1 ] + "%");
                                }
                            });
                            $("#avance").val("Avance " + $("#slider-range-avance").slider("values", 0) +
                                    "%  a  " + $("#slider-range-avance").slider("values", 1) + "%");
                        });
                    </script>

                    <h:inputText id="avance"  styleClass="input_filtro"  disabled="true"/>  
                    
                    <h:inputHidden id="ava1" value="#{HomeGestion.filtro.avance1}" />
                    <h:inputHidden id="ava2" value="#{HomeGestion.filtro.avance2}" />

                    <div id="slider-range-avance"></div>

                     

                </h:panelGrid>
            </h:panelGrid>
            <center>
                <h:commandButton type="submit" action="#{HomeGestion.filtroObrasActionMapaAvanModal}" id="filtrar_nuevo1"  value="#{var.buscar}"
                                 styleClass="boton1"             />
            </center>
        </rich:tab>
        <rich:tab 
            header="#{var.filtrodonde}"  id="tab_uno" name="tab_uno"   >                      
            <h:panelGrid columns="1" styleClass="panel_filtro_zoom"  >
                <h:panelGroup>
                    <h:selectOneMenu value="#{HomeGestion.inttipoorigen}" disabled="#{var.habilitarDepartamentoEjecutaraProyecto}"  styleClass="input_filtro">
                        <f:selectItem itemValue="0" itemLabel="#{var.zonaespec}"/>
                        <f:selectItem itemValue="1" itemLabel="#{var.localidades}"/>
                        <a4j:ajax event="change" execute="@this" listener="#{HomeGestion.configurarzonalocali}" render="tipoorigen"/>
                    </h:selectOneMenu>

                    <h:panelGrid id="tipoorigen" columns="1" columnClasses="panelcenter" >
                        <h:panelGrid id="filtrozonaes" columns="1" rendered="#{HomeGestion.inttipoorigen == 0}" >
                            <h:selectOneMenu id="zona" value="#{HomeGestion.filtro.intregionespecifica}" rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen == 4}"  styleClass="input_filtro">
                                <f:selectItem itemValue="0" itemLabel="#{var.todos}"/>
                                <f:selectItems value="#{HomeGestion.zonaespe}"/>
                                <a4j:ajax event="change" execute="@this" render="filtrozonaes"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <h:panelGrid id="filtrodeptos"  columns="1" rendered="#{HomeGestion.inttipoorigen == 1}" >
                            <h:selectOneMenu  id="depto" value="#{HomeGestion.filtro.strcoddepto}" disabled="#{var.habilitarDepartamentoEjecutaraProyecto}"  styleClass="input_filtro"
                                              rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen == 4}">
                                <f:selectItems value="#{HomeGestion.departamentos}"/>
                                <a4j:ajax event="change" listener="#{HomeGestion.cargarMunicipios}" execute="@this"
                                          render="municipios"/>
                            </h:selectOneMenu>
                            <h:selectOneMenu  id="municipios" value="#{HomeGestion.filtro.strmunicipio}"  styleClass="input_filtro"
                                              rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen != 1}">
                                <f:selectItems value="#{HomeGestion.municipios}" />
                            </h:selectOneMenu>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:panelGroup>
            </h:panelGrid>
            <center>
               <h:commandButton type="submit" action="#{HomeGestion.filtroObrasActionMapaAvanModal}" id="filtrar_nuevo2"  value="#{var.buscar}"
                                 styleClass="boton1"             /></center>
        </rich:tab>

        <rich:tab header="#{var.filtroquien}"  id="tab_tres" name="tab_tres">
            <h:panelGrid  styleClass="panel_filtro_zoom"> 
                <h:panelGroup>
                    <h:inputText  id="txtPalabraClave1"  value="#{HomeGestion.filtro.strentidad}"
                                  onclick="this.value = ''"   styleClass="input_filtro" >
                        <rich:placeholder value="Cliente" /></h:inputText> <br/><br/>

                    <h:inputText   id="txtPalabraClave2" value="#{HomeGestion.filtro.strcontratista}"
                                   onclick="this.value = ''"   styleClass="input_filtro">
                        <rich:placeholder value="Contratista" /></h:inputText> <br/> <br/>

                    <h:inputText size="35"  id="txtPalabraClave3"
                                 onclick="this.value = ''"   styleClass="input_filtro" >
                        <rich:placeholder value="Interventor" /></h:inputText> <br/><br/>

                    <h:inputText size="35"  id="txtPalabraClave4"
                                 onclick="this.value = ''"  styleClass="input_filtro" >
                        <rich:placeholder value="Gerente de Convenio" /></h:inputText> <br/><br/>
                </h:panelGroup> 
            </h:panelGrid>
            <center>
                <h:commandButton type="submit" action="#{HomeGestion.filtroObrasActionMapaAvanModal}" id="filtrar_nuevo3"  value="#{var.buscar}"
                                 styleClass="boton1"             /></center>
        </rich:tab>





    </rich:tabPanel>

</ui:composition>
