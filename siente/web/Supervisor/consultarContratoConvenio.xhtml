<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j" 
                xmlns:interkont="http://www.interkont.com/jsf"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/facelets/template_main.xhtml">    

    <ui:define name="head" >
        <link href="/#{var.versioncobra}/resources/cssfonade/main.css" rel="stylesheet" type="text/css" />
    </ui:define>

    <ui:define name="title">
        <h:outputText  styleClass="ikont-hot-consultarentidadesnacionales"   value="#{var.consultar} #{Supervisor$Contrato.tipoContCon}"/><h:outputText value=" Entidades Nacionales" rendered="#{var.varconsulcontratoconvenio}" />
    </ui:define>

    <ui:define name="menu">
        <h:panelGroup rendered="#{!var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_gestion.xhtml" />
        </h:panelGroup>  
        <h:panelGroup rendered="#{var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_gestion_zoom.xhtml" />
        </h:panelGroup>  
    </ui:define>

    <ui:define name="menu_lateral">      
        <h:panelGroup  rendered="#{!var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_lateral_gestion.xhtml" />
            <ui:include src="/facelets/menu_lateral_novedades.xhtml" />
        </h:panelGroup>
        <h:panelGroup rendered="#{var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_lateral_novedades_zoom.xhtml"/>
        </h:panelGroup>  
    </ui:define>      

    <ui:define name="body">        
        <h:form>

            <table  border="0" cellspacing="0" cellpadding="0" class="totalwidth">
                <tr>
                    <td>
                        <div styleClass="ikont-div-buscador">
                            <div id="buscador_space">
                                <label>
                                    <h:inputText id="txtPalabraClave" styleClass="ikont-hit-txtPalabraClave"  

                                                 value="#{Supervisor$Contrato.filtrocontrato.palabraClave}"
                                                 onfocus="clearText(this);"

                                                 />                                        

                                    <a4j:commandButton id="filtrar" value="#{var.buscar}" execute="@this, txtPalabraClave"
                                                       action="#{Supervisor$Contrato.buscarContrato}"
                                                       render="pl-tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio-contratista, panel-filtro-novedades" />
                                </label>
                            </div>
                        </div>
                    </td>
                    <td>
                        <h:commandButton styleClass="ikont-a4jcl-houtbusquedaavanza busquedavanzada"   value="#{var.houtbusquedaavanza}" 
                                         action="#{Supervisor$Contrato.iniciarFiltroAvanzado}"
                                         >
                            <a4j:ajax oncomplete="#{rich:component('panelFiltroContrato')}.show();"/>
                        </h:commandButton>
                    </td>
                </tr>
            </table>


            <h:panelGrid styleClass="totalwidth ikont-table-consultar-convenio">
                <interkont:spacer height="20"  />
                <br/>
                <br/>
                <h:panelGrid  cellspacing="12" columns="2"  id="panel-filtro-novedades">
                    <h:outputLabel rendered="#{Supervisor$Contrato.tipoContCon != 'Convenio' and var.tipocontratos}" styleClass="ikont-hol-lblEntidadconveniocontrato" id="lbltipocontratoselectselect" value="#{var.selecciontipocontrato}"/>
                    <h:panelGrid rendered="#{Supervisor$Contrato.tipoContCon != 'Convenio' and var.tipocontratos}" styleClass="ikont-hol-lblEntidadconveniocontrato" columns="2">
                        <h:selectOneMenu value="#{Supervisor$Contrato.filtrocontrato.tipocontratoselect}" >
                            <f:selectItem itemLabel="Todos" itemValue="2"/>                              
                            <f:selectItem itemLabel="Ejecución" itemValue="0"/>
                            <f:selectItem itemLabel="Consultoria" itemValue="1"/>
                            <a4j:ajax event="valueChange" render="ikont-hsom-listartipocontratos, @form" execute="ikont-hsom-listartipocontratos" listener="#{Supervisor$Contrato.listaxTipocontratoselect}"/>
                        </h:selectOneMenu>                    
                    </h:panelGrid>
                    <h:outputLabel rendered="#{Supervisor$Contrato.tipoContCon != 'Convenio' and var.tipocontratos}" styleClass="ikont-hol-lblEntidadconveniocontrato"   id="lbltipocontratoselect" value="#{var.TipoContratoContralorias}: " />                   
                    <h:panelGrid  rendered="#{Supervisor$Contrato.tipoContCon != 'Convenio' and var.tipocontratos}" columnClasses="inputsDetalle,inputsDetalle" columns="2"   >                                
                        <h:selectOneMenu value="#{Supervisor$Contrato.filtrocontrato.tipocontrato}" id="ikont-hsom-listartipocontratos" disabled="#{Supervisor$Contrato.filtrocontrato.tipocontratoselect == 2}">
                            <f:selectItem itemLabel="Todos" itemValue="0"/>
                            <f:selectItems value="#{Supervisor$Contrato.tipocontratoselectitem}"/>                  
                            <a4j:ajax event="valueChange"
                                      listener="#{Supervisor$Contrato.listarPorTipoContrato}"
                                      render="tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio-contratista"
                                      execute="@this"/>         
                        </h:selectOneMenu>                           
                    </h:panelGrid>
                    <h:outputLabel  styleClass="ikont-hol-lblEntidadconveniocontrato"   id="lbltipoentidad" value="#{var.entidad}: " />

                    <h:panelGrid columns="2" columnClasses="inputsDetalle,inputsDetalle" id="consulconvenio" styleClass="ikont-hpg-consulconvenio"  >        
                        <rich:select id="ikont-fsi-selecentid" enableManualInput="true" defaultLabel="#{Supervisor$Contrato.contrato.tercero.strnombrecompleto}" 
                                     value="#{Supervisor$Contrato.contrato.tercero.strnombrecompleto}" >                           
                            <f:selectItems value="#{Supervisor$Contrato.terceroOption}" />   
                            <a4j:ajax event="selectitem"
                                      listener="#{Supervisor$Contrato.comboEntidadesContrato}"
                                      render="tabla-listado-contratoconvenio,ikont-fsi-selecentid, pl-tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio-contratista"
                                      execute="@this" >
                            </a4j:ajax>                               
                        </rich:select>                           

                    </h:panelGrid>
                    <h:outputLabel rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}"  styleClass="ikont-hol-lblEntidadconveniocontrato"   id="lblEstadoconvenio" value="Estado convenio: " />
                    <h:panelGrid  columns="2" rendered="#{var.conplanoperativo and var.boolestadoconvenio and Supervisor$Contrato.tipoContCon == 'Convenio'}">
                        <h:selectOneMenu value="#{Supervisor$Contrato.filtrocontrato.estadoConvenio}"
                                         >
                            <f:selectItems value="#{Supervisor$Contrato.estadoConvenioOption}" />     
                            <f:selectItem itemLabel="Todos" itemValue="0"/>
                            <a4j:ajax event="valueChange"
                                      listener="#{Supervisor$Contrato.comboEntidadesContrato()}"
                                      render="tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio, pl-tabla-listado-contratoconvenio-contratista"
                                      execute="@this"/>
                        </h:selectOneMenu>  
                    </h:panelGrid>

                    <h:outputLabel value="Plan Nacional de Desarrollo:" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}"  styleClass="ikont-hol-lblEntidadconveniocontrato"/>
                    <h:panelGrid columns="1" styleClass="panel_nom_abreviado" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}">
                        <rich:column>
                            <h:selectOneMenu  id="selectPND" value="#{Supervisor$Contrato.planNacionalDeDesarrollo}" style="width: 420px!important;height: 32px!important;">
                                <f:selectItem itemLabel=" -- todos --" itemValue="#{0}"/>
                                <f:selectItems value="#{Supervisor$Contrato.listaPlanNacionalDeDesarrollo}" var="pnd" itemValue="#{pnd.id}" itemLabel="(#{pnd.periodo}) #{pnd.nombre}" />
                                <a4j:ajax  
                                    render="selectTipificN1,selectTipificN2,selectTipificN3, pl-tabla-listado-contratoconvenio"  
                                    limitRender="true" 
                                    execute="@this" 
                                    transient="true" 
                                    listener="#{Supervisor$Contrato.buscarPorPND()}">
                                </a4j:ajax>
                            </h:selectOneMenu>
                        </rich:column>
                    </h:panelGrid>

                    <h:outputLabel value="Sector:" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}"  styleClass="ikont-hol-lblEntidadconveniocontrato"/>
                    <h:panelGrid columns="1" styleClass="panel_nom_abreviado" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}">
                        <rich:column>
                            <h:selectOneMenu  id="selectTipificN1" value="#{Supervisor$Contrato.tipificacionSector}"  style="width: 420px!important;height: 32px!important;">
                                <f:selectItem  itemLabel="-- todos --" itemValue="#{0}"/>
                                <f:selectItems value="#{Supervisor$Contrato.listaTipificacionSectores}" var="sector" itemValue="#{sector.id}" itemLabel="#{sector.nombre}" />
                                <a4j:ajax 
                                    render="selectTipificN2,selectTipificN3,pl-tabla-listado-contratoconvenio"  
                                    limitRender="true" 
                                    execute="selectTipificN1" 
                                    transient="true"
                                    listener="#{Supervisor$Contrato.buscarPorPND()}"></a4j:ajax>
                            </h:selectOneMenu>
                        </rich:column>
                    </h:panelGrid>

                    <h:outputLabel value="Objetivo:" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}"  styleClass="ikont-hol-lblEntidadconveniocontrato"/>
                    <h:panelGrid columns="1" styleClass="panel_nom_abreviado" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}">
                        <rich:column>
                            <h:selectOneMenu value="#{Supervisor$Contrato.tipificacionObjetivo}" id="selectTipificN2" style="width: 420px!important;height: 32px!important;">
                                <f:selectItem  itemLabel="-- todos --" itemValue="0"/>
                                <f:selectItems value="#{Supervisor$Contrato.listaTipificacionObjetivos}" var="objetivo" itemValue="#{objetivo.id}" itemLabel="#{objetivo.nombre}"  />
                                <a4j:ajax 
                                    render="selectTipificN3,pl-tabla-listado-contratoconvenio"  
                                    limitRender="true" 
                                    execute="selectTipificN2"
                                    transient="true"
                                    listener="#{Supervisor$Contrato.buscarPorPND()}"></a4j:ajax>
                            </h:selectOneMenu>
                        </rich:column>
                    </h:panelGrid>

                    <h:outputLabel value="Estrategia:" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}"  styleClass="ikont-hol-lblEntidadconveniocontrato"/>
                    <h:panelGrid columns="1" styleClass="panel_nom_abreviado" rendered="#{var.conplanoperativo and Supervisor$Contrato.tipoContCon == 'Convenio'}">
                        <rich:column>
                            <h:selectOneMenu value="#{Supervisor$Contrato.tipificacionEstrategia}" id="selectTipificN3" style="width: 420px!important;height: 32px!important;">
                                <f:selectItem itemLabel="-- todos --" itemValue="0"/>
                                <f:selectItems value="#{Supervisor$Contrato.listaTipificacionEstrategias}" var="estrategia" itemValue="#{estrategia.id}" itemLabel="#{estrategia.nombre}"  />
                                <a4j:ajax render="pl-tabla-listado-contratoconvenio"  
                                          limitRender="true" 
                                          execute="selectTipificN3" 
                                          transient="true"
                                          listener="#{Supervisor$Contrato.buscarPorPND()}"></a4j:ajax>
                            </h:selectOneMenu>
                        </rich:column>
                    </h:panelGrid>
                </h:panelGrid>

                <interkont:spacer height="10px"  />

                <!-- Listado de convenios según la entidad del contratante -->
                <h:panelGroup layout="block" id="pl-tabla-listado-contratoconvenio" >
                    <h:panelGrid rendered="#{empty Supervisor$Contrato.listacontratos and empty Supervisor$Contrato.listacontratoscontratista}">
                        <f:facet name="header">
                            <h:outputText  styleClass="ikont-hot-noencontrocontratoentidad"   value="No se encontró #{Supervisor$Contrato.tipoContCon} para esta entidad" />
                        </f:facet>
                    </h:panelGrid>
                    <rich:extendedDataTable id="tabla-listado-contratoconvenio"
                                            value="#{Supervisor$Contrato.listacontratos}"
                                            var="currentRow" 
                                            rowKeyVar="filaSeleccionada"
                                            rendered="#{Supervisor$Contrato.listacontratos.size()>0}"
                                            rows="20"
                                            style="height:700px; width:1100px;" selectionMode="none"
                                            frozenColumns="2"
                                            rowClasses="oddeven"
                                            >
                        <rich:column style="height: 60px;">
                            <f:facet name="header" >
                                <h:outputText id="txtnumeroccccc" value="#{var.numero} #{Supervisor$Contrato.tipoContCon}" />
                            </f:facet>
                            <h:outputText style="height: 50px"  value="#{currentRow.strnumcontrato}" />
                        </rich:column>
                        <rich:column width="200px" style="height: 60px">
                            <f:facet name="header">
                                <h:outputText id="outxtnombrecc" value="#{var.nombre}" />
                            </f:facet>
                            <h:inputTextarea styleClass="ikont-hit-intxtnombrecc" style="overflow-y: scroll;" id="intxtnombrecc" value="#{currentRow.strnombre}" disabled="true" cols="60" rows="10"  />
                        </rich:column>
                        <rich:column style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="outxttipocc" value="#{var.tipocontr}" />
                            </f:facet>
                            <h:outputText style="height: 50px" rendered="#{!Supervisor$Contrato.boolcontrconsultoria}" id="intxttipocc" value="#{currentRow.tipocontratoconsultoria.strdescripcion}" />
                            <h:outputText style="height: 50px" rendered="#{Supervisor$Contrato.boolcontrconsultoria}" id="intxttipocc2" value="#{currentRow.tipocontratoconsultoria.strdescripcion}" />
                        </rich:column>
                        <rich:column width="130px" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="outxtvlrcc" value="#{var.valor}" />
                            </f:facet>
                            <h:outputText style="text-align: right; width: 130px; height: 50px;" id="numtxtvlrcc" value="#{currentRow.numvlrcontrato}">
                                <f:convertNumber pattern="#{var.formatomoneda}" />
                            </h:outputText>
                        </rich:column>
                        <rich:column width="200px" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="outxtcontratistacc" value="#{var.contratista}" rendered="#{Supervisor$Contrato.tipoContCon=='Contrato'}" />
                                <h:outputText id="outxtentidadconv" value="#{var.contratanteCliente}" rendered="#{Supervisor$Contrato.tipoContCon=='Convenio'}" />
                                <h:outputText id="outxtcontraconsul" value="#{var.contratista}" rendered="#{Supervisor$Contrato.tipoContCon=='Contrato consultoría'}" />
                            </f:facet>
                            <h:outputText style="width: 200px; height:50px;" id="numtxtcontratistacc" value="#{currentRow.tercero.strnombrecompleto}" />
                        </rich:column>
                        <rich:column rendered="#{!Supervisor$Contrato.boolcontrconsultoria}" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="outxtpadrecc" value="#{var.proyectosasociados}?" />
                            </f:facet>
                            <h:outputText style="height: 50px" rendered="#{!Supervisor$Contrato.boolcontrconsultoria}" id="numproyecto" value="#{currentRow.intcantproyectos}" />
                        </rich:column>
                        <rich:column rendered="false" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="outxtconthijo" value="#{var.contratohijo} #{Supervisor$Contrato.tipoContCon}?" />
                            </f:facet>
                            <h:outputText style="height: 50px" id="numtxtpadrecc" value="#{var.si}" rendered="#{currentRow.booleantienehijos}" />
                            <h:outputText style="height: 50px" id="numtxtpadrehijocc" value="#{var.no}" rendered="#{!currentRow.booleantienehijos}" /> 
                        </rich:column>
                        <rich:column rendered="#{Supervisor$Contrato.boolcontrconsultoria}" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText value="#{var.contratosdeconsultoria}" />
                            </f:facet>
                            <h:outputText style="height: 50px" id="descontrconsul" value="#{currentRow.tipocontratoconsultoria.strdescripcion}" rendered="#{Supervisor$Contrato.boolcontrconsultoria}" />
                        </rich:column>
                        <rich:column style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText value="#{var.consultar}" />
                            </f:facet>
                            <h:commandLink style="height: 50px" immediate="true"  action="#{Supervisor$Contrato.detalleContrato}">
                                <h:graphicImage  styleClass="ikont-hgi-btverpng"    value="/resources/imgs/bt_ver.png" />
                                <a4j:param assignTo="#{Supervisor$Contrato.idContrato}" value="#{currentRow.intidcontrato}"></a4j:param>
                            </h:commandLink>
                        </rich:column>
                        <rich:column  rendered="#{!Supervisor$Contrato.boolcontrconsultoria}" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText value="#{var.consultar} #{Supervisor$Contrato.tipoContCon} Padre" />
                            </f:facet>
                            <h:commandLink style="height: 50px"  action="#{Supervisor$Contrato.detalleContratoPadre}" rendered="#{currentRow.contrato!=null}">
                                <h:graphicImage  styleClass="ikont-hgi-btverpng"    value="/resources/imgs/bt_ver.png" />
                                <a4j:param assignTo="#{Supervisor$Contrato.idContrato}" value="#{currentRow.intidcontrato}"></a4j:param>
                            </h:commandLink>
                        </rich:column>
                        <rich:column width="330px" style="height: 60px" rendered="#{Supervisor$Contrato.booltipocontratoconvenio}">
                            <f:facet name="header">
                                <h:outputText id="tipificacion" value="#{var.tipificacionProyecto}" />
                            </f:facet>
                            <h:outputLabel id="outtipificacionSec" style="width: 210px;" value="#{currentRow.tipificacionConvenio.tipificacionConvenioSector.nombre}" rendered="#{currentRow.tipificacionConvenio!= null}" />
                            <br/>
                            <h:outputLabel id="outtipificacionNA" style="width: 210px;" value="No aplica" rendered="#{currentRow.tipificacionConvenio== null}" />
                            <h:outputLabel id="outtipificacionObj" style="width: 210px;" value="#{currentRow.tipificacionConvenio.tipificacionConvenioObjetivo.nombre}" rendered="#{currentRow.tipificacionConvenio!= null}" />
                            <br/>
                            <h:outputLabel id="outtipificacionEst" style="width: 210px;" value="#{currentRow.tipificacionConvenio.tipificacionConvenioEstrategia.nombre}" rendered="#{currentRow.tipificacionConvenio!= null}" />
                            
                        </rich:column>
                        <rich:column rendered="#{Supervisor$Contrato.booltipocontratoconvenio}" width="200px" style="height: 60px;">
                            <f:facet name="header">
                                <h:outputText id="unidad" value="#{var.unidad}" />
                            </f:facet>
                            <h:outputLabel id="outunidad" style="width: 200px; height: 50px" value="#{currentRow.unidad.nombre}" />
                        </rich:column>
                        <f:facet name="footer">

                            <rich:column colspan="10" breakRowBefore="true">
                                <center>
                                    <h:panelGrid columns="4">
                                        <a4j:commandButton id="btPriCont" value="#{var.primeroCiu}" disabled="#{!Supervisor$Contrato.veranteriorcontrato}" immediate="true" action="#{Supervisor$Contrato.primeroDetcontrato}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio" >
                                        </a4j:commandButton>

                                        <a4j:commandButton id="btAntCont" value="#{var.anteriorCiu}" disabled="#{!Supervisor$Contrato.veranteriorcontrato}" immediate="true" action="#{Supervisor$Contrato.anterioresDetcontrato}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio">
                                        </a4j:commandButton>

                                        <a4j:commandButton id="btSigCont" value="#{var.siguienteCiu}" disabled="#{!Supervisor$Contrato.verultimoscontrato}" immediate="true" action="#{Supervisor$Contrato.siguienteDetcontrato}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio">
                                        </a4j:commandButton>

                                        <a4j:commandButton id="btUltCont" value="#{var.ultimoCiu}" disabled="#{!Supervisor$Contrato.verultimoscontrato}"  immediate="true" action="#{Supervisor$Contrato.ultimoDetcontrato}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio">
                                        </a4j:commandButton>
                                    </h:panelGrid>
                                </center>
                            </rich:column>

                        </f:facet>
                    </rich:extendedDataTable>


                    <br/>
                    <br/>
                </h:panelGroup>

                <interkont:spacer height="10px"  />

                <!-- Listado de convenios según la entidad del contratista -->
                <h:panelGroup id="pl-tabla-listado-contratoconvenio-contratista"  >
                    <rich:dataTable  styleClass="ikont-tabla-entidad-contratista"  id="tabla-listado-contratoconvenio-contratista"
                                     rowKeyVar="filaSeleccionada"
                                     value="#{Supervisor$Contrato.listacontratoscontratista}"
                                     rendered="#{Supervisor$Contrato.listacontratoscontratista.size()>0}"
                                     binding="#{Supervisor$Contrato.tablacontratoconveniocontratista}"
                                     sortMode="single" var="currentRow"  rows="6"
                                     rowClasses="cabezo_tabla01, cabezo_tabla02">
                        <f:facet id="ikont-colum-superior-consulta" name="header">

                            <rich:column styleClass="ikont-colum-superior-consulta" colspan="10">
                                <h:outputText  styleClass="ikont-hot-tipocontratosencontrados"   value="#{Supervisor$Contrato.tipoContCon}s encontrados #{Supervisor$Contrato.totalfilasContratista} #{var.paginaCiu} #{Supervisor$Contrato.paginaContratista} #{var.deCiu} #{Supervisor$Contrato.totalpaginasContratista}" />
                            </rich:column>

                            <rich:columnGroup>
                                <rich:column styleClass="ikont-colum-superior-consulta" colspan="10">
                                    <h:outputText  styleClass="ikont-hot-conveniosporcontratista"   value="#{Supervisor$Contrato.tipoContCon}s #{var.conveniosporcontratista}" />
                                </rich:column>
                            </rich:columnGroup>

                            <rich:columnGroup  >
                                <rich:column styleClass="ikont-colum-superior-consulta"  width="150px" breakRowBefore="true">
                                    <h:outputText  styleClass="ikont-hot-numerotipocontrato"   value="#{var.numero} #{Supervisor$Contrato.tipoContCon}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px">
                                    <h:outputText  styleClass="ikont-hot-nombre"   value="#{var.nombre}" />
                                </rich:column>

                                <rich:column  styleClass="ikont-colum-superior-consulta" width="150px">
                                    <h:outputText  styleClass="ikont-hot-tipocontr"   value="#{var.tipocontr}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px">
                                    <h:outputText  styleClass="ikont-hot-valor"   value="#{var.valor}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px">
                                    <h:outputText  styleClass="ikont-hot-contratista"   value="#{var.contratista}" rendered="#{Supervisor$Contrato.tipoContCon=='Contrato'}" />
                                    <h:outputText  styleClass="ikont-hot-entidad"   value="#{var.entidad}" rendered="#{Supervisor$Contrato.tipoContCon=='Convenio'}" />
                                    <h:outputText  styleClass="ikont-hot-contratista"   value="#{var.contratista}" rendered="#{Supervisor$Contrato.tipoContCon=='Contrato consultoría'}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px" rendered="#{!Supervisor$Contrato.boolcontrconsultoria}">
                                    <h:outputText  styleClass="ikont-hot-proyectosasociados"   value="#{var.proyectosasociados}?" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px" rendered="false">
                                    <h:outputText  styleClass="ikont-hot-vontratohijo"   value="#{var.contratohijo} #{Supervisor$Contrato.tipoContCon}?" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px" rendered="#{Supervisor$Contrato.boolcontrconsultoria}">
                                    <h:outputText  styleClass="ikont-hot-contratosdeconsultoria"   value="#{var.contratosdeconsultoria}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px">
                                    <h:outputText  styleClass="ikont-hot-consultar"   value="#{var.consultar}" />
                                </rich:column>

                                <rich:column styleClass="ikont-colum-superior-consulta" width="150px"  rendered="#{!Supervisor$Contrato.boolcontrconsultoria}">
                                    <h:outputText  styleClass="ikont-hot-consultarpadre"   value="#{var.consultar} #{Supervisor$Contrato.tipoContCon} Padre" />
                                </rich:column>

                                <!--<rich:column width="150px">
                                    <h:outputText  styleClass="ikont-hot-editar"   value="#{var.editar}" />
                                </rich:column>-->
                            </rich:columnGroup>
                        </f:facet>
                        <rich:column width="150px" breakRowBefore="true">
                            <h:outputText  styleClass="ikont-hot-strnumcontrato"   value="#{currentRow.strnumcontrato}" />
                        </rich:column>

                        <rich:column >
                            <h:inputTextarea value="#{currentRow.strnombre}" styleClass="ikont-hit-intxtnombrecc" disabled="true" cols="35" rows="2" />
                        </rich:column>

                        <rich:column rendered="#{!Supervisor$Contrato.boolcontrconsultoria}">
                            <h:outputText  styleClass="ikont-hot-strdesctipocontrato"   value="#{currentRow.tipocontrato.strdesctipocontrato}" />
                        </rich:column>

                        <rich:column rendered="#{Supervisor$Contrato.boolcontrconsultoria}">
                            <h:outputText  styleClass="ikont-hot-strdescripcion"   value="#{currentRow.tipocontratoconsultoria.strdescripcion}" />
                        </rich:column>

                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-numvlrcontrato" style="text-align: right;" value="#{currentRow.numvlrcontrato}">
                                <f:convertNumber pattern="#{var.formatomoneda}" />
                            </h:outputText>
                        </rich:column>

                        <rich:column>
                            <h:outputText  styleClass="ikont-hot-strnombre"   value="#{currentRow.contratista.strnombre} #{currentRow.contratista.strapellido1}" />
                        </rich:column>

                        <rich:column rendered="#{!Supervisor$Contrato.boolcontrconsultoria}">
                            <h:outputText  styleClass="ikont-hot-intcantproyectos"   value="#{currentRow.intcantproyectos}" />
                        </rich:column>

                        <rich:column rendered="false">
                            <h:outputText  styleClass="ikont-hot-si"   value="#{var.si}" rendered="#{currentRow.booleantienehijos}" />
                            <h:outputText  styleClass="ikont-hot-no"   value="#{var.no}" rendered="#{!currentRow.booleantienehijos}" />
                        </rich:column>

                        <rich:column rendered="#{Supervisor$Contrato.boolcontrconsultoria}">
                            <h:outputText  styleClass="ikont-hot-strdescripcion"   value="#{currentRow.tipocontratoconsultoria.strdescripcion}" rendered="#{Supervisor$Contrato.boolcontrconsultoria}" />
                        </rich:column>

                        <rich:column width="120px">
                            <h:commandLink   action="#{Supervisor$Contrato.detalleContratoContratista}">
                                <h:graphicImage  styleClass="ikont-hgi-btverpng"    value="/resources/imgs/bt_ver.png" />
                            </h:commandLink>
                        </rich:column>

                        <rich:column width="120px" rendered="#{!Supervisor$Contrato.boolcontrconsultoria}">
                            <h:commandLink  action="#{Supervisor$Contrato.detalleContratoPadreContratista}" rendered="#{currentRow.contrato!=null}">
                                <h:graphicImage  styleClass="ikont-hgi-btverpng"    value="/resources/imgs/bt_ver.png" />
                            </h:commandLink>
                        </rich:column>
                        <f:facet name="footer">

                            <rich:column colspan="10" breakRowBefore="true">
                                <center>
                                    <h:panelGrid columns="4">
                                        <a4j:commandButton value="#{var.primeroCiu}" disabled="#{!Supervisor$Contrato.veranteriorcontratoContratista}" immediate="true" actionListener="#{Supervisor$Contrato.primeroDetcontratoContratista}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio,pl-tabla-listado-contratoconvenio-contratista" execute="pl-tabla-listado-contratoconvenio-contratista">
                                        </a4j:commandButton>

                                        <a4j:commandButton value="#{var.anteriorCiu}" disabled="#{!Supervisor$Contrato.veranteriorcontratoContratista}" immediate="true" actionListener="#{Supervisor$Contrato.anterioresDetcontratoContratista}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio,pl-tabla-listado-contratoconvenio-contratista" execute="pl-tabla-listado-contratoconvenio-contratista">
                                        </a4j:commandButton>

                                        <a4j:commandButton value="#{var.siguienteCiu}" disabled="#{!Supervisor$Contrato.verultimoscontratoContratista}" immediate="true" actionListener="#{Supervisor$Contrato.siguienteDetcontratoContratista}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio,pl-tabla-listado-contratoconvenio-contratista" execute="pl-tabla-listado-contratoconvenio-contratista" >
                                        </a4j:commandButton>

                                        <a4j:commandButton value="#{var.ultimoCiu}" disabled="#{!Supervisor$Contrato.verultimoscontratoContratista}" immediate="true" actionListener="#{Supervisor$Contrato.ultimoDetcontratoContratista}"
                                                           render="tabla-listado-contratoconvenio,pgcontratoconvenio,pl-tabla-listado-contratoconvenio-contratista" execute="pl-tabla-listado-contratoconvenio-contratista">
                                        </a4j:commandButton>
                                    </h:panelGrid>
                                </center>
                            </rich:column>

                        </f:facet>
                    </rich:dataTable>
                </h:panelGroup>
            </h:panelGrid>
            <style>
                tr.oddeven:nth-child(odd) {
                    background-color: #F3F3F3;
                    height: 50px !important;
                }

                tr.oddeven:nth-child(even) {
                    background-color: #FFFFFF;
                    height: 50px !important;
                } 
                div.rf-edt-c{
                    height: 50px !important;
                }
            </style>
        </h:form>

        <ui:include src="/modal/modalFiltroContrato.xhtml" />
    </ui:define>
</ui:composition>