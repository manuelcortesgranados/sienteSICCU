<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:rich="http://richfaces.org/rich"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:a4j="http://richfaces.org/a4j" 
                 xmlns:interkont="http://www.interkont.com/jsf"
                 xmlns:composite="http://java.sun.com/jsf/composite"
                 >
    <h:head>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/style.css" rel="stylesheet" type="text/css"/>            
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/main.css?#{var.version}" rel="stylesheet" type="text/css"/>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/jquery-ui.css?#{var.version}" rel="stylesheet" type="text/css"/>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/jquery-ui-smoothness.css?#{var.version}" rel="stylesheet" type="text/css"/>


    </h:head>

    <rich:tabPanel  styleClass="tabPanelFiltroZoom" switchType="ajax" id="tab_login" activeItem="tab_dos" onitemchange="cargarSliedersFiltroDeBusqueda();">
        <rich:tab  header="#{var.filtroque}" id="tab_dos" name="tab_dos"  > 
            <h:graphicImage styleClass="imagen_punta1" value="/resources/imgs/logo_punta_filtro_zoom.png" />
            <h:panelGrid columns="1" styleClass="ikont-hpg-filtrobusquedaavanzadohome">
                <h:inputText  id="txtPalabraClave_filtro_nuevo"  value="#{HomeGestion.filtro.palabraclavefiltro}"
                              onclick="this.value = ''"  styleClass="input_filtro">
                <rich:placeholder id="Ingresa_palabra" value="Ingresa palabra clave" /></h:inputText>
                <!--Slider de NBI-->
                <h:outputLabel value="NBI" styleClass="ikont-hol-nbi-filtro label-slider-filtro-busqueda" /> 
                <h:panelGrid id="ikont-hpg-slider-nbe" styleClass="ikont-hpg-slider-nbe ikont-hpg-filtrobusquedaavanzada">           
                    <h:inputHidden id="ikont-hih-nbi1-filtro"  value="#{HomeGestion.filtro.cuantiaini}"/>
                    <h:inputHidden id="ikont-hih-nbi2-filtro"   value="#{HomeGestion.filtro.cuantiafin}"/>
                    <h:outputText id="ikont-hot-nbi-filtro" styleClass="ikont-hot-nbi-filtro label-valor-slider-filtro-busqueda"/> 
                    <div id="ikont-slider-range-nbi-filtro" class="ikont-slider-range-nb-filtro ikont-div-slider-filtrobusquedaavanzada"></div>
                </h:panelGrid>
                <!--Slider de CONSUMO ENERGÉTICO POR LOCALIDAD-->
                <h:outputLabel value="CONSUMO ENERGÉTICO POR LOCALIDAD (KwH)" styleClass="ikont-hol-consumoEnergeticoLocalidad-filtro label-slider-filtro-busqueda" /> 
                <h:panelGrid id="ikont-hpg-slider-consumoEnergeticoLocalidad" styleClass="ikont-hpg-slider-consumoEnergeticoLocalidad ikont-hpg-filtrobusquedaavanzada">
                    <h:inputHidden id="ikont-hih-consumoEnergeticoLocalidadIni-filtro" value="#{HomeGestion.filtro.consumoenergeticolocalidadIni}" />
                    <h:inputHidden id="ikont-hih-consumoEnergeticoLocalidadFin-filtro" value="#{HomeGestion.filtro.consumoenergeticolocalidadFin}" />
                    <h:outputText id="ikont-hot-consumoEnergeticoLocalidad-filtro" styleClass="ikont-hot-consumoEnergeticoLocalidad-filtro label-valor-slider-filtro-busqueda"/> 
                    <div id="ikont-slider-range-consumoEnergeticoLocalidad-filtro" class="ikont-slider-range-consumoEnergeticoLocalidad-filtro ikont-div-slider-filtrobusquedaavanzada"></div>
                </h:panelGrid>
                <!--Slider de HABITANTES-->
                <h:outputLabel value="HABITANTES " styleClass="ikont-hol-labelNumeroHabitantes-filtro label-slider-filtro-busqueda" /> 
                <h:panelGrid id="ikont-hpg-slider-numeroHabitantes" styleClass="ikont-hpg-slider-numeroHabitantes ikont-hpg-filtrobusquedaavanzada">
                    <h:inputHidden id="ikont-hih-numeroHabitantesIni-filtro" value="#{HomeGestion.filtro.numeroHabitantesIni}" />
                    <h:inputHidden id="ikont-hih-numeroHabitantesFin-filtro" value="#{HomeGestion.filtro.numeroHabitantesFin}" />
                    <h:outputText id="ikont-hot-numeroHabitantes-filtro" styleClass="ikont-hot-numeroHabitantes-filtro label-valor-slider-filtro-busqueda" /> 
                    <div id="ikont-slider-range-numeroHabitantes-filtro" class="ikont-slider-range-numeroHabitantes-filtro ikont-div-slider-filtrobusquedaavanzada"></div>
                </h:panelGrid>
            </h:panelGrid>
            <center>
                <h:commandButton type="submit" action="#{HomeGestion.filtrosSeparacionlateral}" id="filtrar_nuevo1"  value="#{var.buscar}"
                                 styleClass="boton1 ikont-filtro-filtrar_btn"    />
            </center>
        </rich:tab>              
        <rich:tab header="#{var.filtrodonde}"  id="tab_uno" name="tab_uno"   >  
            <h:graphicImage styleClass="imagen_punta2" value="/resources/imgs/logo_punta_filtro_zoom.png" />
            <h:panelGrid columns="1" styleClass="panel_filtro_zoom "  >
                <h:panelGroup>
                    <h:selectOneMenu value="#{HomeGestion.inttipoorigen}" rendered="false" disabled="#{var.habilitarDepartamentoEjecutaraProyecto}"  styleClass="input_filtro_select">                       
                        <f:selectItem itemValue="0" itemLabel="#{var.zonaespec}"/>
                        <f:selectItem itemValue="1" itemLabel="#{var.localidades}"/>
                        <a4j:ajax event="change" execute="@this" listener="#{HomeGestion.configurarzonalocali}" render="tipoorigen"/>
                    </h:selectOneMenu>

                    <h:panelGrid id="tipoorigen" columns="1" columnClasses="panelcenter" >
                        <h:panelGrid id="filtrozonaes" columns="1" rendered="#{HomeGestion.inttipoorigen == 0}" >
                            <h:selectOneMenu id="zona" value="#{HomeGestion.filtro.intregionespecifica}" rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen == 4}"  styleClass="input_filtro_select">
                                <f:selectItem itemValue="0" itemLabel="#{var.todos}"/>
                                <f:selectItems value="#{HomeGestion.zonaespe}"/>
                                <a4j:ajax event="change" execute="@this" render="filtrozonaes"/>
                            </h:selectOneMenu>
                        </h:panelGrid>
                        <h:panelGrid id="filtrodeptos"  columns="1" rendered="#{HomeGestion.inttipoorigen == 1}" >
                            <h:selectOneMenu  id="depto" value="#{HomeGestion.filtro.strcoddepto}" disabled="#{var.habilitarDepartamentoEjecutaraProyecto}"  styleClass="combos_ubicacion"
                                              rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen == 4}">
                                <f:selectItems value="#{HomeGestion.departamentos}"/>
                                <a4j:ajax event="change" listener="#{HomeGestion.cargarMunicipios}" execute="@this"
                                          render="municipios"/>
                            </h:selectOneMenu>
                            <div style="width: 20px;height:10px;"></div>
                            <h:selectOneMenu  id="municipios" value="#{HomeGestion.filtro.strmunicipio}"  styleClass="combos_ubicacion"
                                              rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen != 1}">
                                <f:selectItems value="#{HomeGestion.municipios}" />
                                <a4j:ajax event="change" listener="#{HomeGestion.cargarLocalidadesGiprom}" execute="@this"
                                          render="localidadgiprom"/>
                            </h:selectOneMenu>
                            <div style="width: 20px;height:10px;"></div>
                            <h:selectOneMenu  id="localidadgiprom" value="#{HomeGestion.filtro.strinterventor}"  styleClass="combos_ubicacion"
                                              rendered="#{HomeGestion.tipoOrigenUsuario.intidtipoorigen != 1}">
                                <f:selectItems value="#{HomeGestion.vwlocalidades}" />
                            </h:selectOneMenu>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:panelGroup>
            </h:panelGrid>
            <center>
                <h:commandButton type="submit" action="#{HomeGestion.filtroObrasActionMapaAvanModal}" id="filtrar_nuevo2"  value="#{var.buscar}"
                                 styleClass="boton1 ikont-filtro-filtrar_btn"        />
            </center>
        </rich:tab>

        <rich:tab header="#{var.filtroquien}" id="tab_tres" name="tab_tres">
            <h:graphicImage styleClass="imagen_punta3" value="/resources/imgs/logo_punta_filtro_zoom.png" />
            <h:panelGrid columns="1" styleClass="panel_filtro_zoom"> 

                <rich:autocomplete id="auto_cliente" mode="client"  autocompleteList="#{HomeGestion.clientes}" styleClass="ikont-filtro-filtrar-autocomplete-cliente"
                                   var="cap3" fetchValue="#{cap3.strnombrecompleto}" value="#{HomeGestion.filtro.strcliente}" layout="div">
                    #{cap3.strnombrecompleto}
                    <rich:placeholder id="placeHolderCliente" value="Alcalde" />
                </rich:autocomplete>


            </h:panelGrid>

            <center>

                <h:commandButton type="submit" action="#{HomeGestion.filtroObrasActionMapaAvanModal}" id="filtrar_nuevo3"  value="#{var.buscar}"
                                 styleClass="boton1 ikont-filtro-filtrar_btn"  >
                    <a4j:param value="1" assignTo="#{HomeGestion.filtro.ordenarPor}"/>
                </h:commandButton>

            </center>
        </rich:tab>
    </rich:tabPanel>
</ui:composition>
