<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    >

    <rich:popupPanel  id="modalDetalleObra" autosized="true" resizeable="false" width="700" style="padding:0px;"
                      headerClass="style-modal-dialog-head" styleClass="style-modal-dialog">
        <f:facet name="header" >            
            <h:panelGroup style="width:100%" id="gpHeaderMOdalDetaCiudadano">
                <h:panelGrid columns="2">
                    <h:graphicImage url="/resources/imgs/modal/imagotipo_siente.png" style = " width : 45px" />
                    <h:outputText  value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.strnombrecrot}" styleClass="style-modal-dialog-head-title"/>
                </h:panelGrid>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:form>
                <h:panelGroup>
                    <a4j:commandLink id="esconder_modalDetalleObra" styleClass="style-modal-dialog-button-close" 
                                     title="#{var.cerrar}" immediate="true" onclick="#{rich:component('modalDetalleObra')}.hide(); return false"/>
                </h:panelGroup>
            </h:form>
        </f:facet>
        <h:form>
            <rich:panel styleClass="rich-panel-body" style="padding:0px;" id="gpDetaObraModal">
                <h:panelGrid style="width:100%;" columns="2">
                    <h:panelGrid style="width:100%;" styleClass="slider-proyecto-info">
                        <h:panelGrid style="width:100%;" columns="3">
                            <h:graphicImage styleClass="td-semaforo" url="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.semaforo}"/>
                            <h:panelGrid style="width:100%;" columns="2">
                                <h:panelGrid  styleClass="info-duration" columns="3"> 
                                    <br/>
                                    <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanoduracion}"></h:outputText> 
                                    <br/>
                                </h:panelGrid>
                                <h:panelGrid  styleClass="info-advanced" columns="3"> 
                                    <br/>
                                    <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanoavancefisico}"></h:outputText> 
                                    <br/>
                                </h:panelGrid>
                                <h:panelGrid columnClasses="panelcenter" style="width:100%;" >
                                    <h:outputText styleClass="duration-day" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.intplazoobra}"></h:outputText>
                                    <h:outputText styleClass="title-day" value="#{var.modalciudadanodias}"></h:outputText>
                                    <h:panelGrid columnClasses="panelcenter" style="width:100%;" columns="2" >
                                        <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanoinicioobra}"></h:outputText>    
                                        <h:outputText styleClass="title-day-duration" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.datefeciniobra}"></h:outputText>    
                                    </h:panelGrid>
                                    <h:panelGrid columnClasses="panelcenter" style="width:100%;" columns="2" >
                                        <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanofinobra}"></h:outputText>    
                                        <h:outputText styleClass="title-day-duration" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.datefecfinobra}"></h:outputText>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGroup layout="block" styleClass="table-avance">
                                    <h:panelGroup layout="block" >
                                        <center>
                                            <h:outputText styleClass="asi-va-value" value="#{Ciudadano$PerfilCiudadano.asi_va}%"></h:outputText>
                                            <interkont:spacer style="width:100%;" height="5"/>
                                            <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanoasiva}"></h:outputText>
                                        </center>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block">
                                        <h:graphicImage url="/resources/imgs/valla/circulo.png" style="margin-left: #{Ciudadano$PerfilCiudadano.asi_va}px;"/>
                                        <h:graphicImage styleClass="line-avance-slider" url="/resources/imgs/valla/avance_fisico.png" />
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" >
                                        <center>
                                            <h:outputText styleClass="asi-va-value" value="#{Ciudadano$PerfilCiudadano.deberia_ir}%"></h:outputText>
                                            <interkont:spacer style="width:100%;" height="5"/>
                                            <h:outputText styleClass="title-day-duration" value="#{var.modalciudadanodeberiair}"></h:outputText>
                                        </center>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" >
                                        <h:graphicImage  url="/resources/imgs/valla/circulo.png" style="margin-left: #{Ciudadano$PerfilCiudadano.deberia_ir}px;"/>
                                        <h:graphicImage styleClass="line-avance-slider" url="/resources/imgs/valla/avance_fisico.png"/>
                                    </h:panelGroup>

                                </h:panelGroup>                                                            
                            </h:panelGrid>
                        </h:panelGrid>
                        <h:panelGroup layout="block" styleClass="info-value-proyect"> 
                            <h:panelGrid  columns="3" style="width:100%;">
                                <br/>
                                <h:outputText styleClass="info-value-proyect-line" value="#{var.modalciudadanocuantocuestatitle}"></h:outputText> 
                                <br/>
                            </h:panelGrid>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="text-value-content"> 
                            <h:outputText styleClass="text-value-proyect" value="#{Ciudadano$PerfilCiudadano.valorobra}"></h:outputText>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="info-value-proyect"> 
                            <h:panelGrid  columns="3" style="width:100%;"> 
                                <br/>
                                <h:outputText styleClass="info-value-proyect-line" value="#{var.modalciudadanotitleubicacionproyecto}"></h:outputText> 
                                <br/>
                            </h:panelGrid>
                        </h:panelGroup>
                        <h:panelGrid styleClass="table-ubication" columns="3">
                            <h:panelGrid styleClass="table-td-rigth">
                                <h:outputText styleClass="ubication-line-title" value="#{var.modalciudadanodireccion}"></h:outputText>
                                <h:outputText styleClass="ubication-line-content" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.strdireccion}"></h:outputText>
                                <h:outputText styleClass="ubication-line-title" value="#{var.modalciudadanozona}"></h:outputText>
                                <h:outputText styleClass="ubication-line-content" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.lugarobra.strdesclugarobra}"></h:outputText>
                            </h:panelGrid>
                            <h:panelGrid >
                                <h:panelGroup layout="block" styleClass="separate-ubicate"></h:panelGroup>
                            </h:panelGrid>
                            <h:panelGrid styleClass="table-td-left">
                                <h:outputText styleClass="ubication-line-title" value="#{var.modalciudadanolongitud}"></h:outputText>
                                <h:outputText styleClass="ubication-line-content" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.floatlongitud}"></h:outputText>
                                <h:outputText styleClass="ubication-line-title" value="#{var.modalciudadanolatitud}"></h:outputText>
                                <h:outputText styleClass="ubication-line-content" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.floatlatitud}"></h:outputText>
                            </h:panelGrid>
                        </h:panelGrid>
                        <h:panelGrid styleClass="table-ubication" columns="2">
                            <h:panelGroup layout="block" styleClass="info-contratante"> 
                                <h:panelGrid  columns="3" style="width:100%;"> 
                                    <br/>
                                    <h:outputText styleClass="info-value-proyect-line" value="#{var.modalciudadanocontratante}"></h:outputText> 
                                    <br/>
                                </h:panelGrid>
                            </h:panelGroup>
                            <h:panelGroup layout="block" styleClass="info-contratista"> 
                                <h:panelGrid  columns="3" style="width:100%;"> 
                                    <br/>
                                    <h:outputText styleClass="info-value-proyect-line" value="#{var.modalciudadanocontratista}"></h:outputText> 
                                    <br/>
                                </h:panelGrid>
                            </h:panelGroup>
                            <h:outputText styleClass="stile-text-contrato" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.tercero.strnombrecompleto}"></h:outputText>
                            <h:panelGroup layout="block">
                                <h:outputText styleClass="stile-text-contrato" value="#{Ciudadano$PerfilCiudadano.unoContratista}" rendered="#{Ciudadano$PerfilCiudadano.numeroContratistas==1}"/>
                                <h:outputText styleClass="stile-text-contrato" value="#{var.modalciudadanover}" id="verContratistas" rendered="#{Ciudadano$PerfilCiudadano.numeroContratistas>1}">
                                    <rich:tooltip followMouse="true" direction="bottom-right" horizontalOffset="5"
                                                  verticalOffset="5"  styleClass="tooltipinf_ciudadano" style="width: 200px;">
                                        <a4j:repeat value="#{Ciudadano$PerfilCiudadano.list_contratistas_slider}"  var="contratistas">
                                            <h:outputText value="#{contratistas}"></h:outputText>
                                        </a4j:repeat>
                                    </rich:tooltip>
                                </h:outputText>
                            </h:panelGroup>
                        </h:panelGrid>
                        <h:panelGroup layout="block" styleClass="info-objeto"> 
                            <h:panelGrid  columns="3" style="width:100%;"> 
                                <br/>
                                <h:outputText styleClass="info-value-proyect-line" value="#{var.modalciudadanoobjeto}"></h:outputText> 
                                <br/>
                            </h:panelGrid>
                        </h:panelGroup>
                        <h:panelGroup layout="block" styleClass="info-objeto-content">
                            <h:outputText styleClass="stile-text-objeto" value="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.strobjetoobra}"></h:outputText>
                        </h:panelGroup>
                    </h:panelGrid>
                    <h:panelGrid styleClass="slider-proyecto-img">
                        <h:graphicImage styleClass="table-img-content" url="#{Ciudadano$PerfilCiudadano.vistaobraciudadano.strimagenobra}"/>
                        <h:panelGrid styleClass="table-img-actions" columns="5">
                            <a4j:commandLink  onclick="document.location.href='/#{var.versioncobra}/faces/Supervisor/DetalleObra.jspx?id=#{Ciudadano$PerfilCiudadano.vistaobraciudadano.intcodigoobra}';" id="btn_info_modal">
                                <h:graphicImage value="/resources/imgs/valla/btn_info.png"/>
                                <rich:tooltip followMouse="true" direction="bottom-right" horizontalOffset="5"
                                              verticalOffset="5"  styleClass="tooltipinf_ciudadano" style="width: 100px;">
                                    <h:outputText value="Informacion" style="font-size:12px;"></h:outputText>
                                </rich:tooltip>
                            </a4j:commandLink>
                            <a4j:commandLink  onclick="document.location.href='/#{var.versioncobra}/faces/Ciudadano/ParticipacionCiudadano.xhtml?id=#{Ciudadano$PerfilCiudadano.vistaobraciudadano.intcodigoobra}';" id="btn_coment_modal">
                                <h:graphicImage value="/resources/imgs/valla/btn_comentarios.png"/>
                                <rich:tooltip followMouse="true" direction="bottom-right" horizontalOffset="5"
                                              verticalOffset="5"  styleClass="tooltipinf_ciudadano" style="width: 100px;">
                                    <h:outputText value="Comentarios" style="font-size:12px;"></h:outputText>
                                </rich:tooltip>
                            </a4j:commandLink>
                            <a4j:commandLink  rendered="#{SessionBeanCobra.ciudadano}" onclick="document.location.href='/#{var.versioncobra}/faces/Supervisor/ImagenObra.jspx?id=#{Ciudadano$PerfilCiudadano.vistaobraciudadano.intcodigoobra}';" id="btn_fotos_modal">
                                <h:graphicImage value="/resources/imgs/valla/btn_fotos.png"/>
                                <rich:tooltip followMouse="true" direction="bottom-right" horizontalOffset="5"
                                              verticalOffset="5"  styleClass="tooltipinf_ciudadano" style="width: 100px;">
                                    <h:outputText value="Fotos" style="font-size:12px;"></h:outputText>
                                </rich:tooltip>
                            </a4j:commandLink>                             
                            <a4j:commandLink  onclick="document.location.href='/#{var.versioncobra}/faces/Supervisor/DetalleObra.jspx?id=#{Ciudadano$PerfilCiudadano.vistaobraciudadano.intcodigoobra}';" styleClass="button-silider">
                                <h:outputText value="#{var.modalciudadanoverproyecto}"></h:outputText> 
                            </a4j:commandLink>  
                        </h:panelGrid>
                    </h:panelGrid>
                </h:panelGrid>
            </rich:panel>
        </h:form>
    </rich:popupPanel>
</ui:composition>
