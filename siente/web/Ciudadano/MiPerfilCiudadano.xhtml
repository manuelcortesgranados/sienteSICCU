<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_main.xhtml">
    
    <ui:define name="head">
        <title>Cambio Contraseña</title>
        <h:outputScript name="script_supervisor.js" />
    </ui:define>
    <ui:define name="title">
        <h:outputText  stylestyleClassikont-hot-miperfil"   value="#{var.miperfil}" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
        <h:outputText  stylestyleClassikont-hot-perfil"   value="Perfíl" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_novedades.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <script language="JavaScript">
            function maximaLongitud(texto,maxlong)
            {
                var out_value;

                if (texto.value.length > maxlong)
                {
                    in_value = texto.value;
                    out_value = in_value.substring(0,maxlong);
                    texto.value = out_value;
                    return false;
                }
                return true;
            }

            function borrar_campo3()
            {
                if (document.getElementById("frmcomentariomuro:iacomentario3").value == "Escriba Su Comentario")
                    document.getElementById("frmcomentariomuro:iacomentario3").value ="";
            }
        </script>
        <h:form>
            <h:panelGrid columns="3"   id="pgmiperfil">
                <h:panelGrid    columnClasses="panelcenter" >
                    <h:graphicImage  stylestyleClassikont-hgi-strfoto " url="#{var.ipserver}siente#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfoto}"  />
                    <h:outputLabel  stylestyleClassikont-hol-strnombrecompleto"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strnombrecompleto}"/>
                    <h:outputLabel  stylestyleClassikont-hol-departamento"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}"/>
                    <interkont:spacer width="30"/>
                </h:panelGrid>

                <h:panelGrid columns="2"  bgcolor="#F2F7FA" stylestyleClassikont-hpg-falsoboolotrousuario"    rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">

                    <h:outputText  stylestyleClassikont-hot-correo"   id="lblcorreoelectronico"  value="#{var.correo}" />
                    <h:outputLabel  stylestyleClassikont-hol-stremail"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.stremail}" />
                    <interkont:spacer height="5" />
                    <interkont:spacer height="5" />
                    <h:outputText  stylestyleClassikont-hot-idioma"   id="lblidioma"  value="#{var.idioma}"/>
                    <h:outputLabel  stylestyleClassikont-hol-espaniol"     value="Español" />
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  stylestyleClassikont-hot-cedula"   id="lblcedula"  value="#{var.cedula}"/>
                    <h:outputLabel  stylestyleClassikont-hol-intcedula"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.intcedula}"/>
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  stylestyleClassikont-hot-fechadenacimiento"   id="lblfechanac"  value="#{var.fechadeNacimiento}" />
                    <h:outputLabel  stylestyleClassikont-hol-datefechanacimiento"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.datefechanacimiento}">
                        <f:convertDateTime dateStyle="long"/>
                    </h:outputLabel>
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  stylestyleClassikont-hot-ubicacionciudadano"   id="lblubicacion"  value="#{var.ubicacionciudadano}" />
                    <h:outputLabel  stylestyleClassikont-hol-departamentociudadano"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}" />

                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  stylestyleClassikont-hot-celular"   id="lblcelular"  value="#{var.celular}" />
                    <h:outputLabel  stylestyleClassikont-hol-strtelefono1"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtelefono1}" />
                  
                </h:panelGrid>
                <h:panelGrid  >
                    <h:panelGrid columns="2" stylestyleClassikont-hpg-boolotrousuario"   bgcolor="#F2F7FA" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}" >
                        <h:outputText  stylestyleClassikont-hot-idioma2"   id="lblidiomaotro"  value="#{var.idioma}" />
                        <h:outputLabel  stylestyleClassikont- "     value="Español" />
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputText  stylestyleClassikont-hot-lblubicacionotro"   id="lblubicacionotro"  value="#{var.ubicacionciudadano}"    />
                        <h:outputLabel  stylestyleClassikont-hol-municipiodepartamento"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}"  />
                    </h:panelGrid>

                    <h:panelGrid columns="1"    bgcolor="#F2F7FA">
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputLabel  stylestyleClassikont-hol-strfacebook"   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfacebook}" />
                        <a4j:commandLink stylestyleClassikont-acl-space"   disabled="true"/>
                        <h:outputLabel  stylestyleClassikont-hol-strtwiter"   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtwiter}"  />
                        <a4j:commandLink stylestyleClassikont-acl-space2"   disabled="true"/>
                    </h:panelGrid>
                    <interkont:spacer height="5"/>
                    <h:panelGrid bgcolor="#F2F7FA"   rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">
                        <h:commandLink stylestyleClassikont-hcl-modificarusuario"    action="#{Ciudadano$PerfilCiudadano.modificarUsuario}" immediate="true"/>
                    </h:panelGrid>
                </h:panelGrid>

            </h:panelGrid>
        </h:form>
        <div id="header_content1">
            <div stylestyleClassstar">
                <h:outputText  stylestyleClassikont-hot-contenido"   value="Contenido"/>
            </div>
        </div>

        <interkont:spacer height="20"/>
        <h:form>
            <h:panelGrid columns="2" id="pgcontenido">
                <rich:panel stylestyleClassikont-rp-pgcontenido"   >
                    <h:outputLabel  stylestyleClassikont-hol-proyecto"   value="#{var.proyecto}"/>
                    <h:panelGrid columns="3">
                        <h:graphicImage  stylestyleClassikont-hgi-ciudadano_01"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_01.png"  />
                        <h:outputLabel  stylestyleClassikont-hol-obraseguida "   value="#{SessionBeanCobra.obraseguida}" />
                        <h:outputLabel  stylestyleClassikont-hol-solicitudproyectos"   value="Ver #{var.solicitudproyecto}s" />
                    </h:panelGrid>
                </rich:panel>
                <rich:panel stylestyleClassikont-rp-comentarios">
                    <h:outputLabel  stylestyleClassikont-hol-comentarios"   value="Comentarios" />
                    <h:panelGrid columns="3">
                        <h:graphicImage  stylestyleClassikont-hgi-ciudadano_02"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_02.png"  />
                        <h:outputLabel  stylestyleClassikont-hol-intcomentario"   value="#{SessionBeanCobra.ciudadanoservice.intcomentario}" />
                        <h:outputLabel  stylestyleClassikont-hol-vermimuro"   value="Ver mi muro" />
                    </h:panelGrid>
                </rich:panel>
                <rich:panel stylestyleClassikont-"   >
                    <h:outputLabel  stylestyleClassikont-hol-fotos"   value="Fotos" />
                    <h:panelGrid columns="3">
                        <h:graphicImage  stylestyleClassikont-hgi-ciudadano_03"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_03.png" />
                        <h:outputLabel  stylestyleClassikont-hol-intfotos"   value="#{SessionBeanCobra.ciudadanoservice.intfotos}" />
                        <h:outputLabel  stylestyleClassikont-hol-verimagagenes"   value="Ver imágenes"  />
                    </h:panelGrid>
                </rich:panel>
              
            </h:panelGrid>
        </h:form>
        <div id="header_content">
            <div stylestyleClasscomentario">
                <h:outputText  stylestyleClassikont-hot-mimuro"   value="Mi muro" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
                <h:outputText  stylestyleClassikont-hot-muro"   value="Muro" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
            </div>
        </div>
        <interkont:spacer height="10"/>
        <h:form id="frmcomentariomuro">
            <rich:panel id="panelmuro" >
                <h:panelGrid columns="1" >
                    <a4j:region id="idregion">
                        <h:panelGrid columns="1"   >
                            <a4j:status id="idstatuscomentario3"/>
                            <h:outputText  stylestyleClassikont-hot-contarmensaje"   id="idcontarmensaje3" value="#{Ciudadano$PerfilCiudadano.contarmensaje}" />
                            <h:inputTextarea id="iacomentario3" stylestyleClassikont-hit-stropinion"   rows="5" cols="120" onkeydown="return maximaLongitud(this,400)"
                                             value="#{SessionBeanCobra.ciudadanoservice.opinionciudadano.stropinion}" onclick="borrar_campo3(this);" >
                                <a4j:ajax listener="#{Ciudadano$PerfilCiudadano.contarcomentario}" event="keyup" render="idcontarmensaje3" status="idstatuscomentario3" />
                            </h:inputTextarea>
                            <h:outputText  stylestyleClassikont-hot-espacioparaopinar"   value="Utilice este espacio para opinar e intercambiar opiniones con los demás ciudadanos" />
                            <a4j:commandLink stylestyleClassikont-acl-agregarcomentario"   action="#{Ciudadano$PerfilCiudadano.AgregarComentario}" render="pgmuro,panelmuro,pgcontenido">
                            </a4j:commandLink>
                        </h:panelGrid>
                    </a4j:region>
                    <h:panelGrid columns="2" id="pgmuro" >

                        <a4j:repeat id="rpmuro" value="#{SessionBeanCobra.ciudadanoservice.listaComentariosperfil}" binding="#{Ciudadano$PerfilCiudadano.repeatusuarioperfil}" var="rowcomentario" rows="3" >
                            <h:panelGrid columns="3"  >

                                <h:panelGrid stylestyleClassikont-hpg-cargarusuarioperfil"  >
                                    <a4j:commandLink action="#{Ciudadano$PerfilCiudadano.cargarUsuarioPerfil}" type="submit" >
                                        <h:graphicImage  stylestyleClassikont-hgi-cargarusuarioperfil"   url="#{var.ipserver}siente#{rowcomentario.jsfUsuariocomento.tercero.strfoto}" />
                                    </a4j:commandLink>
                                    <interkont:spacer width="30"/>
                                </h:panelGrid>

                                <h:panelGrid columns="3">
                                    <h:graphicImage  stylestyleClassikont-hgi-com_arrow"   url="/resources/imgs/com_arrow.png" />

                                    <h:panelGrid stylestyleClassikont-hpg-opinionciudadano"   >
                                        <h:panelGroup>
                                            <h:outputText  stylestyleClassikont-hot-strnombrecompleto"   id="idstrnombre1" value="#{rowcomentario.jsfUsuariocomento.tercero.strnombrecompleto}" />
                                            <interkont:spacer width="20"/>
                                            <h:outputText  stylestyleClassikont-hot-datefechaopinion"   id="iddate1" value="#{rowcomentario.datefechaopinion}" >
                                                <f:convertDateTime timeZone="GMT-5" type="both" dateStyle="long"/>
                                            </h:outputText>
                                        </h:panelGroup>
                                        <h:panelGrid  >
                                            <h:outputLabel  stylestyleClassikont-hol-stropinion"    id="idcomentario1" value="#{rowcomentario.stropinion}"
                                                             />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                            </h:panelGrid>
                        </a4j:repeat>
                    </h:panelGrid>
                    <rich:dataScroller for="rpmuro"  render="pgmuro"  />
                </h:panelGrid>
            </rich:panel>
        </h:form>
        <rich:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />

    </ui:define>
</ui:composition>
