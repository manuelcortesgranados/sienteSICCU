<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_main.xhtml">
    
    <ui:define name="head">
        <title>Cambio Contraseña</title>
        <h:outputScript name="script_supervisor.js" />
    </ui:define>
    <ui:define name="title">
        <h:outputText  class="id-jsf- "   value="#{var.miperfil}" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
        <h:outputText  class="id-jsf- "   value="Perfíl" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
        <ui:include src="/facelets/menu_lateral_novedades.xhtml"/>
    </ui:define>
    <ui:define name="body">
        <script language="JavaScript">
            function maximaLongitud(texto,maxlong)
            {
                var out_value;

                if (texto.value.length > maxlong)
                {
                    in_value = texto.value;
                    out_value = in_value.substring(0,maxlong);
                    texto.value = out_value;
                    return false;
                }
                return true;
            }

            function borrar_campo3()
            {
                if (document.getElementById("frmcomentariomuro:iacomentario3").value == "Escriba Su Comentario")
                    document.getElementById("frmcomentariomuro:iacomentario3").value ="";
            }
        </script>
        <h:form>
            <h:panelGrid columns="3"   id="pgmiperfil">
                <h:panelGrid    columnClasses="panelcenter" >
                    <h:graphicImage  class="id-jsf- "   class="id-jsf-"   url="#{var.ipserver}siente#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfoto}"  />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strnombrecompleto}" class="id-jsf-"  />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}"  class="id-jsf-"  />
                    <interkont:spacer width="30"/>
                </h:panelGrid>

                <h:panelGrid columns="2"  bgcolor="#F2F7FA" class="id-jsf-"    rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">

                    <h:outputText  class="id-jsf- "   id="lblcorreoelectronico"  value="#{var.correo}" class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.stremail}" class="id-jsf-"   />
                    <interkont:spacer height="5" />
                    <interkont:spacer height="5" />
                    <h:outputText  class="id-jsf- "   id="lblidioma"  value="#{var.idioma}" class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "     value="Español" class="id-jsf-"   />
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  class="id-jsf- "   id="lblcedula"  value="#{var.cedula}"  class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.intcedula}" class="id-jsf-"   />
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  class="id-jsf- "   id="lblfechanac"  value="#{var.fechadeNacimiento}"  class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.datefechanacimiento}" class="id-jsf-"   >
                        <f:convertDateTime dateStyle="long"/>
                    </h:outputLabel>
                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  class="id-jsf- "   id="lblubicacion"  value="#{var.ubicacionciudadano}"  class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}" class="id-jsf-"   />

                    <interkont:spacer height="5"/>
                    <interkont:spacer height="5"/>
                    <h:outputText  class="id-jsf- "   id="lblcelular"  value="#{var.celular}"  class="id-jsf-"   />
                    <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtelefono1}" class="id-jsf-"   />
                  
                </h:panelGrid>
                <h:panelGrid  >
                    <h:panelGrid columns="2" class="id-jsf-"   bgcolor="#F2F7FA" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}" >
                        <h:outputText  class="id-jsf- "   id="lblidiomaotro"  value="#{var.idioma}" class="id-jsf-"   />
                        <h:outputLabel  class="id-jsf- "     value="Español" class="id-jsf-"   />
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputText  class="id-jsf- "   id="lblubicacionotro"  value="#{var.ubicacionciudadano}"  class="id-jsf-"   />
                        <h:outputLabel  class="id-jsf- "    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}" class="id-jsf-"   />
                    </h:panelGrid>

                    <h:panelGrid columns="1"    bgcolor="#F2F7FA">
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputLabel  class="id-jsf- "   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfacebook}" class="id-jsf-"  />
                        <a4j:commandLink class="id-jsf-"   disabled="true"/>
                        <h:outputLabel  class="id-jsf- "   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtwiter}" class="id-jsf-"  />
                        <a4j:commandLink class="id-jsf-"   disabled="true"/>
                    </h:panelGrid>
                    <interkont:spacer height="5"/>
                    <h:panelGrid bgcolor="#F2F7FA"   rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">
                        <h:commandLink class="id-jsf-"    action="#{Ciudadano$PerfilCiudadano.modificarUsuario}" immediate="true"/>
                    </h:panelGrid>
                </h:panelGrid>

            </h:panelGrid>
        </h:form>
        <div id="header_content1">
            <div class="star">
                <h:outputText  class="id-jsf- "   value="Contenido"/>
            </div>
        </div>

        <interkont:spacer height="20"/>
        <h:form>
            <h:panelGrid columns="2" id="pgcontenido">
                <rich:panel class="id-jsf-"   >
                    <h:outputLabel  class="id-jsf- "   value="#{var.proyecto}" class="id-jsf-"   />
                    <h:panelGrid columns="3">
                        <h:graphicImage  class="id-jsf- "    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_01.png"  width="70" />
                        <h:outputLabel  class="id-jsf- "   value="#{SessionBeanCobra.obraseguida}" class="id-jsf-"   />
                        <h:outputLabel  class="id-jsf- "   value="Ver #{var.solicitudproyecto}s" class="id-jsf-"   />
                    </h:panelGrid>
                </rich:panel>
                <rich:panel class="id-jsf-"   >
                    <h:outputLabel  class="id-jsf- "   value="Comentarios" class="id-jsf-"   />
                    <h:panelGrid columns="3">
                        <h:graphicImage  class="id-jsf- "    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_02.png"  width="70" height="70"/>
                        <h:outputLabel  class="id-jsf- "   value="#{SessionBeanCobra.ciudadanoservice.intcomentario}" class="id-jsf-"   />
                        <h:outputLabel  class="id-jsf- "   value="Ver mi muro" class="id-jsf-"   />
                    </h:panelGrid>
                </rich:panel>
                <rich:panel class="id-jsf-"   >
                    <h:outputLabel  class="id-jsf- "   value="Fotos" class="id-jsf-"   />
                    <h:panelGrid columns="3">
                        <h:graphicImage  class="id-jsf- "    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_03.png"  width="70" height="70"/>
                        <h:outputLabel  class="id-jsf- "   value="#{SessionBeanCobra.ciudadanoservice.intfotos}" class="id-jsf-"   />
                        <h:outputLabel  class="id-jsf- "   value="Ver imágenes" class="id-jsf-"   />
                    </h:panelGrid>
                </rich:panel>
              
            </h:panelGrid>
        </h:form>
        <div id="header_content">
            <div class="comentario">
                <h:outputText  class="id-jsf- "   value="Mi muro" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
                <h:outputText  class="id-jsf- "   value="Muro" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
            </div>
        </div>
        <interkont:spacer height="10"/>
        <h:form id="frmcomentariomuro">
            <rich:panel id="panelmuro" >
                <h:panelGrid columns="1" >
                    <a4j:region id="idregion">
                        <h:panelGrid columns="1"   >
                            <a4j:status id="idstatuscomentario3"/>
                            <h:outputText  class="id-jsf- "   id="idcontarmensaje3" value="#{Ciudadano$PerfilCiudadano.contarmensaje}" class="id-jsf-"    />
                            <h:inputTextarea id="iacomentario3" class="id-jsf-"   rows="5" cols="120" onkeydown="return maximaLongitud(this,400)"
                                             value="#{SessionBeanCobra.ciudadanoservice.opinionciudadano.stropinion}" onclick="borrar_campo3(this);" >
                                <a4j:ajax listener="#{Ciudadano$PerfilCiudadano.contarcomentario}" event="keyup" render="idcontarmensaje3" status="idstatuscomentario3" />
                            </h:inputTextarea>
                            <h:outputText  class="id-jsf- "   value="Utilice este espacio para opinar e intercambiar opiniones con los demás ciudadanos" class="id-jsf-"  />

                            <a4j:commandLink class="id-jsf-"   action="#{Ciudadano$PerfilCiudadano.AgregarComentario}" render="pgmuro,panelmuro,pgcontenido">
                            </a4j:commandLink>

                        </h:panelGrid>
                    </a4j:region>
                    <h:panelGrid columns="2" id="pgmuro" >

                        <a4j:repeat id="rpmuro" value="#{SessionBeanCobra.ciudadanoservice.listaComentariosperfil}" binding="#{Ciudadano$PerfilCiudadano.repeatusuarioperfil}" var="rowcomentario" rows="3" >
                            <h:panelGrid columns="3"  >

                                <h:panelGrid class="id-jsf-"  >
                                    <a4j:commandLink action="#{Ciudadano$PerfilCiudadano.cargarUsuarioPerfil}" type="submit" >
                                        <h:graphicImage  class="id-jsf- "   url="#{var.ipserver}siente#{rowcomentario.jsfUsuariocomento.tercero.strfoto}" />
                                    </a4j:commandLink>
                                    <interkont:spacer width="30"/>
                                </h:panelGrid>

                                <h:panelGrid columns="3">
                                    <h:graphicImage  class="id-jsf- "   url="/resources/imgs/com_arrow.png" />

                                    <h:panelGrid class="id-jsf-"   >
                                        <h:panelGroup>
                                            <h:outputText  class="id-jsf- "   id="idstrnombre1" value="#{rowcomentario.jsfUsuariocomento.tercero.strnombrecompleto}" class="id-jsf-"  />
                                            <interkont:spacer width="20"/>
                                            <h:outputText  class="id-jsf- "   id="iddate1" value="#{rowcomentario.datefechaopinion}" class="id-jsf-"  >
                                                <f:convertDateTime timeZone="GMT-5" type="both" dateStyle="long"/>
                                            </h:outputText>
                                        </h:panelGroup>
                                        <h:panelGrid  >
                                            <h:outputLabel  class="id-jsf- "    id="idcomentario1" value="#{rowcomentario.stropinion}"
                                                             />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                            </h:panelGrid>
                        </a4j:repeat>
                    </h:panelGrid>
                    <rich:dataScroller for="rpmuro"  render="pgmuro"  />
                </h:panelGrid>
            </rich:panel>
        </h:form>
        <rich:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />

    </ui:define>
</ui:composition>
