<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:a4j="http://richfaces.org/a4j" xmlns:interkont="http://www.interkont.com/jsf"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:m="http://code.google.com/p/gmaps4jsf/"  
    template="/facelets/template_main.xhtml">

    <ui:define name="head">
        <title>Cambio Contraseña</title>
        <h:outputScript name="script_supervisor.js" />
    </ui:define>
    <ui:define name="title">
        <h:outputText  styleClass="ikont-hot-miperfil"   value="#{var.miperfil}" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
        <h:outputText  styleClass="ikont-hot-perfil"   value="Perfíl" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
    </ui:define>
    <ui:define name="menu">
        <ui:include src="/facelets/menu_gestion.xhtml"/>
    </ui:define>
    <ui:define name="menu_lateral">
        <h:panelGroup  rendered="#{!var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_lateral_gestion.xhtml"/>
            <ui:include src="/facelets/menu_lateral_novedades.xhtml"/>
        </h:panelGroup>
        <h:panelGroup rendered="#{var.permisonuevodiseno}">
            <ui:include src="/facelets/menu_lateral_novedades_zoom.xhtml"/>
        </h:panelGroup>
    </ui:define>
    <ui:define name="body">
        <script language="JavaScript">
            function maximaLongitud(texto, maxlong)
            {
                var out_value;

                if (texto.value.length > maxlong)
                {
                    in_value = texto.value;
                    out_value = in_value.substring(0, maxlong);
                    texto.value = out_value;
                    return false;
                }
                return true;
            }

            function borrar_campo3()
            {
                if (document.getElementById("frmcomentariomuro:iacomentario3").value == "Escriba Su Comentario")
                    document.getElementById("frmcomentariomuro:iacomentario3").value = "";
            }
        </script>
        <h:form>
            <h:panelGrid columns="3"   id="pgmiperfil">
                <h:panelGrid    columnClasses="panelcenter" styleClass="ikont-hpg-fotociuda bcg-tb-per-ciu">
                    <h:graphicImage  styleClass="ikont-hgi-strfoto " url="#{var.ipserver}siente#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfoto}"  />
                    <h:outputLabel  styleClass="ikont-hol-strnombrecompleto vtitle17"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strnombrecompleto}"/>
                    <h:outputLabel  styleClass="ikont-hol-departamento vtitle18"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}"/>
                    <interkont:spacer width="30"/>
                </h:panelGrid>

                <h:panelGrid columns="2" styleClass="ikont-hpg-falsoboolotrousuario bcg-tb-per-ciu" cellspacing="9"    rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">

                    <h:outputText  styleClass="ikont-hot-correo vtitle19"   id="lblcorreoelectronico"  value="#{var.correo}" />
                    <h:outputLabel  styleClass="ikont-hol-stremail vtitle20"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.stremail}" />
                    <h:outputText  styleClass="ikont-hot-idioma vtitle19"   id="lblidioma"  value="#{var.idioma}"/>
                    <h:outputLabel  styleClass="ikont-hol-espaniol vtitle20"     value="Español" />
                    <h:outputText  styleClass="ikont-hot-cedula vtitle19"   id="lblcedula"  value="#{var.cedula}"/>
                    <h:outputLabel  styleClass="ikont-hol-intcedula vtitle20"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.intcedula}"/>
                    <h:outputText  styleClass="ikont-hot-fechadenacimiento vtitle19"   id="lblfechanac"  value="#{var.fechadeNacimiento}" />
                    <h:outputLabel  styleClass="ikont-hol-datefechanacimiento vtitle20"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.datefechanacimiento}">
                        <f:convertDateTime dateStyle="long"/>
                    </h:outputLabel>
                    <h:outputText  styleClass="ikont-hot-ubicacionciudadano vtitle19"   id="lblubicacion"  value="#{var.ubicacionciudadano}" />
                    <h:outputLabel  styleClass="ikont-hol-departamentociudadano vtitle20"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}" />
                    <h:outputText  styleClass="ikont-hot-celular vtitle19"   id="lblcelular"  value="#{var.celular}" />
                    <h:outputLabel  styleClass="ikont-hol-strtelefono1 vtitle20"    value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtelefono1}" />

                </h:panelGrid>
                <h:panelGrid  >
                    <h:panelGrid columns="2" styleClass="ikont-hpg-boolotrousuario bcg-tb-per-ciu"    rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}" >
                        <h:outputText  styleClass="ikont-hot-idioma2"   id="lblidiomaotro"  value="#{var.idioma}" />
                        <h:outputLabel  styleClass="ikont- "     value="Español" />
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputText  styleClass="ikont-hot-lblubicacionotro"   id="lblubicacionotro"  value="#{var.ubicacionciudadano}"    />
                        <h:outputLabel  styleClass="ikont-hol-municipiodepartamento"    value="#{SessionBeanCobra.ciudadanoservice.municipio}, #{SessionBeanCobra.ciudadanoservice.departamento}"  />
                    </h:panelGrid>

                    <h:panelGrid columns="1"    styleClass="bcg-tb-per-ciu">
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <interkont:spacer height="5"/>
                        <h:outputLabel  styleClass="ikont-hol-strfacebook"   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strfacebook}" />
                        <a4j:commandLink styleClass="ikont-acl-space"  />
                        <h:outputLabel  styleClass="ikont-hol-strtwiter"   value="#{SessionBeanCobra.ciudadanoservice.usuariomostrar.tercero.strtwiter}"  />
                        <a4j:commandLink styleClass="ikont-acl-space2"   />
                    </h:panelGrid>
                    <interkont:spacer height="5"/>
                    <h:panelGrid styleClass="bcg-tb-per-ciu"   rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}">
                        <h:commandLink styleClass="ikont-hcl-modificarusuario"    action="#{Ciudadano$PerfilCiudadano.modificarUsuario}" immediate="true"/>
                    </h:panelGrid>
                </h:panelGrid>

            </h:panelGrid>
        </h:form>
        <div id="header_content1">
            <div class="star">
                <h:outputText  styleClass="ikont-hot-contenido"   value="Contenido"/>
            </div>
        </div>

        <interkont:spacer height="20"/>
        <h:form>
            <h:panelGrid columns="2" id="pgcontenido">
                <h:panelGroup layout="block" styleClass="ikont-hpg-pgcontenido sliderichcontentblue "   >
                    <h:outputLabel  styleClass="ikont-hol-proyecto vtitle13"   value="#{var.proyecto}"/>
                    <h:panelGrid columns="3">
                        <h:graphicImage  styleClass="ikont-hgi-ciudadano_01"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_01.png"  />
                        <h:outputLabel  styleClass="ikont-hol-obraseguida vtitle15 "   value="#{SessionBeanCobra.obraseguida}" />
                        <h:outputLabel  styleClass="ikont-hol-solicitudproyectos vtitle14"   value="Ver #{var.solicitudproyecto}s" />
                    </h:panelGrid>
                </h:panelGroup>
                <h:panelGroup layout="block" styleClass="ikont-rp-comentarios sliderichcontentblue">
                    <h:outputLabel  styleClass="ikont-hol-comentarios vtitle13"   value="Comentarios" />
                    <h:panelGrid columns="3">
                        <h:graphicImage  styleClass="ikont-hgi-ciudadano_02"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_02.png"  />
                        <h:outputLabel  styleClass="ikont-hol-intcomentario vtitle15"   value="#{SessionBeanCobra.ciudadanoservice.intcomentario}" />
                        <h:outputLabel  styleClass="ikont-hol-vermimuro vtitle14"   value="Ver mi muro" />
                    </h:panelGrid>
                </h:panelGroup>
                <h:panelGroup layout="block" styleClass="ikont-rp-fotos sliderichcontentblue"   >
                    <h:outputLabel  styleClass="ikont-hol-fotos vtitle13"   value="Fotos" />
                    <h:panelGrid columns="3">
                        <h:graphicImage  styleClass="ikont-hgi-ciudadano_03"    url="#{var.ipserver}#{var.versioncobra}/resources/imgs/ciudadano_03.png" />
                        <h:outputLabel  styleClass="ikont-hol-intfotos vtitle15"   value="#{SessionBeanCobra.ciudadanoservice.intfotos}" />
                        <h:outputLabel  styleClass="ikont-hol-verimagagenes vtitle14"   value="Ver imágenes"  />
                    </h:panelGrid>
                </h:panelGroup>

            </h:panelGrid>
        </h:form>
        <div id="header_content">
            <div class ="comentario">
                <h:outputText  styleClass="ikont-hot-mimuro"   value="Mi muro" rendered="#{!Ciudadano$PerfilCiudadano.boolotrousuario}"/>
                <h:outputText  styleClass="ikont-hot-muro"   value="Muro" rendered="#{Ciudadano$PerfilCiudadano.boolotrousuario}"/>
            </div>
        </div>
        <interkont:spacer height="10"/>
        <h:form id="frmcomentariomuro">
            <h:panelGroup layout="block" id="panelmuro" >
                <h:panelGrid columns="1" >
                    <a4j:region id="idregion">
                        <h:panelGrid columns="1"   >
                            <a4j:status id="idstatuscomentario3"/>
                            <h:outputText  styleClass="ikont-hot-contarmensaje vtitle12"   id="idcontarmensaje3" value="#{Ciudadano$PerfilCiudadano.contarmensaje}" />
                            <h:inputTextarea id="iacomentario3" styleClass="ikont-hit-stropinion"   rows="5" cols="120" onkeydown="return maximaLongitud(this, 400)"
                                             value="#{SessionBeanCobra.ciudadanoservice.opinionciudadano.stropinion}" onclick="borrar_campo3(this);" >
                                <a4j:ajax listener="#{Ciudadano$PerfilCiudadano.contarcomentario}" event="keyup" render="idcontarmensaje3" status="idstatuscomentario3" />
                            </h:inputTextarea>
                            <h:outputText  styleClass="ikont-hot-espacioparaopinar vtitle09"   value="Utilice este espacio para opinar e intercambiar opiniones con los demás ciudadanos" />
                            <a4j:commandLink styleClass="ikont-acl-agregarcomentario"   action="#{Ciudadano$PerfilCiudadano.AgregarComentario}" render="pgmuro,panelmuro,pgcontenido">
                            </a4j:commandLink>
                        </h:panelGrid>
                    </a4j:region>
                    <h:panelGrid columns="2" id="pgmuro" >

                        <a4j:repeat id="rpmuro" value="#{SessionBeanCobra.ciudadanoservice.listaComentariosperfil}" binding="#{Ciudadano$PerfilCiudadano.repeatusuarioperfil}" var="rowcomentario" rows="3" >
                            <h:panelGrid columns="3"  >

                                <h:panelGrid styleClass="ikont-hpg-cargarusuarioperfil"  >
                                    <a4j:commandLink action="#{Ciudadano$PerfilCiudadano.cargarUsuarioPerfil}" type="submit" >
                                        <h:graphicImage  styleClass="ikont-hgi-cargarusuarioperfil"   url="#{var.ipserver}siente#{rowcomentario.jsfUsuariocomento.tercero.strfoto}" />
                                    </a4j:commandLink>
                                    <interkont:spacer width="30"/>
                                </h:panelGrid>

                                <h:panelGrid columns="3">
                                    <h:graphicImage  styleClass="ikont-hgi-com_arrow"   url="/resources/imgs/com_arrow.png" />

                                    <h:panelGrid styleClass="ikont-hpg-opinionciudadano"   >
                                        <h:panelGroup>
                                            <h:outputText  styleClass="ikont-hot-strnombrecompleto"   id="idstrnombre1" value="#{rowcomentario.jsfUsuariocomento.tercero.strnombrecompleto}" />
                                            <interkont:spacer width="20"/>
                                            <h:outputText  styleClass="ikont-hot-datefechaopinion"   id="iddate1" value="#{rowcomentario.datefechaopinion}" >
                                                <f:convertDateTime timeZone="GMT-5" type="both" dateStyle="long"/>
                                            </h:outputText>
                                        </h:panelGroup>
                                        <h:panelGrid>
                                            <h:outputLabel  styleClass="ikont-hol-stropinion"    id="idcomentario1" value="#{rowcomentario.stropinion}"
                                                            />
                                        </h:panelGrid>
                                    </h:panelGrid>
                                </h:panelGrid>
                            </h:panelGrid>
                        </a4j:repeat>
                    </h:panelGrid>
                    <rich:dataScroller for="rpmuro"  render="pgmuro"  />
                </h:panelGrid>
            </h:panelGroup>
        </h:form>
        <rich:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />

    </ui:define>
</ui:composition>
