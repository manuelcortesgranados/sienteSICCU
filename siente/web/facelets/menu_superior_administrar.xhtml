<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j" 

    >
    <h:panelGroup layout="block" styleClass="ikont-hpg-contentmenu">
        <h:panelGrid id="menu-nuevo-convenio" styleClass="ikont-hpg-menu-nuevo-convenio"  columns="7"   cellspacing="15" cellpadding="0" rowClasses="panelcenter">
            <h:panelGrid columns="2"  styleClass="ikont-menu-principal"> 
                <h:commandLink styleClass="ikont-hcl-menu-logozoom " />
                <h:panelGrid columns="3" styleClass="ikont-hpg-content-menuinicio">
                    <h:commandLink styleClass="ikont-hcl-menu-icon-inicio"  />
                    <h:commandLink styleClass="ikont-hcl-menu-inicio" value="#{var.menuInicio}"   />    
                    <h:commandLink styleClass="ikont-hcl-menu-rigth-inicio"  />    
                </h:panelGrid>
            </h:panelGrid>  
            <h:panelGroup layout="block" >                     
                <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel}"  styleClass="ikont-acl-datosbasicos img-button-ncpo" render="frmpanelgeneral"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="1"/>
                </a4j:commandLink>
                <a4j:commandLink value="#{var.datosbasicos}" style="width: 120px;" action="#{Supervisor$Contrato.actualizarPanel}"  styleClass="img-button-ncpo ikont-menu-detalle-text" render="frmpanelgeneral"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="1"/>
                </a4j:commandLink>
            </h:panelGroup>
            <h:panelGroup layout="block" >

                <a4j:commandLink action="#{Supervisor$Contrato.preValidarGuardarBorradorBotonPO}"  styleClass="ikont-acl-planoperativo img-button-ncpo " render="ikont-hpg-botones-eliminar-periodos"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia"
                                 oncomplete="if (#{Supervisor$Contrato.eliminarPeriodosFueraRango})  #{rich:component('panelConfirmarEliminarPeriodosFueraRango')}.show();">
                </a4j:commandLink>
                <a4j:commandLink value="#{var.planoperativo}" style="width: 120px;" action="#{Supervisor$Contrato.preValidarGuardarBorradorBotonPO}"  styleClass="img-button-ncpo ikont-menu-detalle-text" render="ikont-hpg-botones-eliminar-periodos"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia"
                                 oncomplete="if (#{Supervisor$Contrato.eliminarPeriodosFueraRango})  #{rich:component('panelConfirmarEliminarPeriodosFueraRango')}.show();">
                </a4j:commandLink>
            </h:panelGroup>
            <h:panelGroup layout="block" >
                <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel}"  render="frmpanelgeneral" styleClass="ikont-acl-polizas img-button-ncpo"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="3"/>
                </a4j:commandLink>
                <a4j:commandLink value="#{var.polizas}" action="#{Supervisor$Contrato.actualizarPanel}"  render="frmpanelgeneral" styleClass="img-button-ncpo ikont-menu-detalle-text" 
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="3"/>
                </a4j:commandLink>
            </h:panelGroup>                    
            <h:panelGroup layout="block" >
                <a4j:commandLink action="#{Supervisor$Contrato.actualizarPanel}" render="frmpanelgeneral" styleClass="ikont-acl-documentos img-button-ncpo"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="5"/>
                </a4j:commandLink>
                <a4j:commandLink value="#{var.documento}" action="#{Supervisor$Contrato.actualizarPanel}" render="frmpanelgeneral" styleClass="img-button-ncpo ikont-menu-detalle-text" 
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia">
                    <a4j:param assignTo="#{Supervisor$Contrato.panelPantalla}" value="5"/>
                </a4j:commandLink>

            </h:panelGroup>
            <h:panelGroup layout="block">

                <a4j:commandLink  value="#{var.finalizar}" styleClass="img-button-ncpo ikont-menu-detalle-text ikont-acl-menu-buttons-ext-finalizar" action="#{Supervisor$Contrato.preValidarFinalizarConvenio}"  render="ikont-hpg-botones-eliminar-periodos"
                                  execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia" 
                                  oncomplete="if (#{Supervisor$Contrato.eliminarPeriodosFueraRango}){ #{rich:component('panelConfirmarEliminarPeriodosFueraRango')}.show();}
                                  if (#{Supervisor$Contrato.confirmacionGuardado and !Supervisor$Contrato.eliminarPeriodosFueraRango})  #{rich:component('panelConfirmarGuardadoConvenio')}.show();" >
                </a4j:commandLink>

            </h:panelGroup>
            <h:panelGroup layout="block">

                <a4j:commandLink value="Guardar borrador" styleClass="img-button-ncpo ikont-menu-detalle-text ikont-acl-menu-buttons-ext-guardar" action="#{Supervisor$Contrato.preValidarGuardarBorrador}" render="ikont-hpg-botones-eliminar-periodos"
                                 execute="hit-nro-convenio,id-fechasuscripcion,hit-valorest-convenio,hit-nom-convenio,id-datefechafin,hit-obj-convenio,id-datefechaini,select-gerente-convenio,hit-valorglobal-convenio,hit-valorglobal-gerencia"
                                 oncomplete="if (#{Supervisor$Contrato.eliminarPeriodosFueraRango})  #{rich:component('panelConfirmarEliminarPeriodosFueraRango')}.show();">
                </a4j:commandLink>
            </h:panelGroup>
        </h:panelGrid>
    </h:panelGroup>
    <script src="/#{var.versioncobra}/resources/gSlider/js/jquery-1.4.4.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var $j = jQuery.noConflict();
        var $jq = jQuery.noConflict();
        $jq(document).ready(function() {

            $('.img-button-ncpo').each(function() {
                $(this).removeClass('scrollactive');
                $(this).removeClass('buttonactive');
            });
            $('.img-button-ncpo').each(function() {
                $(this).bind({
                    click: function() {
                        $(this).removeClass('scrollactive');
                        localStorage.setItem('accionNuevoConvenio', $(this).attr('class'));
                    }
                });
                if ($(this).hasClass(localStorage.getItem('accionNuevoConvenio'))) {
                    $(this).parent().find('a').each(function() {
                        $(this).addClass('buttonactive');
                    });
                } else {
                    $(this).parent().find('a').each(function() {
                        $(this).removeClass('buttonactive');
                    });
                }
            });
            $('.ikont-hpg-content-menuinicio:first').hover(function() {
                $('body').append($('<div/>').addClass('menuprincipalactive').hover(function() {
                    $(this).remove();
                    $('#menuprincipal').animate({width: '0px'}, function() {
                        $('#menuprincipal').removeClass('hovermenuprincipal');
                    });
                })
                        )
                $('#menuprincipal').addClass('hovermenuprincipal');
                $('#menuprincipal').animate({width: '268px'});
            });
            $('#menuprincipal').hover(null, function() {
                $('.menuprincipalactive:first').remove();
                $('#menuprincipal').animate({width: '0px'}, function() {
                    $('#menuprincipal').removeClass('hovermenuprincipal');
                });
            });
        });
        $j(window).scroll(function() {
            var $jq = jQuery.noConflict();
            if (window.pageYOffset > 208) {
                $('.ikont-hpg-contentmenu:first').addClass('scrollactive');
                $('.img-button-ncpo').each(function() {
                    $(this).addClass('scrollmenudetalle');
                });
            } else {
                $('.ikont-hpg-contentmenu:first').removeClass('scrollactive');
                $('.img-button-ncpo').each(function() {
                    $(this).removeClass('scrollmenudetalle');
                });
            }
        });

    </script>

</ui:composition>
