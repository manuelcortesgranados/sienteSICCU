<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j" 

    >
    <h:form styleClass="ikont-hf-nuevodetalleobrazoom">
        <h:panelGroup layout="block" styleClass="ikont-hpg-menu-contenido-nuevo-proyecto">
            <h:panelGrid styleClass="ikont-hpg-menu-nuevo-proyecto"   columns="8"   cellspacing="7" cellpadding="0" rowClasses="panelcenter">         
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndetalle}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-detalle-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciardeta}" immediate="true" />
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnreporte_avance and Supervisor$AdministrarObraNew.obra.solicitudmaestro==null and !Supervisor$AdministrarObraNew.obra.booleantienehijos}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-avance-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciarAliment}"
                                   immediate="true"/>              
                </h:panelGrid>
                <h:panelGrid  cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnmodificar}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-modificar-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciarModif}"
                                   immediate="true" />  
                </h:panelGrid>   
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnevolucion and !Supervisor$AdministrarObraNew.obra.booleantienehijos}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-evolucion-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciarEvolucion}"
                                   immediate="true" />
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnimagenes}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-imagenes-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciarImagenes}" immediate="true" />
                </h:panelGrid>
                <h:panelGrid  cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnfinalizar}"> 
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-finalizar-proyecto"   action="#{Supervisor$AdministrarObraNew.iniciarFinalizar}"
                                   immediate="true" />
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnasociar_consultoria}" >
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-contratos-proyecto"   action="#{Supervisor$AsociarContratos.llenarlistacontratosProyecto}"
                                   immediate="true"/>
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndevolvervig and !Supervisor$AdministrarObraNew.obra.booleantienehijos}">
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-estado-proyecto"    action="cambiarestado"/>             
                </h:panelGrid>
               <h:panelGrid    cellpadding="0" cellspacing="0" >
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-eliminar-avance-proyecto" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btneliminarAvance and !Supervisor$AdministrarObraNew.obra.booleantienehijos}" action="#{Supervisor$AdministrarObraNew.iniciarEliminarUltimoAvance}"  />      
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndocumentos}">
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-documentos-proyecto"    action="#{Supervisor$AdministrarObraNew.iniciarDocumentos}"/>      
                </h:panelGrid>
                <h:panelGrid    cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.cobraService.ciu}">
                    <h:commandLink styleClass="ikont-img-posicion-menu-proyecto ikont-posicion-participacion-ciudadana-proyecto" immediate="true"  action="#{Ciudadano$PerfilCiudadano.iniciarOpiniones}"/>
                </h:panelGrid>
            </h:panelGrid>
        </h:panelGroup>
    </h:form>
    <script src="/#{var.versioncobra}/resources/gSlider/js/jquery-1.4.4.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var $j = jQuery.noConflict();
        var $jq = jQuery.noConflict();
        $jq(document).ready(function() {
            var _numChil = $('.ikont-img-posicion-menu-proyecto').length;
            if (_numChil > 8) {
                $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "140px");
            }else{
                $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "70px");
            }
            $('.ikont-img-posicion-menu-proyecto').each(function() {
                $(this).removeClass('scroll');
                $(this).removeClass('buttonactive');
            });
            $('.ikont-img-posicion-menu-proyecto').each(function() {
                $(this).bind({
                    click : function(){
                        $(this).removeClass('scroll');
                        localStorage.setItem('accionDetalleProyecto', $(this).attr('class'));
                    }
                });
                if($(this).hasClass(localStorage.getItem('accionDetalleProyecto'))){
                    $(this).addClass('buttonactive');
                }else{
                    $(this).removeClass('buttonactive');
                }
            });
        });
        $j(window).scroll(function() {
            var _numChil = $('.ikont-img-posicion-menu-proyecto').length;
            if (window.pageYOffset > 208) {
                $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("position", "fixed");
                if (_numChil > 8) {
                    $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "70px");
                }else{
                    $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "35px");
                }
                $('.ikont-img-posicion-menu-proyecto').each(function() {
                    $(this).addClass('scroll');
                });
            } else {
                $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("position", "relative");
                if (_numChil > 8) {
                    $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "140px");
                }else{
                    $('.ikont-hpg-menu-contenido-nuevo-proyecto:first').css("height", "70px");
                }
                $('.ikont-img-posicion-menu-proyecto').each(function() {
                    $(this).removeClass('scroll');
                });
            }
        });

    </script>

</ui:composition>
