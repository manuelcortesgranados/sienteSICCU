<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j" 

    >
    <h:form styleClass="ikont-hf-menusuperior-convenio">
        <h:panelGroup layout="block" styleClass="ikont-hpg-menu-contenido-administrar-convenio">
            <h:panelGrid styleClass="ikont-hpg-menu-administrar-convenio"   columns="9"   cellspacing="7" cellpadding="0" rowClasses="panelcenter">         
                <h:panelGrid columns="2"  styleClass="ikont-menu-principal"> 
                    <h:commandLink styleClass="ikont-hcl-menu-logozoom " />
                    <h:panelGrid columns="3" styleClass="ikont-hpg-content-menuinicio">
                        <h:commandLink styleClass="ikont-hcl-menu-icon-inicio"  />
                        <h:commandLink styleClass="ikont-hcl-menu-inicio" value="Inicio"   />    
                        <h:commandLink styleClass="ikont-hcl-menu-rigth-inicio"  />    
                    </h:panelGrid>
                </h:panelGrid>  
                <h:panelGroup layout="block" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnproyecto and Supervisor$Contrato.contrato !=null 
                                                         and Supervisor$Contrato.tipoContCon == 'Convenio' and Supervisor$Contrato.contrato.intidcontrato!=0}"> 
                    <h:commandLink  styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-proyecto-admconvenio "   action="#{Supervisor$Contrato.crearProyecto}"  immediate="true"  />
                    <h:commandLink  styleClass="ikont-img-posicion-administrar-convenio ikont-menu-detalle-text"  value="Nuevo Proyecto"  action="#{Supervisor$Contrato.crearProyecto}"  immediate="true"  />
                </h:panelGroup>
                <h:panelGroup layout="block" > 
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-detalle-admconvenio "  rendered="#{Supervisor$Contrato.tipoContCon == 'Convenio'}" immediate="true" action="detalleContrato"/>          
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-detalle-admcontrato "  rendered="#{Supervisor$Contrato.tipoContCon == 'Contrato'}" immediate="true" action="detalleContrato"/>          
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-menu-detalle-text " style="width: 120px;" value="Detalle #{Supervisor$Contrato.tipoContCon}"  immediate="true" action="detalleContrato"/>          
                </h:panelGroup>
                <h:panelGroup layout="block" > 
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-documentos-admconvenio"   immediate="true" action="#{Supervisor$Contrato.documentocontrato}"/>
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-menu-detalle-text" value="Documentos"  immediate="true" action="#{Supervisor$Contrato.documentocontrato}"/>
                </h:panelGroup>   
                <h:panelGroup layout="block" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnmodificar}"> 
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-modificacion-admconvenio" rendered="#{Supervisor$Contrato.tipoContCon == 'Convenio'}" action="#{Supervisor$ModificarContrato.iniciarModicontrato}"/>
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-modificacion-admcontrato" rendered="#{Supervisor$Contrato.tipoContCon == 'Contrato'}"  action="#{Supervisor$ModificarContrato.iniciarModicontrato}"/>
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-menu-detalle-text" style="width: 120px" value="Modificar #{Supervisor$Contrato.tipoContCon}"  action="#{Supervisor$ModificarContrato.iniciarModicontrato}"/>
                </h:panelGroup>
                <h:panelGroup layout="block" > 
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-posicion-nuevo-evolucion-admconvenio"   action="#{Supervisor$Contrato.iniciarEvolucionContrato}"  />
                    <h:commandLink styleClass="ikont-img-posicion-administrar-convenio ikont-menu-detalle-text" value="EvoluciÃ³n"  action="#{Supervisor$Contrato.iniciarEvolucionContrato}"  />
                </h:panelGroup>
            </h:panelGrid>
        </h:panelGroup>
    </h:form>
    <script src="/#{var.versioncobra}/resources/gSlider/js/jquery-1.4.4.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        var $j = jQuery.noConflict();
        var $jq = jQuery.noConflict();
        $jq(document).ready(function() {

            $('.ikont-img-posicion-administrar-convenio').each(function() {
                $(this).removeClass('scrollactive');
                $(this).removeClass('buttonactive');
            });
            $('.ikont-img-posicion-administrar-convenio').each(function() {
                $(this).bind({
                    click: function() {
                        $(this).removeClass('scrollactive');
                        localStorage.setItem('accionAdminConvenio', $(this).attr('class'));
                    }
                });
                if ($(this).hasClass(localStorage.getItem('accionAdminConvenio'))) {
                    $(this).parent().find('a').each(function() {
                        $(this).addClass('buttonactive');
                    });
                } else {
                    $(this).parent().find('a').each(function() {
                        $(this).removeClass('buttonactive');
                    });
                }
            });
            $('.ikont-hpg-content-menuinicio:first').hover(function() {
                $('body').append($('<div/>').addClass('menuprincipalactive').hover(function() {
                    $(this).remove();
                    $('#menuprincipal').animate({width: '0px'}, function() {
                        $('#menuprincipal').removeClass('hovermenuprincipal');
                    });
                })
                        )
                $('#menuprincipal').addClass('hovermenuprincipal');
                $('#menuprincipal').animate({width: '268px'});
            });
            $('#menuprincipal').hover(null, function() {
                $('.menuprincipalactive:first').remove();
                $('#menuprincipal').animate({width: '0px'}, function() {
                    $('#menuprincipal').removeClass('hovermenuprincipal');
                });
            });
        });
        $j(window).scroll(function() {
            var $jq = jQuery.noConflict();
            if (window.pageYOffset > 180) {
                $('.ikont-hpg-menu-contenido-administrar-convenio:first').addClass('scrollactive');
                $('.ikont-img-posicion-administrar-convenio').each(function() {
                    $(this).addClass('scrollmenudetalle');
                });
            } else {
                $('.ikont-hpg-menu-contenido-administrar-convenio:first').removeClass('scrollactive');
                $('.ikont-img-posicion-administrar-convenio').each(function() {
                    $(this).removeClass('scrollmenudetalle');
                });
            }
        });

    </script>

</ui:composition>
