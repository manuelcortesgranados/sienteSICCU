<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:rich="http://richfaces.org/rich"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j" 
    xmlns:interkont="http://www.interkont.com/jsf"
>


    <rich:panel header="Administrar Proyecto" id="menuAdministrar" bodyClass="admin"  rendered="#{!SessionBeanCobra.cobraService.ciu}" >
        <h:panelGrid columns="3" cellpadding="0" cellspacing="0" >
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndetalle}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciardeta}" immediate="true" />
                <h:commandLink class="ikont-"   value="Detalle" action="#{Supervisor$AdministrarObraNew.iniciardeta}" immediate="true" />
            </h:panelGrid>
            

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnreporte_avance and Supervisor$AdministrarObraNew.obra.solicitudmaestro==null and !Supervisor$AdministrarObraNew.obra.booleantienehijos}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarAliment}"
                               immediate="true"/>
                <a4j:commandLink class="ikont-"   value="Reportar Avance" action="#{Supervisor$AdministrarObraNew.iniciarAliment}"
                                 render="panelBody" immediate="true" />                
            </h:panelGrid>

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnreporte_avance and Supervisor$AdministrarObraNew.obra.solicitudmaestro!=null}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$SeguimientosAh.iniciarSeguimientosAh}"
                               immediate="true"/>
                <a4j:commandLink class="ikont-"   value="Seguimientos Atención Humanitaria" action="#{Supervisor$SeguimientosAh.iniciarSeguimientosAh}"
                                 render="panelBody" immediate="true" />

            </h:panelGrid>

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnmodificar}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarModif}"
                               immediate="true" />
                <h:commandLink class="ikont-"   value="Modificar" action="#{Supervisor$AdministrarObraNew.iniciarModif}"
                               immediate="true" />
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnevolucion and !Supervisor$AdministrarObraNew.obra.booleantienehijos}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarEvolucion}"
                               immediate="true" />
                <h:commandLink class="ikont-"   value="Evolucion" action="#{Supervisor$AdministrarObraNew.iniciarEvolucion}"
                               immediate="true" />
            </h:panelGrid>

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndocumentos}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarDocumentos}" immediate="true" />
                <h:commandLink class="ikont-"   value="Documentos" action="#{Supervisor$AdministrarObraNew.iniciarDocumentos}" immediate="true" />
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnimagenes}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarImagenes}" immediate="true" />
                <h:commandLink class="ikont-"   value="Imagenes" action="#{Supervisor$AdministrarObraNew.iniciarImagenes}" immediate="true" />
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnvideos}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarVideos}" immediate="true" />
                <h:commandLink class="ikont-"   value="Videos" action="#{Supervisor$AdministrarObraNew.iniciarVideos}" immediate="true" />
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnfinalizar}"> 
                <h:commandLink class="ikont-"   action="#{Supervisor$AdministrarObraNew.iniciarFinalizar}"
                               immediate="true" />
                <h:commandLink class="ikont-"   value="Finalizar" action="#{Supervisor$AdministrarObraNew.iniciarFinalizar}"
                               immediate="true" />
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnasociar_consultoria}" >
                <h:commandLink class="ikont-"   action="#{Supervisor$AsociarContratos.llenarlistacontratosProyecto}"
                               immediate="true"/>
                <h:commandLink class="ikont-"   value="Asociar Contratos" action="#{Supervisor$AsociarContratos.llenarlistacontratosProyecto}"
                               immediate="true"/>
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnsolicitarValInf and Supervisor$AdministrarObraNew.obra.solicitud_obra !=null}">
                <h:commandLink class="ikont-"    action="#{Supervisor$AdministrarObraNew.iniciarSolicitarValidacion}"/>
                <a4j:commandLink class="ikont-"   value="Solicitar validar información" action="#{Supervisor$AdministrarObraNew.iniciarSolicitarValidacion}"
                                 render="panelBody"/>
            </h:panelGrid>

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btndevolvervig and !Supervisor$AdministrarObraNew.obra.booleantienehijos}">
                <h:commandLink class="ikont-"    action="cambiarestado"/>
                <a4j:commandLink class="ikont-"   value="Cambiar estado del proyecto" action="cambiarestado"
                                 render="panelBody"/>
            </h:panelGrid>

            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btneliminarAvance and !Supervisor$AdministrarObraNew.obra.booleantienehijos}">
                <h:commandLink class="ikont-"    action="#{Supervisor$AdministrarObraNew.iniciarEliminarUltimoAvance}"/>
                <a4j:commandLink class="ikont-"   value="Eliminar último avance" action="#{Supervisor$AdministrarObraNew.iniciarEliminarUltimoAvance}"
                                 render="panelBody"/>
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{Supervisor$AdministrarObraNew.obra.solicitud_obra !=null and SessionBeanCobra.usuarioObra.renderrecurso.btnhistorevinformacion}">

                <a4j:commandLink  class="ikont-"    execute="@this" immediate="true"
                                action="#{Supervisor$DetalleObra.reporteHistorialValidaciones}" />                                    

                <a4j:commandLink class="ikont-"    execute="@this" immediate="true"
                                 value="Historial revisiones de información" action="#{Supervisor$DetalleObra.reporteHistorialValidaciones}"  />


            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" rendered="#{!empty Supervisor$AdministrarObraNew.obra.obra}">
                <a4j:commandLink execute="@this" class="ikont-"   rendered="#{Supervisor$AdministrarObraNew.obra.obra.tipoestadobra.intestadoobra == 0}"
                                 immediate="true" id="irDatosBasicos"  onclick="document.location.href='../faces/NuevoProyecto/datosBasicos.xhtml?id=#{Supervisor$AdministrarObraNew.obra.obra.intcodigoobra}';">
                </a4j:commandLink>
                <a4j:commandLink execute="@this" class="ikont-"   value="#{var.proysuperior}" immediate="true"
                                 onclick="document.location.href='../faces/NuevoProyecto/datosBasicos.xhtml?id=#{Supervisor$AdministrarObraNew.obra.obra.intcodigoobra}';" 
                                 rendered="#{Supervisor$AdministrarObraNew.obra.obra.tipoestadobra.intestadoobra == 0}"/>
                <a4j:commandLink execute="@this" class="ikont-"   rendered="#{Supervisor$AdministrarObraNew.obra.obra.tipoestadobra.intestadoobra >= 1}"
                            immediate="true" onclick="document.location.href='../faces/Supervisor/DetalleObra.xhtml?id=#{Supervisor$AdministrarObraNew.obra.obra.intcodigoobra}';">
                </a4j:commandLink>
                <a4j:commandLink execute="@this" class="ikont-"   value="#{var.proysuperior}" immediate="true"
                                 onclick="document.location.href='../faces/Supervisor/DetalleObra.xhtml?id=#{Supervisor$AdministrarObraNew.obra.obra.intcodigoobra}';"
                                 rendered="#{Supervisor$AdministrarObraNew.obra.obra.tipoestadobra.intestadoobra >= 1}"/>
            </h:panelGrid>
            <h:panelGrid class="ikont-"   cellpadding="0" cellspacing="0" 
                         rendered="#{SessionBeanCobra.usuarioObra.renderrecurso.btnproyecto and Supervisor$AdministrarObraNew.obra.booleantienehijos}">
                <a4j:commandLink  execute="@this" class="ikont-"   action="#{Supervisor$IngresarNuevaObra.crearSubProyecto}" render="panelBody" immediate="true"  />
                <a4j:commandLink  class="ikont-"   value="#{var.nuevosubproyecto}" action="#{Supervisor$IngresarNuevaObra.crearSubProyecto}" render="panelBody" immediate="true" />
            </h:panelGrid>

        </h:panelGrid>
    </rich:panel>

    <interkont:spacer height="5px"/>

    <rich:panel header="#{var.datosgenerales}" bodyClass="rich-panel-grid-body" rendered="#{!SessionBeanCobra.cobraService.ciu}">
        <h:panelGrid columns="4" columnClasses="labelsDatos,labelsDatos,labelsDatos, labelsDatos" cellpadding="1px"  >
            <interkont:spacer height="5"/>
            <interkont:spacer height="5"/>
            <interkont:spacer/><interkont:spacer />
            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stEstadoDetalle"  value="#{var.estado}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stEstado" class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.numvalejecobra/Supervisor$AdministrarObraNew.obra.numvaltotobra}">
                <f:convertNumber  maxFractionDigits="2" pattern="###.## %"/>
            </h:outputText>
            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stContratistaDetalle"  value="#{var.houtcontratis}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stContratanteDetalle" class="ikont-"   value="#{Supervisor$DetalleObra.contratistanombrecomple}"/>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stInterventorDetalle"  value="#{var.houtsupervisor}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stInterventorDeta" class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.strinterventor}"/>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stNumContratoDetalle"  value="#{var.houtnrocontrato}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stNumContratoDeta"  class="ikont-"   value="#{Supervisor$DetalleObra.idcontratos}"/>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stPlazoDetalle"  value="#{var.plazo}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stPlazoDeta" class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.intplazoobra} #{var.dias}"/>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stFecIni"  value="#{var.fechadeinicio}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.datefeciniobra}" >
                <f:convertDateTime pattern="yyyy-MMM-dd"/>
            </h:outputText>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stFecFin"  value="#{var.fechadefinalizacion}"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.datefecfinobra}" >
                <f:convertDateTime pattern="yyyy-MMM-dd"/>
            </h:outputText>

            <interkont:spacer width="5"/>
            <h:outputText  class="ikont- "   id="stValorDetalle"  value="#{var.valor} del proyecto"/>
            <interkont:spacer width="10"/>
            <h:outputText  class="ikont- "   id="stValorTotalDeta" class="ikont-"   value="#{Supervisor$AdministrarObraNew.obra.numvaltotobra}">
                <f:convertNumber pattern="$#,###"/>
            </h:outputText>

            <interkont:spacer width="5" rendered="#{Supervisor$AdministrarObraNew.obra.contrato.booltipocontratoconvenio}"/>
            <h:outputLabel  class="ikont- "   value="Sector:" rendered="#{Supervisor$AdministrarObraNew.obra.contrato.booltipocontratoconvenio}"/>
            <interkont:spacer width="5" rendered="#{Supervisor$AdministrarObraNew.obra.contrato.booltipocontratoconvenio}"/>
            <h:outputText  class="ikont- "   value="#{Supervisor$AdministrarObraNew.obra.contrato.tercero.sector.strnombre}" rendered="#{Supervisor$AdministrarObraNew.obra.contrato.booltipocontratoconvenio}"/>

            <interkont:spacer width="5" rendered="#{not empty Supervisor$AdministrarObraNew.obra.solicitud_obra}"/>
            <h:outputText  class="ikont- "   id="stCodigoSolicitud"  value="#{var.totalobra}" rendered="#{not empty Supervisor$AdministrarObraNew.obra.solicitud_obra}"/>

            <interkont:spacer width="10" rendered="#{not empty Supervisor$AdministrarObraNew.obra.solicitud_obra}"/>
            <h:outputText  class="ikont- "   id="stOtTextcodsol" class="ikont-"   value="#{Supervisor$DetalleObra.valorinterventoria +Supervisor$AdministrarObraNew.obra.numvaltotobra}" rendered="#{not empty Supervisor$AdministrarObraNew.obra.solicitud_obra}">
                <f:convertNumber pattern="$#,###"/>
            </h:outputText>
        </h:panelGrid>
    </rich:panel>
    <h:panelGroup rendered="#{SessionBeanCobra.cobraService.ciu}">
        <ui:include src="/facelets/Informacion_general_Participacion.xhtml" />
    </h:panelGroup>
    <h:panelGroup rendered="#{SessionBeanCobra.cobraService.ciu}">
        <ui:include src="/Ciudadano/Slider_informacion_general_ciud.xhtml"/>
    </h:panelGroup>
</ui:composition>
