<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<project name="compileGiprom" default="-pre-compile" basedir="..">
    <description>Archivo para compilar y generar Cobra</description>      
   
    
    <condition property="isgiprom">
        <equals arg1="${version}" arg2="giprom" />        
    </condition>  
  
    <target name="doGiprom" if="isgiprom" >
        
        <echo message="generando giprom" />       
        <copy todir="${build.web.dir}/resources/imgs">
            <fileset dir="web/configuracion/${version}/resources/imgsfcm/" excludes="${build.web.excludes}"/>
        </copy>
        <copy todir="${build.web.dir}/resources/css">
            <fileset dir="web/configuracion/${version}/resources/cssfcm/" excludes="${build.web.excludes}"/>
        </copy>
       
        <copy todir="${build.web.dir}/resources/js/login">
            <fileset  dir="web/configuracion/${version}/resources/loginfcm/" excludes="${build.web.excludes}"/>
        </copy>
       
        <copy todir="${build.web.dir}/facelets">
            <fileset  dir="web/facelets/" excludes="${build.web.excludes}"/>
        </copy>
        <copy todir="${build.web.dir}/homes">
            <fileset  dir="web/configuracion/${version}/home/" excludes="${build.web.excludes}"/>
        </copy>
        <copy todir="${build.web.dir}/resources/org.richfaces">
            <fileset  dir="web/configuracion/${version}/resources/org.richfacesfcm/" excludes="${build.web.excludes}"/>            
        </copy>       
       <copy todir="${build.web.dir}/resources/js/analytics">
            <fileset  dir="web/configuracion/${version}/analytics/" excludes="${build.web.excludes}"/>
        </copy>
        <copy todir="${build.web.dir}/META-INF/" file="web/configuracion/${version}/META-INF/context.xml"/>        
        <copy todir="${build.web.dir}/WEB-INF/" file="web/configuracion/${version}/WEB-INF/applicationContext.xml"/>
        <copy todir="${build.web.dir}/WEB-INF/" file="web/configuracion/${version}/WEB-INF/faces-config.xml"/>
        <copy todir="${build.web.dir}/WEB-INF/" file="web/configuracion/${version}/WEB-INF/web.xml"/>        
        <copy todir="${build.web.dir}/resources/" file="web/configuracion/${version}/resources/skinning.ecss"/>
        <copy todir="${build.classes.dir}/" file="web/configuracion/${version}/properties/log4j.properties"/>
        <copy todir="${build.web.dir}/Supervisor/" file="web/configuracion/${version}/supervisor/DetalleObra.xhtml"/>
        <copy todir="${build.web.dir}/Supervisor/" file="web/configuracion/${version}/supervisor/filtrozoom.xhtml"/>
        


        <!--    
    <script language="javascript">
          sProp = project.getProperty("source.encoding");
          sProp = sProp.replace("UTF", "ly");
          project.setProperty("source.encoding", sProp);
          project.setNewProperty("source.encoding", "new value");
        </script>
        <property name="a" value="two" />
        <echo>a=${source.encoding}</echo>
        <script language="javascript">
          sProp = project.getProperty("excludes");
          sProp = sProp.concat("**/AdiministrarEntidad.class");
          project.setProperty("excludes", sProp);
          project.setNewProperty("excludes", "new value");
        </script>-->
    
    </target> 
    
    <target name="doGipromPostCompile" if="isgiprom" >
        <delete dir="${build.web.dir}/AtencionHumanitaria"/>
        <delete dir="${build.web.dir}/Administrador"/>
        <delete dir="${build.web.dir}/ControlGerencial"/>
        <delete dir="${build.web.dir}/Financiera"/>
        <delete dir="${build.web.dir}/ModificarProyecto"/>
        <delete dir="${build.web.dir}/NuevoProyecto"/>
        <delete dir="${build.web.dir}/SolicitudObra"/>
        <delete dir="${build.web.dir}/SupervisionExterna"/>
        <delete dir="${build.web.dir}/mensajes"/>  

        <delete dir="${build.web.dir}/WEB-INF/classes/cobra/Administrador" />
        <!--
        <delete file="${build.web.dir}/WEB-INF/lib/GxtGantt.jar"/>
        <delete file="${build.web.dir}/WEB-INF/lib/gwt-servlet-deps.jar"/>
        <delete file="${build.web.dir}/WEB-INF/lib/gwt-servlet.jar"/>
        <delete file="${build.web.dir}/WEB-INF/lib/gxt-3.0.6.jar"/>
        <delete file="${build.web.dir}/WEB-INF/lib/gxt-chart-3.0.6.jar"/>
        <delete file="${build.web.dir}/WEB-INF/lib/gxt-legacy-3.0.6.jar"/>
        
         <delete file="${build.web.dir}/WEB-INF/lib/marcologicorepository_1.0.jar"/>
        -->
        <delete dir="${build.web.dir}/resources/video" />        
    </target>
</project>

